(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,,,function(e,t,n){"use strict";var o=n(40);e.exports={readData:o.readData,writeData:o.writeData,readComponent:o.readComponent,writeComponent:o.writeComponent,popHistory:o.popHistory}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.findParent=function e(t,n){var r=n.contents;for(var i=0;i<r.length;i++){var s=r[i];t===s&&(a=n),"object"===(void 0===s?"undefined":o(s))&&e(t,s)}return a},t.findParentFolder=function e(t,n){var r=n.contents;for(var a=0;a<r.length;a++){var s=r[a];"object"===(void 0===s?"undefined":o(s))&&(s.name===t&&(i=n),e(t,s))}return i},t.findFolder=function e(t,n){if("string"==typeof n)return!1;if("object"===(void 0===n?"undefined":o(n))){n.name===t&&(r=n);for(var a=n.contents,i=0;i<a.length;i++){var s=a[i];e(t,s)}}return r};var r="",a="",i=""},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.saveComponentsToWindow=function(e){e.forEach(function(e){!function(e){(0,a.hasAssets)(e.state)&&(e.state=JSON.parse((0,a.nameToURL)(JSON.stringify(e.state))));(function(e,t){window.assets&&(e=(0,a.nameToURL)(e));[].concat(i(document.querySelectorAll("[data-component-name='"+t+"']"))).forEach(function(e){e.remove()});var n=document.createElement("style");n.setAttribute("data-component-name",t),n.type="text/css",n.innerHTML=e,document.body.appendChild(n)})(e.style,e.name),window[e.name]=(0,o.createComponent)(e)}(JSON.parse(JSON.stringify(e)))})},t.getChildren=function(e){var t=(0,r.readData)("ui-editor");if(s(e.markup)){return t.filter(function(t){return e.markup.includes(t.name)}).map(function(e){return e.name})}return[]},t.getNestedComponents=function e(t){var n=(0,r.readData)("ui-editor");var o=[t];if(s(t.markup)){var a=n.filter(function(e){return t.markup.includes(e.name)}),l=a.map(e).flat(3);o.push.apply(o,i(l))}return o.filter(function(e){return e&&e.markup})};var o=n(57),r=n(3),a=n(59);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e){return(0,r.readData)("ui-editor").filter(function(t){return e.includes(t.name)}).length>0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.findParent=function e(t,n){var r=n.contents;for(var i=0;i<r.length;i++){var s=r[i];t===s&&(a=n),"object"===(void 0===s?"undefined":o(s))&&e(t,s)}return a},t.findParentFolder=function e(t,n){var r=n.contents;for(var a=0;a<r.length;a++){var s=r[a];"object"===(void 0===s?"undefined":o(s))&&(s.name===t&&(i=n),e(t,s))}return i},t.findFolder=function e(t,n){if("string"==typeof n)return!1;if("object"===(void 0===n?"undefined":o(n))){n.name===t&&(r=n);for(var a=n.contents,i=0;i<a.length;i++){var s=a[i];e(t,s)}}return r};var r="",a="",i=""},,,,,,function(e,t,n){var o=n(16);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,'body {\n    position:relative;\n    color: #d9d9d9;\n    font-family: "Nunito Sans",-apple-system,".SFNSText-Regular","San Francisco",BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Helvetica,Arial,sans-serif;\n    margin: 0px;\n}\n\nli , label, p, .rules , input, textarea{\n    font-size: 9px;\n}\n\ninput, textarea { \n    background: #2b2b2b;\n    color: #d9d9d9;\n    opacity: 0.75;\n    vertical-align: bottom;\n}\n\ninput[type="text"] {\n    -webkit-appearance: textarea;\n    color: rgba(255,255,255,0.5);\n    border-color: rgba(0,0,0,0.9);\n    border-width: 1px;\n    padding: 7px;\n}\n\nul label input {\n    width: 10px;\n}\n\nul, li {\n    padding-left: 5px;\n    margin-top: 0px;\n    margin-bottom: 0px;\n}\n\nbutton {\n    color: rgba(255,255,255,0.5);\n    border-color: rgba(0,0,0,0.9);\n    border-width: 1px;\n    padding: 5px;\n    background-color: #343a40;\n    margin-left: 4px;\n}\n\nbutton i{\n    padding-right:4px;\n}\n\nbutton:hover {\n    color: #fff;\n    background: rgb(43, 43, 43);\n}\n\nul,li, ul label {\n    color: rgba(255,255,255,0.5);\n}\n\nul label:hover, li:hover, .content:hover{\n    color: #fff;\n    background: rgb(43, 43, 43);\n}\n\n#index{\n    margin:-4px;\n}\n\n.CodeMirror {\n    border: 1px solid black;\n    margin-top:5px;\n}\n\n.container{\n    padding: 5px;\n    background: #2C3134;\n}',""])},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=s(r);n(19);var i=s(n(21));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={components:n.props.components,folders:n.props.folders,showControls:n.props.showControls},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"addFolder",value:function(){var e=Array.from(this.state.folders);e.unshift({type:"NewFolder",name:"",contents:[],status:"closed"}),this.setState({folders:e})}},{key:"addComponent",value:function(){this.props.onOpenEditor()}},{key:"render",value:function(){var e=this.props,t=this.state;return a.default.createElement("div",{className:"container elements-tab"},a.default.createElement("div",{className:"title"},"Components"),a.default.createElement("div",{className:"Controls"},a.default.createElement("button",{onClick:this.addComponent.bind(this)},a.default.createElement("i",{className:"fa fa-edit"}),e.selectedComponent?"Edit":"Add"),a.default.createElement("button",{onClick:this.addFolder.bind(this)},a.default.createElement("i",{className:"fa fa-folder"}),"Folder")),a.default.createElement("div",{className:"folders"},a.default.createElement(i.default,{key:Math.ceil(1e3*Math.random()),components:t.components,folders:t.folders,selectedComponent:e.selectedComponent,onFoldersUpdate:e.onFoldersUpdate,onSelection:e.onSelection})))}}]),t}();t.default=l},function(e,t,n){var o=n(20);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".override {\n    line-height: 0%;\n}\n\ntextarea {\n    height: 70px;\n    width: 450px;\n}\n\n.title{\n    margin-top: 15px;\n    margin-bottom: 11px;\n    color: rgba(255,255,255,0.5);\n    background: rgb(64, 64, 64);\n    padding: 5px;\n    font-size: 12px;\n}\n\n.elements-tab {\n    left:0px;\n    height: 100vh;\n    width:150px;;\n}\n\n.folders{\n    overflow: scroll;  \n    height:85vh;\n}\n\n.Controls{\n    display: inline-block;\n    opacity: 1;\n    transition: opacity .2s ease-in;\n}\n\n.hideControls{\n    opacity: 0;\n    transition: opacity .5s ease-in-out;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),s=((o=i)&&o.__esModule,n(6));n(22);var l=n(24);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={components:n.props.components,folders:n.props.folders},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"removeFolderFromParent",value:function(e,t,n){var o=(0,s.findFolder)(t,e[0]),a=o.contents.findIndex(function(e){return"object"===(void 0===e?"undefined":r(e))&&e.name===n});a>-1&&o.contents.splice(a,1)}},{key:"removeContentFromParent",value:function(e,t,n){var o=(0,s.findFolder)(t,e[0]),r=o.contents.findIndex(function(e){return e===n});-1!==r&&o.contents.splice(r,1)}},{key:"onFolderUpdate",value:function(e,t,n,o){var r=Array.from(this.state.folders),a=e.name,i=(0,s.findFolder)(a,r[0]);if("NEWFOLDER"==t){var l=r.findIndex(function(e){return"NewFolder"===e.type});-1!==l&&r.splice(l,1),r[0].contents.unshift(e)}"COMPONENT"==t?(i.contents=e.contents,this.removeContentFromParent(r,n,o)):"FOLDER"==t&&(i.contents=e.contents,this.removeFolderFromParent(r,n,o,a)),this.props.onFoldersUpdate(r)}},{key:"onFolderStatusChanged",value:function(e){(0,s.findFolder)(e.name,this.state.folders[0]).status=e.status,this.props.onFoldersUpdate(this.state.folders)}},{key:"render",value:function(){return(0,l.folderStructure)(this.props,this.onFolderUpdate.bind(this),this.onFolderStatusChanged.bind(this))}}]),t}();t.default=u},function(e,t,n){var o=n(23);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".newFolder{\n    user-select: none;\n}\n\n.newFolder i{\n    color: rgba(255,255,255,0.5);\n    border-color: rgba(0,0,0,0.9);\n    border-width: 1px;\n    padding: 7px;\n}\n\n.newFolder.dragOver i{\n    animation: blink .5s infinite;\n}\n\n@keyframes blink{\n    from {    \n        color: rgba(255,255,255,0.5);\n    }\n    to {\n        color: white;\n    }\n}\n.fa.fa-folder ~ ul {\n    display: none;\n}\n.fa.fa-folder-open ~ ul {\n    display:block;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.folderStructure=function(e,t,n){var o=e.folders;return p(e,t,n),o.map(f)};var o=a(n(25)),r=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}var i=void 0,s=void 0,l=void 0,u=void 0,c=void 0,d=void 0;function p(e,t,n){c=e.folders,i=e.selectedComponent,s=e.onSelection,u=e.components,l=t,d=n}function f(e,t){var n=e.contents;return React.createElement(o.default,{key:t,folder:e,folders:c,contents:n.map(m),onFolderStatusChanged:d,onFolderUpdate:l})}function m(e,t){if("string"==typeof e)return React.createElement(r.default,{key:t,component:u.find(function(t){return t.name===e}),selectedComponent:i,onSelectionChange:s});var n=e;return React.createElement(o.default,{key:t,folder:n,folders:c,contents:n.contents.map(m),onFolderStatusChanged:d,onFolderUpdate:l})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=u(r);n(26);var i=u(n(28)),s=n(31),l=n(32);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={iconStatus:"fa fa-folder",folderClass:"newFolder",name:n.props.folder.name,contents:n.props.folder.contents,type:n.props.folder.type,status:n.props.folder.status},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"newFolder",value:function(e){this.props.onFolderUpdate(e,"NEWFOLDER")}},{key:"render",value:function(){var e=this.props.folder,t=this.props.contents,n="open"===this.state.status?"fa fa-folder-open":"fa fa-folder";return"NewFolder"==e.type?a.default.createElement(i.default,{onNewFolder:this.newFolder.bind(this)}):"folder"==e.type?a.default.createElement("div",{className:this.state.folderClass,"data-folder-name":e.name,draggable:"true",onDrop:l.dropHandler.bind(this),onDragOver:l.dragOverHandler.bind(this),onDragLeave:l.dragLeaveHandler.bind(this),onDragStart:l.folderStartDrag.bind(this)},a.default.createElement("i",{className:n,onClick:s.toggleFolder.bind(this)}),a.default.createElement("input",{type:"text",className:"folder",placeholder:"Enter folder name",readOnly:!0,value:this.state.name}),"open"===this.state.status?t:null):"noFolder"==e.type?a.default.createElement("div",{className:this.state.folderClass,"data-folder-name":e.name,draggable:"true",onDrop:l.dropHandler.bind(this),onDragOver:l.dragOverHandler.bind(this),onDragLeave:l.dragLeaveHandler.bind(this),onDragStart:l.folderStartDrag.bind(this)},t):void 0}}]),t}();t.default=c},function(e,t,n){var o=n(27);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"input.folder{\n    border:none;\n    background:none;\n    padding-bottom: 13px;\n}\n\n.newFolder{\n    user-select: none;\n}\n\n.newFolder i{\n    color: rgba(255,255,255,0.5);\n    border-color: rgba(0,0,0,0.9);\n    border-width: 1px;\n    padding: 7px;\n}\n\n.newFolder.dragOver i{\n    animation: blink .5s infinite;\n}\n\n@keyframes blink{\n    from {    \n        color: rgba(255,255,255,0.5);\n    }\n    to {\n        color: white;\n    }\n}\n.fa.fa-folder ~ ul {\n    display: none;\n}\n.fa.fa-folder-open ~ ul {\n    display:block;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(29);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={status:"fa fa-folder",newFolderClass:"newFolder",folderName:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"folderNameChanged",value:function(e){this.setState({folderName:e.currentTarget.value})}},{key:"saveFolderNameOnEnter",value:function(e){"Enter"===e.key&&this.props.onNewFolder({name:this.state.folderName,contents:[],type:"folder",status:"closed"})}},{key:"render",value:function(){return i.default.createElement("div",{className:this.state.newFolderClass},i.default.createElement("i",{className:this.state.status}),i.default.createElement("input",{type:"text",className:"folder",autoFocus:!0,placeholder:"Enter folder name",value:this.state.folderName,onChange:this.folderNameChanged.bind(this),onKeyPress:this.saveFolderNameOnEnter.bind(this)}))}}]),t}();t.default=s},function(e,t,n){var o=n(30);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".newFolder i{\n    color: rgba(255,255,255,0.5);\n    border-color: rgba(0,0,0,0.9);\n    border-width: 1px;\n    padding: 7px;\n}\n\n.newFolder.dragOver i{\n    animation: blink .5s infinite;\n}\n\n@keyframes blink{\n    from {    \n        color: rgba(255,255,255,0.5);\n    }\n    to {\n        color: green;\n    }\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleFolder=function(){"closed"===this.state.status?function(){var e=JSON.parse(JSON.stringify(this.state));e.status="open",this.props.onFolderStatusChanged(e)}.call(this):function(){var e=JSON.parse(JSON.stringify(this.state));e.status="closed",this.props.onFolderStatusChanged(e)}.call(this)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropHandler=function(e){e.preventDefault();var t=e.dataTransfer.getData("component-name"),n=e.dataTransfer.getData("folder-name"),r=e.dataTransfer.getData("parent-folder-name"),a=this.state.name;if(r===a)return void this.setState({folderClass:"newFolder",status:"closed"});if(""===t){if("null"==n||""==n)return void console.error("Folder cannot be empty");(function(e,t){var n=Array.from(this.state.contents),r=(0,o.findFolder)(e,this.props.folders[0]);n.push(r),e&&e!==this.state.name&&this.props.onFolderUpdate({name:this.state.name,contents:n,type:"folder",status:"open"},"FOLDER",t,e)}).call(this,n,r)}else(function(e,t){var n=Array.from(this.state.contents);n.push(e),this.props.onFolderUpdate({name:this.state.name,contents:n,type:"folder",status:"open"},"COMPONENT",t,e)}).call(this,t,r);console.log("Drop from folder"),e.stopPropagation()},t.dragOverHandler=function(e){e.preventDefault(),this.setState({folderClass:"newFolder dragOver",status:"open"})},t.dragLeaveHandler=function(e){this.setState({folderClass:"newFolder",status:"closed"})},t.folderStartDrag=function(e){var t=event.target.getAttribute("data-folder-name"),n=event.target.parentElement.getAttribute("data-folder-name");e.dataTransfer.setData("folder-name",t),e.dataTransfer.setData("parent-folder-name",n),console.log("Folder "+t+" draged with parent "+n)};var o=n(6)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o},s=n(34);n(35);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedComponent:n.props.selectedComponent},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"addComponentDetails",value:function(e){var t=event.target.getAttribute("data-name");e.dataTransfer.setData("component-name",t),e.dataTransfer.setData("parent-folder-name",e.currentTarget.parentElement.getAttribute("data-folder-name")),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.selectedComponent,n=e.component;return i.default.createElement("li",{className:t&&e.component.name===t.name?"selected component background":"component background",onClick:s.selectionChanged.bind(this,n.name),onContextMenu:s.selectionChanged.bind(this,n.name),index:e.index,draggable:"true","data-name":n.name,onDragStart:this.addComponentDetails.bind(this)},i.default.createElement("span",{className:"componentName "},n.name))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectionChanged=function(e,t){this.props.onSelectionChange(e,t)}},function(e,t,n){var o=n(36);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"/* Show green when component is selected*/\n\n.selected, .green {\n    border: 1px solid green;\n    background: rgb(43, 43, 43);\n}\n\n/* Show dark background to components */\n\n.background {\n    background: rgb(64, 64, 64);\n    border: 1px solid #333333;\n}\n\n/* Show some spacing before the component name */\n\n.component .componentName{\n    padding:7px;\n}\n\n.component {\n    display:flex;\n}\n\n/* Show comopnent preview onDrag*/\n\n.dragStarted span:not(.componentName){\n    display:none;\n}\n\n.hidden{\n    display: none;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(38);var s=n(3),l=n(7);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=(0,s.readComponent)(n.props.name);return n.state={trueName:o?o.name:"",name:o?o.name:"",markup:o?o.markup:"",state:o?o.state:"",style:o?o.style:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"saveElement",value:function(){this.props.onSave({trueName:this.state.trueName,name:this.state.name,markup:this.state.markup,style:this.state.style,state:this.state.state})}},{key:"saveName",value:function(e){this.setState({name:e.currentTarget.value})}},{key:"render",value:function(){var e=this,t=(this.state.name,this.state.markup),n=this.state.style,o=this.state.state;return i.default.createElement("div",{className:"container editor-tab"},i.default.createElement("button",{onClick:this.saveElement.bind(this),id:"save"},i.default.createElement("i",{className:"fas fa-save"}),"Save & close"),i.default.createElement("div",null,i.default.createElement("div",{className:"editor name"},i.default.createElement("div",{className:"title"},"Component Name"),i.default.createElement("input",{type:"text",placeholder:"Enter element name",value:this.state.name,onChange:this.saveName.bind(this),id:"elementName"})),i.default.createElement("div",{className:"editor markup"},i.default.createElement("div",{className:"title"},"Component Markup"),i.default.createElement(l.UnControlled,{autoCursor:!1,value:t,options:{lineNumbers:!1,mode:"text/javascript",theme:"darcula",indentWithTabs:!1,smartIndent:!0,lineWrapping:!0},onChange:function(t,n,o){e.setState({markup:o})}})),i.default.createElement("div",{className:"editor css"},i.default.createElement("div",{className:"title"},"Component CSS"),i.default.createElement(l.UnControlled,{autoCursor:!1,value:n,options:{lineNumbers:!1,mode:"text/javascript",theme:"darcula",indentWithTabs:!1,smartIndent:!0,lineWrapping:!0},onChange:function(t,n,o){e.setState({style:o})}})),i.default.createElement("div",{className:"editor state"},i.default.createElement("div",{className:"title"},"Component State"),i.default.createElement(l.UnControlled,{autoCursor:!1,value:o,options:{lineNumbers:!1,mode:"text/javascript",theme:"darcula",indentWithTabs:!1,smartIndent:!0,lineWrapping:!0},onChange:function(t,n,o){e.setState({state:o})}}))))}}]),t}();t.default=u},function(e,t,n){var o=n(39);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".editor-tab {\n    width: 100vw;\n    animation: slide-up 0.2s ease;\n}\n\n@keyframes slide-up {\n    0% {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\ninput.folder:read-only {\n    pointer-events: none;\n}\n\n\n.editor-tab button {\n    position: absolute;\n    top: -5%;\n    left: 50%;\n    -moz-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translateX(-50%) translateY(-50%);\n    transform: translateX(-50%) translateY(-50%);\n}\n\n.showEditor{\n    margin-bottom:30px;\n}\n\n.editor.name{\n    width:10%;\n}\n\n.editor{\n    width: 29%;\n    display: inline-block;\n    margin: 5px;\n    margin-top: 2px;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readData=r,t.writeData=a,t.readComponent=function(e){var t=r("ui-editor");if(!t)return;return t.find(function(t){return t.name===e})},t.writeComponent=function(e){if(!Array.isArray(e)&&e.name){var t=r("ui-editor"),n=t.findIndex(function(t){return t.name===e.name});t[n]=e,a("ui-editor",t)}},t.popHistory=function(){var e=r("ui-editor-history");if(!e)return;var t=e.pop();if(!e)return;a("ui-editor-history",e,!0),a("ui-editor",t,!0)};var o=n(41);function r(e){if("ui-editor"===e)return window.components||(window.components=JSON.parse(localStorage.getItem(e))||o),JSON.parse(JSON.stringify(window.components));if("ui-editor-history"===e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}if("folders"===e){var n=JSON.parse(localStorage.getItem(e));return null===n?[{type:"noFolder",contents:["Canvas","Resizable","Movable"]}]:n}return[]}function a(e,t,n){"folders"==e&&localStorage.setItem(e,JSON.stringify(t)),"ui-editor"==e&&(console.log("WRITE"),window.components=t,localStorage.setItem(e,JSON.stringify(t)),n||function(e){window.editorHistory=r("ui-editor-history"),editorHistory.push(e),localStorage.setItem("ui-editor-history",JSON.stringify(editorHistory))}(t))}},function(e,t,n){"use strict";e.exports=[{name:"Canvas",markup:'<div className="canvasComponent" id="canvas">\n</div>',events:[],state:"{}",style:".canvasComponent{\n\theight:100vh;\n    width:100vw;\n    position: fixed;\n    background-color: lightgrey;\n\ttop: 0px;\n    left: 0px;\n}",children:[],id:198,config:"{}",trueName:"Canvas"},{name:"Resizable",markup:'<div id="resizable" style={state.style}>\n    <div class=\'resizer\' id="topLeft"></div>\n    <div class=\'resizer\' id="topRight"></div>\n    <div class=\'resizer\' id="bottomLeft"></div>\n    <div class=\'resizer\' id="bottomRight"></div>\n</div>',events:[{name:"onMouseDown",reducer:"state.resize=true;\ne.stopPropagation();",index:0,publishable:"",publishName:"",id:"topLeft"},{name:"onMouseMove",reducer:'if(state.resize){\n\tlet width = Number(state.style.width.split("px")[0]);\n    let left = Number(state.style.left.split("px")[0]);\n\tstate.style.width = (width + left - e.clientX) + "px";\n    state.style.left = e.clientX + "px";\n    \n    let height = Number(state.style.height.split("px")[0]);\n    let top = Number(state.style.top.split("px")[0]);\n\tstate.style.height = (height + top - e.clientY) + "px";\n    state.style.top = e.clientY + "px";\n}\ne.stopPropagation();',index:1,publishable:"",publishName:"",id:"topLeft"},{name:"onMouseUp",reducer:"state.resize=false;\ne.stopPropagation();",index:2,publishable:"",publishName:"",id:"topLeft"},{name:"onMouseDown",reducer:"state.resize=true;\ne.stopPropagation();",index:3,publishable:"",publishName:"",id:"bottomLeft"},{name:"onMouseMove",reducer:'if(state.resize){\n\n\tlet width = Number(state.style.width.split("px")[0]);\n    let left = Number(state.style.left.split("px")[0]);\n\tstate.style.width = (width + left - e.clientX) + "px";\n    state.style.left = e.clientX + "px";\n\n    let height = Number(state.style.height.split("px")[0]);\n    let top = Number(state.style.top.split("px")[0]);\n\tstate.style.height = e.clientY -top+10  + "px";\n}\ne.stopPropagation();',index:4,publishable:"",publishName:"",id:"bottomLeft"},{name:"onMouseUp",reducer:"state.resize=false;\ne.stopPropagation();",index:5,publishable:"",publishName:"",id:"bottomLeft"},{name:"onMouseDown",reducer:"state.resize=true;\ne.stopPropagation();",index:6,publishable:"",publishName:"",id:"bottomRight"},{name:"onMouseUp",reducer:"state.resize=false;\ne.stopPropagation();",index:7,publishable:"",publishName:"",id:"bottomRight"},{name:"onMouseMove",reducer:'if(state.resize){\n\n    let height = Number(state.style.height.split("px")[0]);\n    let top = Number(state.style.top.split("px")[0]);\n\tstate.style.height = (e.clientY - top +15 ) + "px";\n    \n   \tlet width = Number(state.style.width.split("px")[0]);\n    let left = Number(state.style.left.split("px")[0]);\n\tstate.style.width = ( e.clientX - left + 10) + "px";\n\n    \n}\ne.stopPropagation();',index:8,publishable:"",publishName:"",id:"bottomRight"},{name:"onMouseDown",reducer:'e.target.style.cursor = "grabbing";\nstate.grabbing = true;\n',publishable:"",publishName:"",id:"resizable"},{name:"onMouseUp",reducer:'e.target.style.cursor = "grab";\nstate.grabbing = false;\n',publishable:"",publishName:"",id:"resizable"},{name:"onMouseMove",reducer:'if(state.grabbing) {\n\tvar rect = e.target.getBoundingClientRect();\n\n    e.target.style.top = e.clientY - rect.height/2  + "px";\n    e.target.style.left = e.clientX - rect.width/2 + "px";\n}',publishable:"",publishName:"",id:"resizable"}],state:'{\n\t"style":{\n        "top": "200px",\n        "left": "200px",\n        "height": "100px",\n        "width": "100px"\n\t}\n}',style:"#resizable {\n\tposition: fixed;\n    border: 1px solid green;\n    cursor: grab;\n}\n\nbody,\nhtml {\n  background: black;\n}\n#resizable {\n  background: white;\n  position: absolute;\n\n  border: 3px solid #4286f4;\n  box-sizing: border-box;\n}\n\n\n#resizable .resizer{\n  width: 10px;\n  height: 10px;\n  border-radius: 50%; \n  background: white;\n  border: 3px solid #4286f4;\n  position: absolute;\n}\n\n#resizable .resizer#topLeft {\n  left: -5px;\n  top: -5px;\n  cursor: nwse-resize;\n}\n#resizable .resizer#topRight {\n  right: -5px;\n  top: -5px;\n  cursor: nesw-resize;\n}\n#resizable .resizer#bottomLeft {\n  left: -5px;\n  bottom: -5px;\n  cursor: nesw-resize;\n}\n#resizable .resizer#bottomRight {\n  right: -5px;\n  bottom: -5px;\n  cursor: nwse-resize;\n}",children:[],id:557,config:"{}",trueName:"Resizable"},{name:"Movable",markup:'<div id="movable" style={state.style}></div>',events:[{name:"onMouseDown",reducer:'e.target.style.cursor = "grabbing";\nstate.grabbing = true;\nconsole.log("Mousedown")',index:0,publishable:"",publishName:"",id:"resizable"},{name:"onMouseUp",reducer:'e.target.style.cursor = "grab";\nstate.grabbing = false;\nconsole.log("mouseup")',index:1,publishable:"",publishName:"",id:"resizable"},{name:"onMouseMove",reducer:'if(state.grabbing) {\n\tvar rect = e.target.getBoundingClientRect();\n\n    e.target.style.top = e.clientY - rect.height/2  + "px";\n    e.target.style.left = e.clientX - rect.width/2 + "px";\n}\nconsole.log("mousemove")',index:2,publishable:"",publishName:"",id:"resizable"},{name:"onMouseDown",reducer:'e.target.style.cursor = "grabbing";\nstate.grabbing = true;\n',publishable:"",publishName:"",id:"movable"},{name:"onMouseUp",reducer:'e.target.style.cursor = "grab";\nstate.grabbing = false;\n',publishable:"",publishName:"",id:"movable"},{name:"onMouseMove",reducer:'if(state.grabbing) {\n\tvar rect = e.target.getBoundingClientRect();\n\n    e.target.style.top = e.clientY - rect.height/2  + "px";\n    e.target.style.left = e.clientX - rect.width/2 + "px";\n}',publishable:"",publishName:"",id:"movable"}],state:'{\n\t"style":{\n        "top": "200px",\n        "left": "200px"\n\t}\n}',style:"#movable {\n\tposition: fixed;\n    border: 1px solid green;\n    height: 100px;\n    width: 100px;\n    cursor: grab;\n}",children:[],id:557,config:"{}",trueName:"Movable"}]},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=p(r),i=p(n(44)),s=p(n(47)),l=p(n(48));n(53);var u=n(55),c=n(56),d=n(3);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=Object.assign({},n.props),n.state.selectedTag=n.props.selectedTag,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"render",value:function(){var e=this,t=this.props.component;if(0==this.state.components.length)return a.default.createElement("ul",{className:"container events-tab"},a.default.createElement("div",{className:"title"},"Events"),a.default.createElement("p",null,'Looks like you do not have any Web component created. Type some "html" on the right "Editor" tab'));if(void 0===t.name&&0!=this.state.components.length)return a.default.createElement("ul",{className:"container events-tab"},a.default.createElement("div",{className:"title"},"Events"),a.default.createElement("p",null,"Looks like you have not selected any component. Click on any of the component in the left pane."));var n=(0,c.getNodeTree)(t,t.markup,t.style,JSON.parse(t.state),t.events);if(void 0!==n.error)return n.error;if(void 0===n.result&&0!=this.state.components.length)return a.default.createElement("ul",{className:"container events-tab"},a.default.createElement("div",{className:"title"},"Events"));var o=this.state.selectedTag||"",r=void 0,p=void 0,f=[];if(o.includes("child-component-")){var m=(0,d.readData)("ui-editor"),h=o.split("child-component-")[1],b=m.find(function(e){return e.name===h});f=b.events.filter(function(e){return!0===e.publishable}).map(function(e){return e.publishName});var v=t.events.filter(function(e){return f.find(function(t){return t===e.name&&e.id===b.name})});v=v.map(function(t,n){return a.default.createElement(l.default,{key:Math.ceil(1e3*Math.random()),index:n,event:t,selectedTagID:o,eventNames:f,onSave:u.updateEvent.bind(e),deleteEvent:u.deleteEvent.bind(e)})}),r=o?v:null,p=a.default.createElement(i.default,{key:Math.ceil(1e3*Math.random()),onChange:u.updateConfiguration.bind(this),childName:h,parent:t})}else{var y=t.events.map(function(t,n){return a.default.createElement(l.default,{key:Math.ceil(1e3*Math.random()),index:n,event:t,selectedTagID:o,eventNames:f,onSave:u.updateEvent.bind(e),deleteEvent:u.deleteEvent.bind(e)})});r=o?y.filter(function(e){return o.includes(e.props.event.id)}):null}return a.default.createElement("ul",{className:"container events-tab"},a.default.createElement("div",{className:"tags"},a.default.createElement(s.default,{node:n.result,onSelectedTagChanged:u.selectedTagChanged.bind(this)})),p,r&&r.length>0?a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"Existing Events"),r):null,o?a.default.createElement("div",null,a.default.createElement("div",{className:"title"},"Add Event"),a.default.createElement(l.default,{key:t.events.length,eventNames:f,selectedTagID:o,onSave:u.updateEvent.bind(this)})):null)}}]),t}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(45);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=JSON.parse(n.props.parent.config)[n.props.childName]||{override:!1};return n.state={override:o.override},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"toggelOverride",value:function(){this.setState({override:!this.state.override}),this.props.onChange({config:{override:!this.state.override},childName:this.props.childName,parentName:this.props.parent.name})}},{key:"saveConfig",value:function(){this.props.onChange({config:{override:this.state.override},childName:this.props.childName,parentName:this.props.parent.name})}},{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("div",{className:"title"},"Child Configurations"),i.default.createElement("div",{className:"spacing"},i.default.createElement("label",null,"Override state"),i.default.createElement("input",{type:"checkbox",onChange:this.toggelOverride.bind(this),checked:this.state.override?"checked":""})))}}]),t}();t.default=s},function(e,t,n){var o=n(46);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".error {\n    color: red;\n}\n\n.info {\n    color: yellowgreen;\n}\n\nlabel {\n    padding-right: 10px;\n}\n\n.configurator {\n    background: rgb(64, 64, 64);\n    margin-top: 10px;\n    padding: 5px;\n}\n\n.spacing{\n    margin: 10px;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),s=(o=i)&&o.__esModule?o:{default:o};var l=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this,n=this.props.node;if(!n)return s.default.createElement("span",null,"null");if("string"==typeof n)return s.default.createElement("li",null,n);var o=n.props.id?"-"+n.props.id:"";if(n.props&&Array.isArray(n.props.children)){var a=n.props.children.map(function(n,o){return s.default.createElement(t,{key:o,node:n,onSelectedTagChanged:e.props.onSelectedTagChanged})});return s.default.createElement("ul",null,s.default.createElement("label",null,s.default.createElement("input",{type:"radio",name:"selectedElement",onChange:this.props.onSelectedTagChanged,value:n.type+o}),n.type+o),a)}if("object"===r(n.props.children)){var i=n.props.children;return s.default.createElement("ul",null,s.default.createElement("label",null,s.default.createElement("input",{type:"radio",name:"selectedElement",onChange:this.props.onSelectedTagChanged,value:(n.type.name||n.type)+o}),n.type.name||n.type),s.default.createElement(t,{key:index,node:i,onSelectedTagChanged:this.props.onSelectedTagChanged}))}return"function"==typeof n.type?s.default.createElement("ul",null,s.default.createElement("label",null,s.default.createElement("input",{type:"radio",name:"selectedElement",value:"child-component-"+n.type.name,onChange:this.props.onSelectedTagChanged}),n.type.name)):s.default.createElement("ul",null,s.default.createElement("label",null,s.default.createElement("input",{type:"radio",name:"selectedElement",value:n.type+o,onChange:this.props.onSelectedTagChanged}),n.type+o))}}]),t}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(49);var s=n(7),l=n(51),u=n(52);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:n.props.event?n.props.event.name:"",reducer:n.props.event?n.props.event.reducer:"",publishable:n.props.event?n.props.event.publishable:"",publishName:n.props.event?n.props.event.publishName:""},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this;if(void 0===this.props.selectedTagID)return"Select ID";var t=this.state.publishable?i.default.createElement("input",{type:"text",onChange:l.updatePublishName.bind(this),value:this.state.publishName,placeholder:"Enter event publish name for other components to subscribe to"}):null,n=this.props.eventNames.map(function(e){return i.default.createElement("option",{value:e})});return i.default.createElement("div",{className:"event"},i.default.createElement("div",{class:"spacing"},i.default.createElement("label",null,"Event name"),i.default.createElement("input",{list:"events",type:"text",onChange:l.updateEventName.bind(this),value:this.state.name,title:"Event Name"}),i.default.createElement("datalist",{id:"events"},n)),i.default.createElement("div",{class:"spacing"},i.default.createElement("label",null,"Publishable"),i.default.createElement("input",{type:"checkbox",onChange:l.updateEventType.bind(this),checked:this.state.publishable?"checked":""}),t),i.default.createElement("div",{class:"spacing"},i.default.createElement("label",null,"Event reducer"),i.default.createElement(s.UnControlled,{value:this.state.reducer,autoCursor:!1,options:{lineNumbers:!1,mode:"text/javascript",theme:"darcula",indentWithTabs:!1,smartIndent:!0},onChange:function(t,n,o){e.setState({reducer:o})}})),i.default.createElement("div",null,i.default.createElement("button",{onClick:u.publishEvent.bind(this),id:"saveEvent"},i.default.createElement("i",{className:"fas fa-save"}),"Save"),i.default.createElement("button",{onClick:u.deleteEvent.bind(this),id:"deleteEvent"},i.default.createElement("i",{className:"fas fa-trash"}),"Delete")))}}]),t}();t.default=c},function(e,t,n){var o=n(50);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".error {\n    color: red;\n}\n\n\n.info {\n    color: yellowgreen;\n}\n\nlabel {\n    padding-right: 10px;\n}\n\n.event input {\n    margin-left:5px;\n    width:150px;\n}\n\n.event textarea {\n    margin-top: 8px;\n    width: 300px;\n}\n\n.input {\n    padding: 5px;\n}",""])},function(e,t,n){"use strict";function o(e){this.setState({publishable:e.currentTarget.checked})}var r,a,i;e.exports=(i=o,(a="updateEventType")in(r={updateEventName:function(e){this.setState({name:e.target.value})},updateEventType:o,updatePublishName:function(e){this.setState({publishName:e.target.value})}})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishEvent=function(){this.props.onSave({name:this.state.name,reducer:this.state.reducer,index:this.props.index,publishable:this.state.publishable,publishName:this.state.publishName})},t.deleteEvent=function(){this.props.deleteEvent(this.props.index)}},function(e,t,n){var o=n(54);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".events {\n    border:1px solid black;\n    padding: 5px;\n}\n\n.error {\n    color: red;\n}\n\n.tags.tags ul {\n    border: 0px;\n    margin-left: 30px;\n    padding:5px;\n}\n\n.tags ul:first-child {\n    margin-left: -2px;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEvent=function(e){var t=JSON.parse(JSON.stringify(this.state.component));this.state.selectedTag.includes("child-component-")?e.id=this.state.selectedTag.split("child-component-")[1]:e.id=this.state.selectedTag.split("-")[1];if(void 0===e.index)t.events.push(e);else{var n=t.events.findIndex(function(t){return t.id===e.id&&t.name===e.name});-1==n&&console.error("Changing event name will not help. Create a new event"),t.events[n]=e}this.props.onEventsUpdate(t.events)},t.selectedTagChanged=function(e){this.setState({selectedTag:e.currentTarget.value})},t.deleteEvent=function(e){var t=JSON.parse(JSON.stringify(this.state.component));t.events.splice(e,1),this.props.onEventsUpdate(t.events)},t.updateConfiguration=function(e){this.props.onConfigUpdate(e)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNodeTree=getNodeTree;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_Runtime=__webpack_require__(8);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function getNodeTree(element,jsx,style,state,events){var result=void 0,error=void 0;try{var nestedComponents=(0,_Runtime.getNestedComponents)(element);nestedComponents.length>0&&(0,_Runtime.saveComponentsToWindow)(nestedComponents),result=eval(Babel.transform(jsx,{presets:["react"]}).code)}catch(e){error=e}finally{return _defineProperty({error:error,result:result},"result",result)}}window.React=_react2.default,window.Component=_react2.default.Component},function(module,exports,__webpack_require__){"use strict";var _React=__webpack_require__(58);function createComponent(component){var componentString=(0,_React.convertToReact)(component);return eval(Babel.transform(componentString,{presets:["react"],plugins:["transform-es2015-classes"]}).code)}module.exports={createComponent:createComponent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToReact=function(e){e.events.forEach(function(e){e.id=e.id.replace("-","")});var t=function(e){return e.markup.replace(">"," {...this.props}>{this.props.children}")}(e),n=function(t){var n=JSON.parse(e.config);return Object.keys(n).forEach(function(e){if(n[e].override){var o="<"+e+"></"+e+">",r="{state."+e+".map((item,i)=>"+("<"+e+" state={item} key={~~(Math.random()*10000)}></"+e+">")+")}";t=t.replace(o,r)}}),t}(t),o=function(e,t){return t.forEach(function(t){var n='id="'+t.id+'"';e=e.includes(n)?e.replace(n,n+" "+t.name+"={this."+(t.id+t.name)+".bind(this)}"):e.replace("<"+t.id,"<"+t.id+" "+t.name+"={this."+(t.id+t.name)+".bind(this)}")}),e.split("state.").join("this.state.")}(n,e.events);return"(\nclass "+e.name+" extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = this.props.state || "+e.state+";\n\n        // Generate css as a separate file on download\n    }\n\n    "+e.events.map(function(e){return e.publishable?"\n            \n    "+(e.id+e.name)+" (e) {\n        var state = JSON.parse(JSON.stringify(this.state))\n        "+e.reducer+"\n        this.setState(state);\n        e.state = state;\n        this.props."+e.publishName+"? this.props."+e.publishName+"(e):null;\n    }":"\n    "+(e.id+e.name)+" (e) {\n        var state = JSON.parse(JSON.stringify(this.state))\n        if(window.__debug){debugger;}\n        "+e.reducer+"\n        this.setState(state);\n    }\n"}).join("\n")+"\n\n    render() {\n        return ("+o+")\n    }\n})\n"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameToURL=function(e){"string"!=typeof e&&console.error("state should be a string");if(window.assets&&window.assets.length>0)for(var t=function(){var t=e.split("['")[1].split("]")[0].split("");t.pop(),t=t.join("");var n=window.assets.find(function(e){return e.name===t});e=e.replace("$assets['"+t+"']","url("+getURL(n.blob,t)+")")};e.includes("$assets");)t();return e},t.urlToName=function(e){var t=function(){var t=e.split("url(")[1].split(")")[0],n=window.assets.find(function(e){return e.url===t});n&&(e=e.replace("url("+n.url+")","$assets['"+n.name+"']"))};for(;e.includes(window.location.host);)t();return e},t.hasAssets=function(e){return e.includes("$assets")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=u(r);n(61);var i=u(n(63)),s=n(66),l=n(67);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={class:"drop_zone",imageURL:"",assets:[],selectedAsset:""},n.writeToDB=l.writeToDB.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"appendToBody",value:function(e){var t=this.result,n=document.createElement("div");n.innerHTML="Loaded : "+e.name+" size "+e.size+" B",document.body.appendChild(n);var o=document.createElement("img");o.file=e,o.src=t,n.appendChild(o)}},{key:"updatedSelected",value:function(e){var t=e.target.getAttribute("data-name");this.setState({selectedAsset:t})}},{key:"render",value:function(){var e=this,t=this.state.assets.map(function(t){return a.default.createElement(i.default,{asset:t,selected:e.state.selectedAsset,onSelected:e.updatedSelected.bind(e)})});return a.default.createElement("ul",{className:"assets"},a.default.createElement("button",{onClick:l.fetchFromDB.bind(this)},"Load Assets"),a.default.createElement("div",{className:this.state.class,onDrop:s.dropHandler.bind(this),onDragOver:s.dragOverHandler.bind(this),onDragLeave:s.dragLeaveHandler.bind(this)},a.default.createElement("p",null,"Drag one or more files to this Drop Zone ...")),a.default.createElement("div",null,this.state.selectedAsset.name),t)}}]),t}();t.default=c},function(e,t,n){var o=n(62);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"\n/* Show dashed outline for the drop zone.*/\n\n.drop_zone {\n  border: 1px lightgray dashed;\n  width:  200px;\n  height: 100px;\n}\n\n/* Show dashed outline during drag over. */\n\n.drag_over {\n  border: 2px lightgray dashed;\n  width:  200px;\n  height: 100px;\n}\n\n/* Give some spacing around asset name. */\n\n.assets p{\n  padding:15px; \n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(64);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement("p",{"data-name":this.props.asset.name,onClick:this.props.onSelected},this.props.asset.name))}}]),t}();t.default=s},function(e,t,n){var o=n(65);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,"\n/* Show selected asset with a light dashed outline */\n\n.selectedAsset{\n    border: 1px lightgray dashed;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dropHandler=function(e){var t=this;e.preventDefault(),[].forEach.call(e.dataTransfer.files,function(e){var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(t,n){this.appendToBody(e),this.writeToDB(t.target.result,e.name)}.bind(t)}),this.setState({class:"drop_zone"})},t.dragOverHandler=function(e){console.log("File(s) in drop zone"),this.setState({class:"drag_over"}),e.preventDefault()},t.dragLeaveHandler=function(e){this.setState({class:"drop_zone"})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeToDB=function(e,t){var n=this;window.iDB.get(t).then(function(e){document.createElement("img").href=e.result,n.setState({imageURL:e.result})}),window.iDB.put({name:t,result:e})},t.fetchFromDB=function(){var e=this;window.iDB.getAll().then(function(t){window.assets=t.map(function(e){return{name:e.name,blob:e.result,url:getURL(e.result)}}),e.setState({assets:window.assets})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o},s=n(3);n(69);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"refreshToPrevious",value:function(){(0,s.popHistory)()}},{key:"render",value:function(){return i.default.createElement("ul",null,i.default.createElement("button",{onClick:this.refreshToPrevious.bind(this)},"Go back"))}}]),t}();t.default=l},function(e,t,n){var o=n(70);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".selected, .green {\n    border: 1px solid green;\n    background: rgb(43, 43, 43);\n}\n.selectedAsset{\n    border: 1px lightgray dashed;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o},s=n(8);n(72);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={component:n.props.component},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){if(!window[this.state.component.name]){var e=(0,s.getNestedComponents)(this.state.component);e.length>0&&(0,s.saveComponentsToWindow)(e)}return window[this.state.component.name]?i.default.createElement(window[this.state.component.name]):i.default.createElement("p",null,"No component selected.")}}]),t}();t.default=l},function(e,t,n){var o=n(73);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".hint{\n    height:100px;\n    width:100%;\n    border: 1px dashed green;\n}\n\n.hintDragOver{\n    animation: blink 1s infinite;\n}\n\n@keyframes blink {\n    from {\n        border: 1px dashed green;\n    }\n  \n    to {\n        border: 2px dashed green;\n    }\n  }\n\n.hintNoDrop{\n    animation: blinkRed 1s infinite;\n}\n\n@keyframes blinkRed {\n    from {\n        border: 1px dashed red;\n    }\n  \n    to {\n        border: 2px dashed red;\n    }\n  }",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(75);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"center"},this.props.children)}}]),t}();t.default=s},function(e,t,n){var o=n(76);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".center{\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    -moz-transform: translateX(-50%) translateY(-50%);\n    -webkit-transform: translateX(-50%) translateY(-50%);\n    transform: translateX(-50%) translateY(-50%);\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(78);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"Bottom"},this.props.children)}}]),t}();t.default=s},function(e,t,n){var o=n(79);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".bottom{\n    position: absolute;\n    z-index: 100000000;\n    bottom:0px;\n    width: 100vw;\n    animation: slide-up 0.4s ease;\n}\n\n@keyframes slide-up {\n    0% {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(81);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"leftItem"},this.props.children)}}]),t}();t.default=s},function(e,t,n){var o=n(82);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".leftItem{\n    position: absolute;\n    left:0px;\n    z-index:100000;\n    animation: slide-to-screen 0.7s ease;\n}\n\n@keyframes slide-to-screen {\n    0% {\n        left:-300px;\n    }\n    100% {\n        left: 0px;\n    }\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(84);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selected:n.props.selected},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"updateSelectedTab",value:function(e){this.setState({selected:e.target.innerText})}},{key:"render",value:function(){var e=this;return this.state.selected,this.props.selected,i.default.createElement("div",{className:"RightItem container"},this.props.children.map(function(t){return i.default.createElement("div",{className:t.props.title===e.state.selected?"tabs title":"tabs",onClick:e.updateSelectedTab.bind(e)},t.props.title)}),i.default.createElement("div",{className:"tab-content"},this.props.children.filter(function(t){return t.props.title===e.state.selected})))}}]),t}();t.default=s},function(e,t,n){var o=n(85);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".RightItem{\n    position: absolute;\n    right:0px;\n    animation: slide-right 0.2s ease;\n    height: 100%;\n    overflow: scroll;\n    width:400px;\n}\n\n@keyframes slide-right {\n    0% {\n        opacity: 0;\n        right:-100px;\n    }\n    100% {\n        opacity: 1;\n        right: 0px;\n    }\n}\n\n.tab-content{\n    height:91%;\n    border: 1px #404040 solid;\n}\n\n.tab-content ul {\n    padding: 12px;\n}\n\n.tabs {\n    display: inline-block;\n    cursor: default;\n    \n    margin-top: 15px;\n    margin-bottom: 11px;\n    color: rgba(255,255,255,0.5);\n    padding: 5px;\n    font-size: 12px;\n}",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=(o=a)&&o.__esModule?o:{default:o};n(87);var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"closeContextMenu",value:function(){this.props.onMessage("HIDE")}},{key:"render",value:function(){return i.default.createElement("div",{className:"ContextMenu",style:this.props.position},this.props.children)}}]),t}();t.default=s},function(e,t,n){var o=n(88);"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(2)(o,r);o.locals&&(e.exports=o.locals)},function(e,t,n){(e.exports=n(1)(!1)).push([e.i,".ContextMenu{\n    position: absolute;\n    background-color: rgb(64, 64, 64);\n    box-shadow: 0px 0px 30px black;\n    border-radius: 5px;\n    padding:0px;\n    z-index: 10000000;\n}\n.contextMenuOptions li {\n    padding: 15px;\n    user-select: none;\n}\n\n.contextMenuOptions{\n    padding-left:0px;\n}\n\n/** Demo for resize https://codepen.io/ZeroX-DG/pen/vjdoYe **/",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateEvent=function(e){var t=this,n=Object.assign({},this.state).components;n.find(function(e){return e.name===t.state.selectedComponent.name}).events=e,this.setState({elements:n}),(0,o.writeData)("ui-editor",n)},t.updateConfig=function(e){var t=Object.assign({},this.state).components,n=t.find(function(t){return t.name===e.parentName}),r=t.find(function(t){return t.name===e.childName});n.state=JSON.parse(n.state),void 0===n.config?n.config={}:n.config=JSON.parse(n.config);n.config[r.name]=e.config,n.config[r.name].override?n.state[r.name]=[JSON.parse(r.state)]:delete n.state[r.name];n.state=JSON.stringify(n.state),n.config=JSON.stringify(n.config),this.setState({elements:t}),(0,o.writeData)("ui-editor",t)},t.saveElement=function(e){var t=this,n=Array.from(this.state.components),a=void 0,i=n.find(function(t){return t.name===e.name})||n.find(function(t){return t.name===e.trueName}),s=n.find(function(e){return e.name===t.state.selectedComponent.name}),l=n.findIndex(function(e){return e.name===t.state.selectedComponent.name});if(i){var u=s;u=Object.assign(u,e),n[l]=u}else delete(a={name:e.name,markup:e.markup,events:[],state:e.state||"{}",style:e.style,children:[],id:Math.ceil(1e3*Math.random()),config:"{}"}).trueName,n.push(a),l=n.length-1,this.state.folders[0].contents.push(e.name);if(e.trueName!==e.name&&""!==e.trueName){var c=(0,r.findParent)(e.trueName,this.state.folders[0]),d=c.contents.findIndex(function(t){return t===e.trueName});c.contents.splice(d,1,e.name)}this.setState({elements:n,element:{name:e.name,markup:e.markup,style:e.style,state:e.state,events:e.events||[]},showEditor:!1,folders:this.state.folders}),(0,o.writeData)("folders",this.state.folders),(0,o.writeData)("ui-editor",n)},t.updateSelectedComponent=function(e,t){var n=this.state.components.find(function(t){return t.name===e});this.setState({selectedComponent:n})};var o=n(3),r=n(9)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.onDeleteComponent=function(e){var t=this.state.selectedComponent.name,n=(0,a.findParent)(t,this.state.folders[0]),o=n.contents.findIndex(function(e){return e===t});n.contents.splice(o,1);var i=Array.from(this.state.components),s=i.findIndex(function(e){return e.name===t});i.splice(s,1),this.setState({components:i,folders:this.state.folders}),(0,r.writeData)("ui-editor",i),(0,r.writeData)("folders",this.state.folders)},t.onExtendComponent=function(){var e=JSON.parse(JSON.stringify(this.state.selectedComponent)),t=(0,a.findParent)(e.name,this.state.folders[0]);e.name=e.name+"_copy",t.contents.push(e.name),components.push(e),this.setState({components:components,folders:this.state.folders}),(0,r.writeData)("ui-editor",components),(0,r.writeData)("folders",this.state.folders)},t.onDeleteFolder=function(e,t){var n,r=Array.from(this.state.folders),i=r[0],s=(0,a.findParentFolder)(t,r[0]),l=(0,a.findFolder)(t,r[0]);switch(e){case"FOLDER_RETAIN_CONTENTS":(n=i.contents).push.apply(n,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(l.contents));var u=s.contents.findIndex(function(e){return"object"===(void 0===e?"undefined":o(e))&&e.name===t});s.contents.splice(u,1),this.updateFolders(r)}};var r=n(3),a=n(9)},function(e,t,n){"use strict";var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n(0),a=_(r),i=_(n(11));n(15);var s=_(n(18)),l=_(n(37)),u=_(n(43)),c=_(n(60)),d=_(n(68)),p=_(n(71)),f=_(n(74)),m=_(n(77)),h=_(n(80)),b=_(n(83)),v=_(n(86)),y=n(89),g=n(3),w=n(90);function _(e){return e&&e.__esModule?e:{default:e}}var E=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=(0,g.readData)("ui-editor");return n.state={components:o,selectedTag:"",component:{name:"",markup:"",style:"",state:"{ }",events:[]},selectedComponent:"",folders:(0,g.readData)("folders"),showEditor:!1,selectedTab:"Events"},n.updateConfig=y.updateConfig.bind(n),n.updateEvent=y.updateEvent.bind(n),n.saveElement=y.saveElement.bind(n),n.updateSelectedComponent=y.updateSelectedComponent.bind(n),document.onkeydown=function(e){e.altKey&&69==e.keyCode&&this.setState({showEditor:!this.state.showEditor}),e.altKey&&82==e.keyCode&&this.setState({openRight:!this.state.openRight,selectedTab:"Events"})}.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"updateFolders",value:function(e){this.setState({folders:e}),(0,g.writeData)("folders",e)}},{key:"openEditor",value:function(){this.setState({showEditor:!0})}},{key:"openExportTab",value:function(e){this.setState({selectedTab:"Export"})}},{key:"onShowContextMenu",value:function(e){if(e.target.classList.contains("component")||e.target.classList.contains("componentName"))this.state.contextMenuChildren=a.default.createElement("ul",{className:"contextMenuOptions"},a.default.createElement("li",{onClick:w.onDeleteComponent.bind(this)},"Delete Component"),a.default.createElement("li",{onClick:this.openExportTab.bind(this)},"Export Component"),a.default.createElement("li",{onClick:w.onExtendComponent.bind(this)},"Extend Component"));else if(e.target.classList.contains("fa-folder-open")||e.target.classList.contains("fa-folder")){var t=e.target.parentElement.getAttribute("data-folder-name");this.state.contextMenuChildren=a.default.createElement("ul",{className:"contextMenuOptions"},a.default.createElement("li",{onClick:w.onDeleteFolder.bind(this,"FOLDER_RETAIN_CONTENTS",t)},"Delete folder and retain contents"),a.default.createElement("li",{onClick:w.onDeleteFolder.bind(this,"RETAIN_FOLDER_DELETE_CONTENTS",t)},"Keep Folder and delete contents"),a.default.createElement("li",{onClick:w.onDeleteFolder.bind(this,"ENTIRE_FOLDER",t)},"Delete Folder and contents"),a.default.createElement("li",{onClick:this.openExportTab.bind(this)},"Export Folder"))}this.setState({showContextMenu:!0,contextMenuPosition:{top:e.clientY+"px",left:e.clientX+"px"}}),e.preventDefault()}},{key:"hideContextMenu",value:function(){this.state.showContextMenu&&this.setState({showContextMenu:!1})}},{key:"onContextMenuMessage",value:function(e){switch(e){case"HIDE":this.setState({showContextMenu:!1})}}},{key:"render",value:function(){var e=this,t=this.state.selectedComponent||this.state.component,n=Math.ceil(1e3*Math.random());return a.default.createElement("div",{onContextMenu:this.onShowContextMenu.bind(this),onClick:this.hideContextMenu.bind(this)},a.default.createElement(h.default,null,a.default.createElement(s.default,{components:this.state.components,folders:this.state.folders,selectedComponent:this.state.selectedComponent,title:"Components",showControls:!0,key:n,onOpenEditor:this.openEditor.bind(this),onSelection:this.updateSelectedComponent,onFoldersUpdate:this.updateFolders.bind(this)})),a.default.createElement(p.default,{onSave:this.props.onSave,key:n,component:t}),this.state.selectedComponent&&this.state.openRight?a.default.createElement(b.default,{selected:this.state.selectedTab},a.default.createElement(u.default,{key:n,component:t,selectedTag:this.state.selectedTag,components:this.state.components,onEventsUpdate:this.updateEvent,onConfigUpdate:this.updateConfig,title:"Events"}),a.default.createElement(d.default,{title:"History"}),a.default.createElement(c.default,{title:"Assets"})):null,this.state.showEditor?a.default.createElement(m.default,null,a.default.createElement(l.default,{key:n,element:t,name:t.name,markup:t.markup,style:t.style,state:t.state,title:"Editor",onSave:this.saveElement})):this.state.selectedComponent?a.default.createElement(m.default,null,a.default.createElement(f.default,null,a.default.createElement("button",{class:"showEditor",onClick:function(){return e.setState({showEditor:!0})}},"Open Editor"))):null,this.state.showContextMenu?a.default.createElement(v.default,{children:this.state.contextMenuChildren,position:this.state.contextMenuPosition,onMessage:this.onContextMenuMessage.bind(this)}):null)}}]),t}();console.log("Source code https://github.com/imvetri/ui-editor"),i.default.render(a.default.createElement(E,null),document.getElementById("index"))}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL1N0b3JhZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0ZvbGRlcnMvZmluZEZvbGRlcnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy9SdW50aW1lL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL2ZpbmRGb2xkZXJzLmpzIiwid2VicGFjazovLy8uL3NyYy9JbmRleC9pbmRleC5jc3M/ZDBkNyIsIndlYnBhY2s6Ly8vLi9zcmMvSW5kZXgvaW5kZXguY3NzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1N0eWxlLmNzcz8zNmRmIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9TdHlsZS5jc3M/ODQ2NSIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9TdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0ZvbGRlcnMvcHJvY2Vzc0ZvbGRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9Gb2xkZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0ZvbGRlcnMvRm9sZGVyL1N0eWxlLmNzcz9hOWJlIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL0ZvbGRlci9TdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0ZvbGRlcnMvTmV3Rm9sZGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL05ld0ZvbGRlci9TdHlsZS5jc3M/ZTNiZiIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9OZXdGb2xkZXIvU3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL0ZvbGRlci9SZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL0ZvbGRlci9FdmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvQ29tcG9uZW50dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Db21wb25lbnR0L0V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9Db21wb25lbnR0L1N0eWxlLmNzcz84ZjA3Iiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0NvbXBvbmVudHQvU3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9FZGl0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0VkaXRvci9TdHlsZS5jc3M/MWJmYyIsIndlYnBhY2s6Ly8vLi9zcmMvRWRpdG9yL1N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL1N0b3JhZ2UvbG9jYWxTdG9yYWdlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvU3RvcmFnZS9sb2NhbFN0b3JhZ2UvU2FtcGxlLmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9Db25maWd1cmF0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9Db25maWd1cmF0b3IvU3R5bGUuY3NzP2VlMjgiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9Db25maWd1cmF0b3IvU3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvQ29tcG9uZW50cy9Ob2Rlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRXZlbnRzL0V2ZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudHMvRXZlbnQvU3R5bGUuY3NzP2JhOTQiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9FdmVudC9TdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9FdmVudC9SZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudHMvRXZlbnQvRXZlbnRzLmpzIiwid2VicGFjazovLy8uL3NyYy9FdmVudHMvU3R5bGUuY3NzPzc5NzEiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9TdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL0V2ZW50cy9SZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvZ2V0LW5vZGUtdHJlZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL2NyZWF0ZS1jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy9Db2RlR2VuZXJhdG9yL1JlYWN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvUnVudGltZS9hc3NldFV0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9Bc3NldHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Fzc2V0cy9TdHlsZS5jc3M/OWVhYSIsIndlYnBhY2s6Ly8vLi9zcmMvQXNzZXRzL1N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvQXNzZXRzL0Fzc2V0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9Bc3NldHMvQXNzZXQvU3R5bGUuY3NzPzU4ZTYiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Fzc2V0cy9Bc3NldC9TdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Fzc2V0cy9SZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9Bc3NldHMvZGIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hpc3RvcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hpc3RvcnkvU3R5bGUuY3NzP2E3NGEiLCJ3ZWJwYWNrOi8vLy4vc3JjL0hpc3RvcnkvU3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9EeW5hbWljQ29tcG9uZW50L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9EeW5hbWljQ29tcG9uZW50L3N0eWxlLmNzcz9lZDdiIiwid2VicGFjazovLy8uL3NyYy9EeW5hbWljQ29tcG9uZW50L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvQ2VudGVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9DZW50ZXIvc3R5bGUuY3NzP2I0ZTciLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0NlbnRlci9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL0JvdHRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvQm90dG9tL3N0eWxlLmNzcz9jMjhkIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9Cb3R0b20vc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9MZWZ0L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9MZWZ0L3N0eWxlLmNzcz9hNzE3Iiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9MZWZ0L3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9zcmMvVXRpbGl0aWVzL0NvbXBvbmVudHMvUmlnaHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1V0aWxpdGllcy9Db21wb25lbnRzL1JpZ2h0L3N0eWxlLmNzcz84ZTMzIiwid2VicGFjazovLy8uL3NyYy9VdGlsaXRpZXMvQ29tcG9uZW50cy9SaWdodC9zdHlsZS5jc3MiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxpdGllcy9Db21wb25lbnRzL0NvbnRleHRNZW51L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlsaXRpZXMvQ29tcG9uZW50cy9Db250ZXh0TWVudS9zdHlsZS5jc3M/NGYzNSIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbGl0aWVzL0NvbXBvbmVudHMvQ29udGV4dE1lbnUvc3R5bGUuY3NzIiwid2VicGFjazovLy8uL3NyYy9JbmRleC9SZWR1Y2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL0V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiX2xvY2FsU3RvcmFnZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJleHBvcnRzIiwicmVhZERhdGEiLCJ3cml0ZURhdGEiLCJyZWFkQ29tcG9uZW50Iiwid3JpdGVDb21wb25lbnQiLCJwb3BIaXN0b3J5IiwiZmluZFBhcmVudCIsImNvbXBvbmVudE5hbWUiLCJmb2xkZXIiLCJjb250ZW50cyIsImkiLCJsZW5ndGgiLCJjb250ZW50IiwicGFyZW50Rm9sZGVyIiwiX3R5cGVvZiIsImZpbmRQYXJlbnRGb2xkZXIiLCJmb2xkZXJOYW1lIiwibmFtZSIsImZvbGRlclBhcmVudEZvbGRlciIsImZpbmRGb2xkZXIiLCJmb2xkZXJGb3VuZCIsInNhdmVDb21wb25lbnRzVG9XaW5kb3ciLCJuZXN0ZWRDb21wb25lbnRzIiwiZm9yRWFjaCIsImNvbXBvbmVudCIsIl9hc3NldFV0aWxzIiwiaGFzQXNzZXRzIiwic3RhdGUiLCJKU09OIiwicGFyc2UiLCJuYW1lVG9VUkwiLCJzdHJpbmdpZnkiLCJzdHlsZSIsIndpbmRvdyIsImFzc2V0cyIsInRvRGVsZXRlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaXRlbSIsInJlbW92ZSIsImR5bmFtaWNTdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJ0eXBlIiwiaW5uZXJIVE1MIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY3JlYXRlU3R5bGVzaGVldCIsIl9jcmVhdGVDb21wb25lbnQiLCJjcmVhdGVDb21wb25lbnQiLCJzYXZlVG9XaW5kb3ciLCJnZXRDaGlsZHJlbiIsInBhcmVudCIsImNvbXBvbmVudHMiLCJfU3RvcmFnZSIsImNoZWNrTmVzdGVkQ29tcG9uZW50cyIsIm1hcmt1cCIsImZpbHRlciIsImluY2x1ZGVzIiwibWFwIiwiZ2V0TmVzdGVkQ29tcG9uZW50cyIsImNoaWxkcmVuIiwiZ3JhbmRLaWRzIiwiZmxhdCIsInB1c2giLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwidW5kZWZpbmVkIiwibG9jYWxzIiwiX3JlYWN0IiwiQ29tcG9uZW50cyIsInByb3BzIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl90aGlzIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImNhbGwiLCJmb2xkZXJzIiwic2hvd0NvbnRyb2xzIiwiQ29tcG9uZW50IiwiQXJyYXkiLCJmcm9tIiwidW5zaGlmdCIsInN0YXR1cyIsInNldFN0YXRlIiwib25PcGVuRWRpdG9yIiwiX3JlYWN0MiIsImRlZmF1bHQiLCJjbGFzc05hbWUiLCJvbkNsaWNrIiwiYWRkQ29tcG9uZW50IiwiYmluZCIsInNlbGVjdGVkQ29tcG9uZW50IiwiYWRkRm9sZGVyIiwiX0ZvbGRlcnMyIiwia2V5IiwiTWF0aCIsImNlaWwiLCJyYW5kb20iLCJvbkZvbGRlcnNVcGRhdGUiLCJvblNlbGVjdGlvbiIsIl9maW5kRm9sZGVycyIsIl9wcm9jZXNzRm9sZGVyIiwiRm9sZGVycyIsIm9sZFBhcmVudCIsImNvbnRlbnROYW1lIiwib2xkUGFyZW50Rm9sZGVyIiwiZGVsZXRlSW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJyZW1vdmVJbmRleCIsImRhdGEiLCJuZXdQYXJlbnQiLCJlbXB0eUZvbGRlckluZGV4IiwicmVtb3ZlQ29udGVudEZyb21QYXJlbnQiLCJyZW1vdmVGb2xkZXJGcm9tUGFyZW50IiwiZm9sZGVyU3RydWN0dXJlIiwib25Gb2xkZXJVcGRhdGUiLCJvbkZvbGRlclN0YXR1c0NoYW5nZWQiLCJpbml0aWFsaXNlUHJvcHMiLCJwcm9jZXNzRm9sZGVyIiwiY2hlY2tGb2xkZXIiLCJ4IiwiUmVhY3QiLCJfRm9sZGVyMiIsInByb2Nlc3NDb250ZW50IiwiX0NvbXBvbmVudHQyIiwiZmluZCIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwiX1JlZHVjZXIiLCJfRXZlbnRzIiwiRm9sZGVyIiwiaWNvblN0YXR1cyIsImZvbGRlckNsYXNzIiwiX05ld0ZvbGRlcjIiLCJvbk5ld0ZvbGRlciIsIm5ld0ZvbGRlciIsImRhdGEtZm9sZGVyLW5hbWUiLCJkcmFnZ2FibGUiLCJvbkRyb3AiLCJkcm9wSGFuZGxlciIsIm9uRHJhZ092ZXIiLCJkcmFnT3ZlckhhbmRsZXIiLCJvbkRyYWdMZWF2ZSIsImRyYWdMZWF2ZUhhbmRsZXIiLCJvbkRyYWdTdGFydCIsImZvbGRlclN0YXJ0RHJhZyIsInRvZ2dsZUZvbGRlciIsInBsYWNlaG9sZGVyIiwicmVhZE9ubHkiLCJ2YWx1ZSIsIk5ld0ZvbGRlciIsIm5ld0ZvbGRlckNsYXNzIiwiZSIsImN1cnJlbnRUYXJnZXQiLCJhdXRvRm9jdXMiLCJvbkNoYW5nZSIsImZvbGRlck5hbWVDaGFuZ2VkIiwib25LZXlQcmVzcyIsInNhdmVGb2xkZXJOYW1lT25FbnRlciIsImV2IiwicHJldmVudERlZmF1bHQiLCJkYXRhVHJhbnNmZXIiLCJnZXREYXRhIiwiY29uc29sZSIsImVycm9yIiwiZHJvcHBlZEZvbGRlciIsImxvZyIsInN0b3BQcm9wYWdhdGlvbiIsImV2ZW50IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwicGFyZW50RWxlbWVudCIsInNldERhdGEiLCJDb21wb25lbnR0Iiwic2VsZWN0aW9uQ2hhbmdlZCIsIm9uQ29udGV4dE1lbnUiLCJpbmRleCIsImRhdGEtbmFtZSIsImFkZENvbXBvbmVudERldGFpbHMiLCJfcmVhY3RDb2RlbWlycm9yIiwiRWRpdG9yIiwidHJ1ZU5hbWUiLCJvblNhdmUiLCJfdGhpczIiLCJzYXZlRWxlbWVudCIsImlkIiwic2F2ZU5hbWUiLCJVbkNvbnRyb2xsZWQiLCJhdXRvQ3Vyc29yIiwibGluZU51bWJlcnMiLCJtb2RlIiwidGhlbWUiLCJpbmRlbnRXaXRoVGFicyIsInNtYXJ0SW5kZW50IiwibGluZVdyYXBwaW5nIiwiZWRpdG9yIiwiaXNBcnJheSIsImNvbXAiLCJlZGl0b3JIaXN0b3J5IiwibGFzdEl0ZW0iLCJwb3AiLCJzYW1wbGUiLCJyZXF1aXJlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImhpc3RvcnkiLCJub1B1c2giLCJzZXRJdGVtIiwicHVzaEhpc3RvcnkiLCJldmVudHMiLCJjb25maWciLCJyZWR1Y2VyIiwicHVibGlzaGFibGUiLCJwdWJsaXNoTmFtZSIsIl9nZXROb2RlVHJlZSIsIkV2ZW50cyIsImFzc2lnbiIsInNlbGVjdGVkVGFnIiwibm9kZVRyZWUiLCJnZXROb2RlVHJlZSIsInJlc3VsdCIsImV2ZW50c09mU2VsZWN0ZWRUYWciLCJjb25maWd1cmF0b3IiLCJldmVudE5hbWVzIiwiY2hpbGRDb21wb25lbnROYW1lIiwic3BsaXQiLCJjaGlsZENvbXBvbmVudCIsInB1Ymxpc2hhYmxlRXZlbnQiLCJldmVudE5hbWUiLCJfRXZlbnQyIiwic2VsZWN0ZWRUYWdJRCIsInVwZGF0ZUV2ZW50IiwiZGVsZXRlRXZlbnQiLCJfQ29uZmlndXJhdG9yMiIsInVwZGF0ZUNvbmZpZ3VyYXRpb24iLCJjaGlsZE5hbWUiLCJfTm9kZXMyIiwibm9kZSIsIm9uU2VsZWN0ZWRUYWdDaGFuZ2VkIiwic2VsZWN0ZWRUYWdDaGFuZ2VkIiwiQ29uZmlndXJhdG9yIiwib3ZlcnJpZGUiLCJwYXJlbnROYW1lIiwidG9nZ2VsT3ZlcnJpZGUiLCJjaGVja2VkIiwiTm9kZXMiLCJjaGlsZCIsIkV2ZW50IiwidXBkYXRlUHVibGlzaE5hbWUiLCJjbGFzcyIsImxpc3QiLCJ1cGRhdGVFdmVudE5hbWUiLCJ0aXRsZSIsInVwZGF0ZUV2ZW50VHlwZSIsInB1Ymxpc2hFdmVudCIsImVsZW1lbnQiLCJjaGFuZ2VkRXZlbnRJbmRleCIsIm9uRXZlbnRzVXBkYXRlIiwib25Db25maWdVcGRhdGUiLCJfUnVudGltZSIsImpzeCIsImV2YWwiLCJCYWJlbCIsInByZXNldHMiLCJjb2RlIiwiX2RlZmluZVByb3BlcnR5IiwiX1JlYWN0IiwiY29tcG9uZW50U3RyaW5nIiwiY29udmVydFRvUmVhY3QiLCJwbHVnaW5zIiwicmVwbGFjZSIsInByb3BzSW5NYXJrdXAiLCJhZGRQcm9wcyIsInN0YXRlT3ZlcmlkZU1hcmt1cCIsImtleXMiLCJjaGlsZE1hcmt1cCIsInJlbmRlckxpc3RNYXJrdXAiLCJjaGlsZE1hcmt1cFdpdGhQcm9wcyIsImdldFN0YXRlZE1hcmt1cCIsImNvbXBvbmVudEV2ZW50ZWRNYXJrdXAiLCJqb2luIiwiZ2V0Q29tcG9uZW50RXZlbnRlZE1hcmt1cCIsIlJlYWN0Q29tcG9uZW50IiwiX2xvb3AiLCJhc3NldE5hbWUiLCJhc3NldCIsImdldFVSTCIsImJsb2IiLCJ1cmxUb05hbWUiLCJfbG9vcDIiLCJ1cmwiLCJsb2NhdGlvbiIsImhvc3QiLCJfZGIiLCJBc3NldHMiLCJpbWFnZVVSTCIsInNlbGVjdGVkQXNzZXQiLCJ3cml0ZVRvREIiLCJmaWxlIiwiYmluIiwibmV3RmlsZSIsInNpemUiLCJpbWciLCJzcmMiLCJfQXNzZXQyIiwic2VsZWN0ZWQiLCJvblNlbGVjdGVkIiwidXBkYXRlZFNlbGVjdGVkIiwiZmV0Y2hGcm9tREIiLCJBc3NldCIsImZpbGVzIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJvbmxvYWRlbmQiLCJiIiwiYXBwZW5kVG9Cb2R5IiwiaURCIiwiZ2V0IiwidGhlbiIsImhyZWYiLCJwdXQiLCJnZXRBbGwiLCJpbWFnZSIsIkhpc3RvcnkiLCJyZWZyZXNoVG9QcmV2aW91cyIsIkR5bmFtaWNDb21wb25lbnQiLCJDZW50ZXIiLCJCb3R0b20iLCJMZWZ0IiwiUmlnaHQiLCJpbm5lclRleHQiLCJ1cGRhdGVTZWxlY3RlZFRhYiIsIkNvbnRleHRNZW51Iiwib25NZXNzYWdlIiwicG9zaXRpb24iLCJuZXdFbGVtZW50cyIsImVsZW1lbnRzIiwidXBkYXRlQ29uZmlnIiwibmV3RWxlbWVudCIsImVsZW1lbnRFeGlzdCIsInNlbGVjdGVkSW5kZXgiLCJlbGVtZW50VW5kZXJFZGl0Iiwic2hvd0VkaXRvciIsInVwZGF0ZVNlbGVjdGVkQ29tcG9uZW50Iiwib25EZWxldGVDb21wb25lbnQiLCJjb250ZW50SW5kZXgiLCJvbkV4dGVuZENvbXBvbmVudCIsIm9uRGVsZXRlRm9sZGVyIiwiVFlQRSIsIl9ub0ZvbGRlciRjb250ZW50cyIsIm5vRm9sZGVyIiwiZm9sZGVyVG9EZWxldGUiLCJ1cGRhdGVGb2xkZXJzIiwiX0V2ZW50czMiLCJJbmRleCIsInNlbGVjdGVkVGFiIiwib25rZXlkb3duIiwiYWx0S2V5Iiwia2V5Q29kZSIsIm9wZW5SaWdodCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY29udGV4dE1lbnVDaGlsZHJlbiIsIm9wZW5FeHBvcnRUYWIiLCJzaG93Q29udGV4dE1lbnUiLCJjb250ZXh0TWVudVBvc2l0aW9uIiwidG9wIiwiY2xpZW50WSIsImxlZnQiLCJjbGllbnRYIiwibWVzc2FnZSIsInJhbmRvbUtleSIsIm9uU2hvd0NvbnRleHRNZW51IiwiaGlkZUNvbnRleHRNZW51IiwiX0xlZnQyIiwiX0NvbXBvbmVudHMyIiwib3BlbkVkaXRvciIsIl9EeW5hbWljQ29tcG9uZW50MiIsIl9SaWdodDIiLCJfRXZlbnRzMiIsIl9IaXN0b3J5MiIsIl9Bc3NldHMyIiwiX0JvdHRvbTIiLCJfRWRpdG9yMiIsIl9DZW50ZXIyIiwiX0NvbnRleHRNZW51MiIsIm9uQ29udGV4dE1lbnVNZXNzYWdlIiwiUmVhY3RET00iLCJyZW5kZXIiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6InlGQUFBLElBQUFBLEVBQUFDLEVBQUEsSUFFQUMsRUFBT0MsUUFBVSxDQUNiQyxTQUFVQSxXQUNWQyxVQUFXQSxZQUNYQyxjQUFlQSxnQkFDZkMsZUFBZ0JBLGlCQUNoQkMsV0FBWUEsZSxrU0NIQUMsV0FBVCxTQUFTQSxFQUFXQyxFQUFlQyxHQUV0QyxJQUFJQyxFQUFXRCxFQUFPQyxTQUV0QixJQUFJLElBQUlDLEVBQUUsRUFBRUEsRUFBR0QsRUFBU0UsT0FBUUQsSUFBSSxDQUNoQyxJQUFJRSxFQUFVSCxFQUFTQyxHQUNwQkgsSUFBZ0JLLElBQ2ZDLEVBQWVMLEdBRUcsaUJBQW5CLElBQU9JLEVBQVAsWUFBQUUsRUFBT0YsS0FDTk4sRUFBV0MsRUFBZUssR0FJbEMsT0FBT0MsRyxFQUdLRSxpQkFBVCxTQUFTQSxFQUFpQkMsRUFBWVIsR0FFekMsSUFBSUMsRUFBV0QsRUFBT0MsU0FFdEIsSUFBSSxJQUFJQyxFQUFFLEVBQUVBLEVBQUdELEVBQVNFLE9BQVFELElBQUksQ0FDaEMsSUFBSUUsRUFBVUgsRUFBU0MsR0FFRCxpQkFBbkIsSUFBT0UsRUFBUCxZQUFBRSxFQUFPRixNQUNIQSxFQUFRSyxPQUFTRCxJQUNoQkUsRUFBb0JWLEdBRXhCTyxFQUFpQkMsRUFBWUosSUFJckMsT0FBT00sRyxFQUlLQyxXQUFULFNBQVNBLEVBQVdILEVBQWFSLEdBR3BDLEdBQXFCLGlCQUFYQSxFQUNOLE9BQU8sRUFHWCxHQUFxQixpQkFBbEIsSUFBT0EsRUFBUCxZQUFBTSxFQUFPTixJQUFvQixDQUd2QkEsRUFBT1MsT0FBT0QsSUFDYkksRUFBY1osR0FLbEIsSUFGQSxJQUFJQyxFQUFXRCxFQUFPQyxTQUVkQyxFQUFFLEVBQUVBLEVBQUdELEVBQVNFLE9BQVFELElBQUksQ0FDaEMsSUFBSUUsRUFBVUgsRUFBU0MsR0FDdkJTLEVB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RUFBQUMsUUFBQXJELGNBQUMrVixFQUFBMVMsUUFBRCxDQUNJUSxJQUFLc1IsRUFDTHJILFFBQVNwSyxFQUNUbEYsS0FBTWtGLEVBQWtCbEYsS0FDeEJ1QyxPQUFRMkMsRUFBa0IzQyxPQUMxQnhCLE1BQU9tRSxFQUFrQm5FLE1BQ3pCTCxNQUFPd0UsRUFBa0J4RSxNQUN6QnlPLE1BQU0sU0FDTnRFLE9BQVFqSCxLQUFLbUgsZUFJckJuSCxLQUFLbEQsTUFBTXdFLGtCQUNQTixFQUFBQyxRQUFBckQsY0FBQzhWLEVBQUF6UyxRQUFELEtBQ0lELEVBQUFDLFFBQUFyRCxjQUFDZ1csRUFBQTNTLFFBQUQsS0FDSUQsRUFBQUMsUUFBQXJELGNBQUEsVUFBUXdOLE1BQU0sYUFBWWpLLFFBQVMsa0JBQU0rRixFQUFLcEcsU0FBUyxDQUFFb1EsWUFBWSxNQUFyRSxpQkFJUixLQUVQbFIsS0FBS2xELE1BQU0wVixnQkFBZ0J4UixFQUFBQyxRQUFBckQsY0FBQ2lXLEVBQUE1UyxRQUFELENBQWFqQyxTQUFVZ0IsS0FBS2xELE1BQU13VixvQkFBcUI1QixTQUFVMVEsS0FBS2xELE1BQU0yVixvQkFBcUJoQyxVQUFXelEsS0FBSzhULHFCQUFxQnpTLEtBQUtyQixRQUFTLFUsS0FLaE04RixRQUFRRyxJQUFJLG9EQUNaOE4sVUFBU0MsT0FBT2hULEVBQUFDLFFBQUFyRCxjQUFDa1UsRUFBRCxNQUFXdlUsU0FBUzBXLGVBQWUiLCJmaWxlIjoic3JjLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZWFkRGF0YSwgd3JpdGVEYXRhLCB3cml0ZUNvbXBvbmVudCwgcmVhZENvbXBvbmVudCwgcG9wSGlzdG9yeSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICByZWFkRGF0YTogcmVhZERhdGEsXG4gICAgd3JpdGVEYXRhOiB3cml0ZURhdGEsXG4gICAgcmVhZENvbXBvbmVudDogcmVhZENvbXBvbmVudCxcbiAgICB3cml0ZUNvbXBvbmVudDogd3JpdGVDb21wb25lbnQsXG4gICAgcG9wSGlzdG9yeTogcG9wSGlzdG9yeVxufSIsImxldCBmb2xkZXJGb3VuZCA9IFwiXCI7XG5sZXQgcGFyZW50Rm9sZGVyID0gXCJcIjtcbmxldCBmb2xkZXJQYXJlbnRGb2xkZXIgPSBcIlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZFBhcmVudChjb21wb25lbnROYW1lLCBmb2xkZXIpe1xuXG4gICAgbGV0IGNvbnRlbnRzID0gZm9sZGVyLmNvbnRlbnRzO1xuXG4gICAgZm9yKGxldCBpPTA7aTwgY29udGVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgY29udGVudCA9IGNvbnRlbnRzW2ldO1xuICAgICAgICBpZihjb21wb25lbnROYW1lPT09Y29udGVudCl7XG4gICAgICAgICAgICBwYXJlbnRGb2xkZXIgPSBmb2xkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgZmluZFBhcmVudChjb21wb25lbnROYW1lLCBjb250ZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudEZvbGRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQYXJlbnRGb2xkZXIoZm9sZGVyTmFtZSwgZm9sZGVyKXtcbiAgICBcbiAgICBsZXQgY29udGVudHMgPSBmb2xkZXIuY29udGVudHM7XG5cbiAgICBmb3IobGV0IGk9MDtpPCBjb250ZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBjb250ZW50ID0gY29udGVudHNbaV07XG5cbiAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgaWYoY29udGVudC5uYW1lID09PSBmb2xkZXJOYW1lKXtcbiAgICAgICAgICAgICAgICBmb2xkZXJQYXJlbnRGb2xkZXI9IGZvbGRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmRQYXJlbnRGb2xkZXIoZm9sZGVyTmFtZSwgY29udGVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb2xkZXJQYXJlbnRGb2xkZXI7XG59XG5cbi8vIEdpdmVuIGZvbGRlcnMgYW5kIGEgZm9sZGVybmFtZSwgZmluZHMgYSBmb2xkZXIgYW5kIHJldHVybnMgaXQuXG5leHBvcnQgZnVuY3Rpb24gZmluZEZvbGRlcihmb2xkZXJOYW1lICwgZm9sZGVyICl7XG5cbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgdHlwZSBpcyBzdHJpbmcuXG4gICAgaWYodHlwZW9mIGZvbGRlciA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmKHR5cGVvZiBmb2xkZXIgPT09IFwib2JqZWN0XCIpe1xuXG4gICAgICAgIC8vIFJldHVybiBmb2xkZXIgaWYgbmFtZSBtYXRjaGVzLlxuICAgICAgICBpZihmb2xkZXIubmFtZT09PWZvbGRlck5hbWUpe1xuICAgICAgICAgICAgZm9sZGVyRm91bmQgPSBmb2xkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29udGVudHMgPSBmb2xkZXIuY29udGVudHM7XG5cbiAgICAgICAgZm9yKGxldCBpPTA7aTwgY29udGVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb250ZW50c1tpXTtcbiAgICAgICAgICAgIGZpbmRGb2xkZXIoZm9sZGVyTmFtZSwgY29udGVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb2xkZXJGb3VuZDtcbn0iLCIvLyBEZXBlbmRlbmNpZXMuXG5cbmltcG9ydCB7IGNyZWF0ZUNvbXBvbmVudCB9IGZyb20gXCIuLi9jcmVhdGUtY29tcG9uZW50XCI7XG5pbXBvcnQgeyByZWFkRGF0YSB9IGZyb20gXCIuLi9TdG9yYWdlXCI7XG5cbi8vIFV0aWxpdGllcy5cblxuaW1wb3J0IHsgbmFtZVRvVVJMLCBoYXNBc3NldHN9IGZyb20gXCIuL2Fzc2V0VXRpbHNcIjtcblxuZnVuY3Rpb24gY3JlYXRlU3R5bGVzaGVldChzdHlsZSwgbmFtZSkge1xuXG4gICAgLy8gY2hlY2sgaWYgd2luZG93IGhhcyAkYXNzZXRzIFxuICAgIGlmICh3aW5kb3cuYXNzZXRzKSB7XG4gICAgICAgIHN0eWxlID0gbmFtZVRvVVJMKHN0eWxlKVxuICAgIH1cblxuICAgIGxldCB0b0RlbGV0ZSA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbZGF0YS1jb21wb25lbnQtbmFtZT0nJHtuYW1lfSddYCldO1xuICAgIHRvRGVsZXRlLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGl0ZW0ucmVtb3ZlKClcbiAgICB9KVxuICAgIHZhciBkeW5hbWljU3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgIGR5bmFtaWNTdHlsZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbXBvbmVudC1uYW1lXCIsIG5hbWUpO1xuICAgIGR5bmFtaWNTdHlsZS50eXBlID0gJ3RleHQvY3NzJztcbiAgICBkeW5hbWljU3R5bGUuaW5uZXJIVE1MID0gc3R5bGU7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkeW5hbWljU3R5bGUpXG59XG5cbi8qKiBUYWtlcyBhIGNvbXBvbmVudCBhbmQgY29udmVydHMgaXQgYXMgYSByZWFjdCBjb21wb25lbnQgKi9cbmZ1bmN0aW9uIHNhdmVUb1dpbmRvdyhjb21wb25lbnQpIHtcbiAgICBpZiAoaGFzQXNzZXRzKGNvbXBvbmVudC5zdGF0ZSkpIHtcbiAgICAgICAgY29tcG9uZW50LnN0YXRlID0gSlNPTi5wYXJzZShuYW1lVG9VUkwoSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50LnN0YXRlKSkpXG4gICAgfVxuICAgIGNyZWF0ZVN0eWxlc2hlZXQoY29tcG9uZW50LnN0eWxlLCBjb21wb25lbnQubmFtZSlcbiAgICB3aW5kb3dbY29tcG9uZW50Lm5hbWVdID0gY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGNoZWNrTmVzdGVkQ29tcG9uZW50cyhtYXJrdXApIHtcblxuICAgIHZhciBjb21wb25lbnRzID0gcmVhZERhdGEoXCJ1aS1lZGl0b3JcIik7XG5cbiAgICByZXR1cm4gY29tcG9uZW50cy5maWx0ZXIoY29tcG9uZW50ID0+IG1hcmt1cC5pbmNsdWRlcyhjb21wb25lbnQubmFtZSkpLmxlbmd0aCA+IDA7XG59XG5cbi8qKiBUYWtlcyBjb21wb25lbnRzIGFuZCBzYXZlcyB0aGVtIHRvIHdpbmRvdyBhcyByZWFjdCBPYmplY3QgKi9cbmV4cG9ydCBmdW5jdGlvbiBzYXZlQ29tcG9uZW50c1RvV2luZG93KG5lc3RlZENvbXBvbmVudHMpIHtcbiAgICAvLyBUcmFuc3BpbGUgdGhlbSBhbmQgbWFrZSB0aGVtIGdsb2JhbC5cbiAgICBuZXN0ZWRDb21wb25lbnRzLmZvckVhY2goZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICBzYXZlVG9XaW5kb3coSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb21wb25lbnQpKSlcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENoaWxkcmVuKHBhcmVudCkge1xuICAgIGxldCBjb21wb25lbnRzID0gcmVhZERhdGEoXCJ1aS1lZGl0b3JcIik7XG4gICAgaWYgKGNoZWNrTmVzdGVkQ29tcG9uZW50cyhwYXJlbnQubWFya3VwKSkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBjb21wb25lbnRzLmZpbHRlcihjb21wb25lbnQgPT4gcGFyZW50Lm1hcmt1cC5pbmNsdWRlcyhjb21wb25lbnQubmFtZSkpLm1hcChjb21wb25lbnQgPT4gY29tcG9uZW50Lm5hbWUpO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn1cblxuLyoqIFRha2VzIG1hcmt1cCBhbmQgcmV0dXJucyBjaGlsZHJlbiBjb21wb25lbnQgb2JqZWN0cy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROZXN0ZWRDb21wb25lbnRzKHBhcmVudCkge1xuICAgIC8vIFNob3VsZCBiZSBhYmxlIHRvIGRldGVjdCBuZXN0ZWQgY29tcG9uZW50LlxuXG4gICAgbGV0IGNvbXBvbmVudHMgPSByZWFkRGF0YShcInVpLWVkaXRvclwiKTtcbiAgICBsZXQgbmVzdGVkQ29tcG9uZW50cyA9IFtwYXJlbnRdO1xuICAgIGlmIChjaGVja05lc3RlZENvbXBvbmVudHMocGFyZW50Lm1hcmt1cCkpIHtcbiAgICAgICAgLy8gZmluZCBhbGwgdGhlIG5lc3RlZCBjb21wb25lbnRzIGZyb20gdGhlIG1hcmt1cCBhbmQgcHVzaCBpdCB0byBuZXN0ZWRDb21wb25lbnRzLlxuICAgICAgICBsZXQgY2hpbGRyZW4gPSBjb21wb25lbnRzLmZpbHRlcihjb21wb25lbnQgPT4gcGFyZW50Lm1hcmt1cC5pbmNsdWRlcyhjb21wb25lbnQubmFtZSkpO1xuICAgICAgICAvLyBGaW5kIGdyYW5kIGtpZHMuXG4gICAgICAgIGxldCBncmFuZEtpZHMgPSBjaGlsZHJlbi5tYXAoZ2V0TmVzdGVkQ29tcG9uZW50cykuZmxhdCgzKVxuICAgICAgICBuZXN0ZWRDb21wb25lbnRzLnB1c2goLi4uZ3JhbmRLaWRzKVxuICAgIH1cbiAgICByZXR1cm4gbmVzdGVkQ29tcG9uZW50cy5maWx0ZXIoY29tcG9uZW50ID0+IGNvbXBvbmVudCAmJiBjb21wb25lbnQubWFya3VwKTtcbn1cbiIsImxldCBmb2xkZXJGb3VuZCA9IFwiXCI7XG5sZXQgcGFyZW50Rm9sZGVyID0gXCJcIjtcbmxldCBmb2xkZXJQYXJlbnRGb2xkZXIgPSBcIlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZmluZFBhcmVudChjb21wb25lbnROYW1lLCBmb2xkZXIpe1xuXG4gICAgbGV0IGNvbnRlbnRzID0gZm9sZGVyLmNvbnRlbnRzO1xuXG4gICAgZm9yKGxldCBpPTA7aTwgY29udGVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICBsZXQgY29udGVudCA9IGNvbnRlbnRzW2ldO1xuICAgICAgICBpZihjb21wb25lbnROYW1lPT09Y29udGVudCl7XG4gICAgICAgICAgICBwYXJlbnRGb2xkZXIgPSBmb2xkZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgZmluZFBhcmVudChjb21wb25lbnROYW1lLCBjb250ZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcmVudEZvbGRlcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRQYXJlbnRGb2xkZXIoZm9sZGVyTmFtZSwgZm9sZGVyKXtcbiAgICBcbiAgICBsZXQgY29udGVudHMgPSBmb2xkZXIuY29udGVudHM7XG5cbiAgICBmb3IobGV0IGk9MDtpPCBjb250ZW50cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGxldCBjb250ZW50ID0gY29udGVudHNbaV07XG5cbiAgICAgICAgaWYodHlwZW9mIGNvbnRlbnQgPT09IFwib2JqZWN0XCIpe1xuICAgICAgICAgICAgaWYoY29udGVudC5uYW1lID09PSBmb2xkZXJOYW1lKXtcbiAgICAgICAgICAgICAgICBmb2xkZXJQYXJlbnRGb2xkZXI9IGZvbGRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmRQYXJlbnRGb2xkZXIoZm9sZGVyTmFtZSwgY29udGVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb2xkZXJQYXJlbnRGb2xkZXI7XG59XG5cbi8vIEdpdmVuIGZvbGRlcnMgYW5kIGEgZm9sZGVybmFtZSwgZmluZHMgYSBmb2xkZXIgYW5kIHJldHVybnMgaXQuXG5leHBvcnQgZnVuY3Rpb24gZmluZEZvbGRlcihmb2xkZXJOYW1lICwgZm9sZGVyICl7XG5cbiAgICAvLyBSZXR1cm4gZWFybHkgaWYgdHlwZSBpcyBzdHJpbmcuXG4gICAgaWYodHlwZW9mIGZvbGRlciA9PT0gXCJzdHJpbmdcIil7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmKHR5cGVvZiBmb2xkZXIgPT09IFwib2JqZWN0XCIpe1xuXG4gICAgICAgIC8vIFJldHVybiBmb2xkZXIgaWYgbmFtZSBtYXRjaGVzLlxuICAgICAgICBpZihmb2xkZXIubmFtZT09PWZvbGRlck5hbWUpe1xuICAgICAgICAgICAgZm9sZGVyRm91bmQgPSBmb2xkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29udGVudHMgPSBmb2xkZXIuY29udGVudHM7XG5cbiAgICAgICAgZm9yKGxldCBpPTA7aTwgY29udGVudHMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBjb250ZW50c1tpXTtcbiAgICAgICAgICAgIGZpbmRGb2xkZXIoZm9sZGVyTmFtZSwgY29udGVudClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmb2xkZXJGb3VuZDtcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbmRleC5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkge1xcbiAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gICAgY29sb3I6ICNkOWQ5ZDk7XFxuICAgIGZvbnQtZmFtaWx5OiBcXFwiTnVuaXRvIFNhbnNcXFwiLC1hcHBsZS1zeXN0ZW0sXFxcIi5TRk5TVGV4dC1SZWd1bGFyXFxcIixcXFwiU2FuIEZyYW5jaXNjb1xcXCIsQmxpbmtNYWNTeXN0ZW1Gb250LFxcXCJTZWdvZSBVSVxcXCIsXFxcIkhlbHZldGljYSBOZXVlXFxcIixIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtcXG4gICAgbWFyZ2luOiAwcHg7XFxufVxcblxcbmxpICwgbGFiZWwsIHAsIC5ydWxlcyAsIGlucHV0LCB0ZXh0YXJlYXtcXG4gICAgZm9udC1zaXplOiA5cHg7XFxufVxcblxcbmlucHV0LCB0ZXh0YXJlYSB7IFxcbiAgICBiYWNrZ3JvdW5kOiAjMmIyYjJiO1xcbiAgICBjb2xvcjogI2Q5ZDlkOTtcXG4gICAgb3BhY2l0eTogMC43NTtcXG4gICAgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcXG59XFxuXFxuaW5wdXRbdHlwZT1cXFwidGV4dFxcXCJdIHtcXG4gICAgLXdlYmtpdC1hcHBlYXJhbmNlOiB0ZXh0YXJlYTtcXG4gICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC41KTtcXG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsMCwwLDAuOSk7XFxuICAgIGJvcmRlci13aWR0aDogMXB4O1xcbiAgICBwYWRkaW5nOiA3cHg7XFxufVxcblxcbnVsIGxhYmVsIGlucHV0IHtcXG4gICAgd2lkdGg6IDEwcHg7XFxufVxcblxcbnVsLCBsaSB7XFxuICAgIHBhZGRpbmctbGVmdDogNXB4O1xcbiAgICBtYXJnaW4tdG9wOiAwcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDBweDtcXG59XFxuXFxuYnV0dG9uIHtcXG4gICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC41KTtcXG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsMCwwLDAuOSk7XFxuICAgIGJvcmRlci13aWR0aDogMXB4O1xcbiAgICBwYWRkaW5nOiA1cHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNDNhNDA7XFxuICAgIG1hcmdpbi1sZWZ0OiA0cHg7XFxufVxcblxcbmJ1dHRvbiBpe1xcbiAgICBwYWRkaW5nLXJpZ2h0OjRweDtcXG59XFxuXFxuYnV0dG9uOmhvdmVyIHtcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJhY2tncm91bmQ6IHJnYig0MywgNDMsIDQzKTtcXG59XFxuXFxudWwsbGksIHVsIGxhYmVsIHtcXG4gICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC41KTtcXG59XFxuXFxudWwgbGFiZWw6aG92ZXIsIGxpOmhvdmVyLCAuY29udGVudDpob3ZlcntcXG4gICAgY29sb3I6ICNmZmY7XFxuICAgIGJhY2tncm91bmQ6IHJnYig0MywgNDMsIDQzKTtcXG59XFxuXFxuI2luZGV4e1xcbiAgICBtYXJnaW46LTRweDtcXG59XFxuXFxuLkNvZGVNaXJyb3Ige1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcXG4gICAgbWFyZ2luLXRvcDo1cHg7XFxufVxcblxcbi5jb250YWluZXJ7XFxuICAgIHBhZGRpbmc6IDVweDtcXG4gICAgYmFja2dyb3VuZDogIzJDMzEzNDtcXG59XCIsIFwiXCJdKTtcblxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuLy8gU3R5bGVzLlxuXG5pbXBvcnQgXCIuL1N0eWxlLmNzc1wiO1xuXG4vLyBDb21wb25lbnRzLlxuXG5pbXBvcnQgRm9sZGVycyBmcm9tIFwiLi4vVXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVyc1wiO1xuXG5cbmNsYXNzIENvbXBvbmVudHMgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IHRoaXMucHJvcHMuY29tcG9uZW50cyxcbiAgICAgICAgICAgIGZvbGRlcnM6IHRoaXMucHJvcHMuZm9sZGVycyxcbiAgICAgICAgICAgIHNob3dDb250cm9sczogdGhpcy5wcm9wcy5zaG93Q29udHJvbHNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhZGRGb2xkZXIoKSB7XG4gICAgICAgIGxldCBmb2xkZXJzID0gQXJyYXkuZnJvbSh0aGlzLnN0YXRlLmZvbGRlcnMpO1xuICAgICAgICBmb2xkZXJzLnVuc2hpZnQoe1xuICAgICAgICAgICAgdHlwZTogXCJOZXdGb2xkZXJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICBjb250ZW50czogW10sXG4gICAgICAgICAgICBzdGF0dXM6IFwiY2xvc2VkXCJcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvbGRlcnMgfSlcbiAgICB9XG5cbiAgICBhZGRDb21wb25lbnQoKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25PcGVuRWRpdG9yKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgZWxlbWVudHMtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPlxuICAgICAgICAgICAgICAgICAgICBDb21wb25lbnRzXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJDb250cm9sc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYWRkQ29tcG9uZW50LmJpbmQodGhpcyl9PjxpIGNsYXNzTmFtZT1cImZhIGZhLWVkaXRcIj48L2k+e3Byb3BzLnNlbGVjdGVkQ29tcG9uZW50ID8gXCJFZGl0XCIgOiBcIkFkZFwifTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3RoaXMuYWRkRm9sZGVyLmJpbmQodGhpcyl9PjxpIGNsYXNzTmFtZT1cImZhIGZhLWZvbGRlclwiPjwvaT5Gb2xkZXI8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbGRlcnNcIj5cbiAgICAgICAgICAgICAgICAgICAgPEZvbGRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17TWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDAwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e3N0YXRlLmNvbXBvbmVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICBmb2xkZXJzPXtzdGF0ZS5mb2xkZXJzfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb21wb25lbnQ9e3Byb3BzLnNlbGVjdGVkQ29tcG9uZW50fVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvbGRlcnNVcGRhdGU9e3Byb3BzLm9uRm9sZGVyc1VwZGF0ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0aW9uPXtwcm9wcy5vblNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29tcG9uZW50cztcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm92ZXJyaWRlIHtcXG4gICAgbGluZS1oZWlnaHQ6IDAlO1xcbn1cXG5cXG50ZXh0YXJlYSB7XFxuICAgIGhlaWdodDogNzBweDtcXG4gICAgd2lkdGg6IDQ1MHB4O1xcbn1cXG5cXG4udGl0bGV7XFxuICAgIG1hcmdpbi10b3A6IDE1cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDExcHg7XFxuICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XFxuICAgIGJhY2tncm91bmQ6IHJnYig2NCwgNjQsIDY0KTtcXG4gICAgcGFkZGluZzogNXB4O1xcbiAgICBmb250LXNpemU6IDEycHg7XFxufVxcblxcbi5lbGVtZW50cy10YWIge1xcbiAgICBsZWZ0OjBweDtcXG4gICAgaGVpZ2h0OiAxMDB2aDtcXG4gICAgd2lkdGg6MTUwcHg7O1xcbn1cXG5cXG4uZm9sZGVyc3tcXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDsgIFxcbiAgICBoZWlnaHQ6ODV2aDtcXG59XFxuXFxuLkNvbnRyb2xze1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjJzIGVhc2UtaW47XFxufVxcblxcbi5oaWRlQ29udHJvbHN7XFxuICAgIG9wYWNpdHk6IDA7XFxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgLjVzIGVhc2UtaW4tb3V0O1xcbn1cIiwgXCJcIl0pO1xuXG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBVdGlsaXRpZXMuXG5cbmltcG9ydCB7IGZpbmRGb2xkZXIgfSBmcm9tIFwiLi9maW5kRm9sZGVyc1wiO1xuXG4vLyBTdHlsZXMuXG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCI7XG5cbmltcG9ydCB7IGZvbGRlclN0cnVjdHVyZSB9IGZyb20gXCIuL3Byb2Nlc3NGb2xkZXJcIjtcblxuY2xhc3MgRm9sZGVycyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgY29tcG9uZW50czogdGhpcy5wcm9wcy5jb21wb25lbnRzLFxuICAgICAgICAgICAgZm9sZGVyczogdGhpcy5wcm9wcy5mb2xkZXJzXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgcmVtb3ZlRm9sZGVyRnJvbVBhcmVudChmb2xkZXJzLCBvbGRQYXJlbnQsIGNvbnRlbnROYW1lKSB7XG4gICAgICAgIGxldCBvbGRQYXJlbnRGb2xkZXIgPSBmaW5kRm9sZGVyKG9sZFBhcmVudCAsIGZvbGRlcnNbMF0gKVxuICAgICAgICBsZXQgZGVsZXRlSW5kZXggPSBvbGRQYXJlbnRGb2xkZXIuY29udGVudHMuZmluZEluZGV4KGNvbnRlbnQ9PnR5cGVvZiBjb250ZW50ID09PSBcIm9iamVjdFwiICYmIGNvbnRlbnQubmFtZT09PWNvbnRlbnROYW1lKTtcbiAgICAgICAgaWYoZGVsZXRlSW5kZXg+LTEpXG4gICAgICAgICAgICBvbGRQYXJlbnRGb2xkZXIuY29udGVudHMuc3BsaWNlKGRlbGV0ZUluZGV4LDEpXG4gICAgfVxuXG4gICAgcmVtb3ZlQ29udGVudEZyb21QYXJlbnQoZm9sZGVycywgb2xkUGFyZW50LCBjb250ZW50TmFtZSkge1xuICAgICAgICBsZXQgb2xkUGFyZW50Rm9sZGVyID0gZmluZEZvbGRlcihvbGRQYXJlbnQgLCBmb2xkZXJzWzBdIClcbiAgICAgICAgbGV0IHJlbW92ZUluZGV4ID0gb2xkUGFyZW50Rm9sZGVyLmNvbnRlbnRzLmZpbmRJbmRleChjb250ZW50PT5jb250ZW50PT09Y29udGVudE5hbWUpXG4gICAgICAgIGlmKHJlbW92ZUluZGV4IT09LTEpXG4gICAgICAgICAgICBvbGRQYXJlbnRGb2xkZXIuY29udGVudHMuc3BsaWNlKHJlbW92ZUluZGV4LDEpXG4gICAgfVxuXG5cbiAgICBvbkZvbGRlclVwZGF0ZShkYXRhLCB0eXBlLCBvbGRQYXJlbnQsIGNvbnRlbnQpIHtcbiAgICAgICAgbGV0IGZvbGRlcnMgPSBBcnJheS5mcm9tKHRoaXMuc3RhdGUuZm9sZGVycyk7XG4gICAgICAgIGxldCBuZXdQYXJlbnQgPSBkYXRhLm5hbWU7XG4gICAgICAgIGxldCBmb2xkZXIgPSBmaW5kRm9sZGVyKG5ld1BhcmVudCwgZm9sZGVyc1swXSlcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJORVdGT0xERVJcIikge1xuICAgICAgICAgICAgbGV0IGVtcHR5Rm9sZGVySW5kZXggPSBmb2xkZXJzLmZpbmRJbmRleChmb2xkZXIgPT4gZm9sZGVyLnR5cGUgPT09IFwiTmV3Rm9sZGVyXCIpO1xuICAgICAgICAgICAgaWYgKGVtcHR5Rm9sZGVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBuZXdGb2xkZXJcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnNwbGljZShlbXB0eUZvbGRlckluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5vRm9sZGVyID0gZm9sZGVyc1swXTtcbiAgICAgICAgICAgIG5vRm9sZGVyLmNvbnRlbnRzLnVuc2hpZnQoZGF0YSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZSA9PSBcIkNPTVBPTkVOVFwiKSB7XG4gICAgICAgICAgICBmb2xkZXIuY29udGVudHMgPSBkYXRhLmNvbnRlbnRzO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb250ZW50RnJvbVBhcmVudChmb2xkZXJzLCBvbGRQYXJlbnQsIGNvbnRlbnQpXG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09IFwiRk9MREVSXCIpIHtcbiAgICAgICAgICAgIGZvbGRlci5jb250ZW50cyA9IGRhdGEuY29udGVudHM7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvbGRlckZyb21QYXJlbnQoZm9sZGVycywgb2xkUGFyZW50LCBjb250ZW50LCBuZXdQYXJlbnQpXG5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3BzLm9uRm9sZGVyc1VwZGF0ZShmb2xkZXJzKTtcblxuICAgIH1cblxuICAgIG9uRm9sZGVyU3RhdHVzQ2hhbmdlZChmb2xkZXIpe1xuICAgICAgICAvLyBmaW5kIGZvbGRlcixcbiAgICAgICAgbGV0IGZvbGRlclRvVXBkYXRlID0gZmluZEZvbGRlcihmb2xkZXIubmFtZSwgdGhpcy5zdGF0ZS5mb2xkZXJzWzBdKVxuICAgICAgICAvLyB1cGRhdGUgaXQgaW4gZm9sZGVycyxcbiAgICAgICAgZm9sZGVyVG9VcGRhdGUuc3RhdHVzID0gZm9sZGVyLnN0YXR1cztcbiAgICAgICAgdGhpcy5wcm9wcy5vbkZvbGRlcnNVcGRhdGUodGhpcy5zdGF0ZS5mb2xkZXJzKVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGZvbGRlclN0cnVjdHVyZSh0aGlzLnByb3BzLCB0aGlzLm9uRm9sZGVyVXBkYXRlLmJpbmQodGhpcyksIHRoaXMub25Gb2xkZXJTdGF0dXNDaGFuZ2VkLmJpbmQodGhpcykpXG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb2xkZXJzO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubmV3Rm9sZGVye1xcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXG59XFxuXFxuLm5ld0ZvbGRlciBpe1xcbiAgICBjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjUpO1xcbiAgICBib3JkZXItY29sb3I6IHJnYmEoMCwwLDAsMC45KTtcXG4gICAgYm9yZGVyLXdpZHRoOiAxcHg7XFxuICAgIHBhZGRpbmc6IDdweDtcXG59XFxuXFxuLm5ld0ZvbGRlci5kcmFnT3ZlciBpe1xcbiAgICBhbmltYXRpb246IGJsaW5rIC41cyBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyBibGlua3tcXG4gICAgZnJvbSB7ICAgIFxcbiAgICAgICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC41KTtcXG4gICAgfVxcbiAgICB0byB7XFxuICAgICAgICBjb2xvcjogd2hpdGU7XFxuICAgIH1cXG59XFxuLmZhLmZhLWZvbGRlciB+IHVsIHtcXG4gICAgZGlzcGxheTogbm9uZTtcXG59XFxuLmZhLmZhLWZvbGRlci1vcGVuIH4gdWwge1xcbiAgICBkaXNwbGF5OmJsb2NrO1xcbn1cIiwgXCJcIl0pO1xuXG4iLCJpbXBvcnQgRm9sZGVyIGZyb20gXCIuL0ZvbGRlclwiO1xuaW1wb3J0IENvbXBvbmVudHQgZnJvbSBcIi4uLy4uLy4uL0NvbXBvbmVudHMvQ29tcG9uZW50dFwiO1xuXG5sZXQgc2VsZWN0ZWRDb21wb25lbnQsIG9uU2VsZWN0aW9uLCBvbkZvbGRlclVwZGF0ZSwgY29tcG9uZW50cywgZm9sZGVycywgb25Gb2xkZXJTdGF0dXNDaGFuZ2VkO1xuXG5mdW5jdGlvbiBpbml0aWFsaXNlUHJvcHMocHJvcHMsIGNoZWNrRm9sZGVyLCB4KXtcbiAgICBmb2xkZXJzID0gcHJvcHMuZm9sZGVycztcbiAgICBzZWxlY3RlZENvbXBvbmVudCA9IHByb3BzLnNlbGVjdGVkQ29tcG9uZW50O1xuICAgIG9uU2VsZWN0aW9uID0gcHJvcHMub25TZWxlY3Rpb247XG4gICAgY29tcG9uZW50cyA9IHByb3BzLmNvbXBvbmVudHM7XG4gICAgb25Gb2xkZXJVcGRhdGUgPSBjaGVja0ZvbGRlcjtcbiAgICBvbkZvbGRlclN0YXR1c0NoYW5nZWQ9eDtcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0ZvbGRlciAoZm9sZGVyLCBpKXtcbiAgICBsZXQgY29udGVudHMgPSBmb2xkZXIuY29udGVudHM7XG5cbiAgICByZXR1cm4gPEZvbGRlclxuICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICBmb2xkZXI9e2ZvbGRlcn1cbiAgICAgICAgICAgICAgICBmb2xkZXJzPXtmb2xkZXJzfVxuICAgICAgICAgICAgICAgIGNvbnRlbnRzPXtjb250ZW50cy5tYXAoIHByb2Nlc3NDb250ZW50ICl9XG4gICAgICAgICAgICAgICAgb25Gb2xkZXJTdGF0dXNDaGFuZ2VkPXtvbkZvbGRlclN0YXR1c0NoYW5nZWR9XG4gICAgICAgICAgICAgICAgb25Gb2xkZXJVcGRhdGU9e29uRm9sZGVyVXBkYXRlfS8+XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NDb250ZW50IChjb250ZW50LCBpKXtcblxuICAgIC8vIENoZWNrIGlmIGNvbnRlbnQgaXMgYSBjb21wb25lbnQgbmFtZS5cbiAgICBpZih0eXBlb2YgY29udGVudCA9PT0gXCJzdHJpbmdcIiApe1xuXG4gICAgICAgIHJldHVybiA8Q29tcG9uZW50dCBcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQ9e2NvbXBvbmVudHMuZmluZChjb21wb25lbnQ9PmNvbXBvbmVudC5uYW1lPT09Y29udGVudCl9XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29tcG9uZW50PXtzZWxlY3RlZENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb25DaGFuZ2U9e29uU2VsZWN0aW9ufVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgIH1cbiAgICAvLyBlbHNlIGl0cyBhIGZvbGRlciB0eXBlLlxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgZm9sZGVyID0gY29udGVudDtcbiAgICAgICAgcmV0dXJuIDxGb2xkZXJcbiAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICBmb2xkZXI9e2ZvbGRlcn1cbiAgICAgICAgICAgICAgICAgICAgZm9sZGVycz17Zm9sZGVyc31cbiAgICAgICAgICAgICAgICAgICAgY29udGVudHM9e2ZvbGRlci5jb250ZW50cy5tYXAoIHByb2Nlc3NDb250ZW50ICl9XG4gICAgICAgICAgICAgICAgICAgIG9uRm9sZGVyU3RhdHVzQ2hhbmdlZD17b25Gb2xkZXJTdGF0dXNDaGFuZ2VkfVxuICAgICAgICAgICAgICAgICAgICBvbkZvbGRlclVwZGF0ZT17b25Gb2xkZXJVcGRhdGV9Lz5cbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGZvbGRlclN0cnVjdHVyZShwcm9wcywgb25Gb2xkZXJVcGRhdGUsIG9uRm9sZGVyU3RhdHVzQ2hhbmdlZCl7XG4gICAgbGV0IGZvbGRlcnMgPSBwcm9wcy5mb2xkZXJzO1xuXG4gICAgaW5pdGlhbGlzZVByb3BzKHByb3BzLCBvbkZvbGRlclVwZGF0ZSwgb25Gb2xkZXJTdGF0dXNDaGFuZ2VkKTtcblxuICAgIHJldHVybihmb2xkZXJzLm1hcChwcm9jZXNzRm9sZGVyKSlcbn0iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBTdHlsZXMuXG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCI7XG5pbXBvcnQgTmV3Rm9sZGVyIGZyb20gXCIuLi9OZXdGb2xkZXJcIjtcblxuaW1wb3J0IHsgdG9nZ2xlRm9sZGVyfSBmcm9tIFwiLi9SZWR1Y2VyXCI7XG5pbXBvcnQge2Ryb3BIYW5kbGVyLCBkcmFnT3ZlckhhbmRsZXIsIGRyYWdMZWF2ZUhhbmRsZXIsIGZvbGRlclN0YXJ0RHJhZ30gZnJvbSBcIi4vRXZlbnRzXCI7XG5cbmNsYXNzIEZvbGRlciBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgaWNvblN0YXR1czogXCJmYSBmYS1mb2xkZXJcIixcbiAgICAgICAgICAgIGZvbGRlckNsYXNzOiBcIm5ld0ZvbGRlclwiLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5wcm9wcy5mb2xkZXIubmFtZSxcbiAgICAgICAgICAgIGNvbnRlbnRzOiB0aGlzLnByb3BzLmZvbGRlci5jb250ZW50cyxcbiAgICAgICAgICAgIHR5cGU6IHRoaXMucHJvcHMuZm9sZGVyLnR5cGUsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMucHJvcHMuZm9sZGVyLnN0YXR1c1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgbmV3Rm9sZGVyKGZvbGRlcil7XG4gICAgICAgIHRoaXMucHJvcHMub25Gb2xkZXJVcGRhdGUoZm9sZGVyLCBcIk5FV0ZPTERFUlwiKVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBsZXQgZm9sZGVyID0gdGhpcy5wcm9wcy5mb2xkZXI7XG4gICAgICAgIGxldCBjb250ZW50cyA9IHRoaXMucHJvcHMuY29udGVudHM7XG4gICAgICAgIGxldCBpY29uU3RhdHVzID0gdGhpcy5zdGF0ZS5zdGF0dXMgPT09IFwib3BlblwiID8gXCJmYSBmYS1mb2xkZXItb3BlblwiIDogXCJmYSBmYS1mb2xkZXJcIjtcbiAgICAgICAgaWYoZm9sZGVyLnR5cGU9PVwiTmV3Rm9sZGVyXCIpe1xuICAgICAgICAgICAgcmV0dXJuICg8TmV3Rm9sZGVyIG9uTmV3Rm9sZGVyPXt0aGlzLm5ld0ZvbGRlci5iaW5kKHRoaXMpfS8+KVxuICAgICAgICB9XG4gICAgICAgIGlmKGZvbGRlci50eXBlPT1cImZvbGRlclwiKXtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmZvbGRlckNsYXNzfVxuICAgICAgICAgICAgICAgICAgICBkYXRhLWZvbGRlci1uYW1lPXtmb2xkZXIubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlPVwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXtkcm9wSGFuZGxlci5iaW5kKHRoaXMpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkRyYWdPdmVyPXtkcmFnT3ZlckhhbmRsZXIuYmluZCh0aGlzKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnTGVhdmU9e2RyYWdMZWF2ZUhhbmRsZXIuYmluZCh0aGlzKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e2ZvbGRlclN0YXJ0RHJhZy5iaW5kKHRoaXMpfSA+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT17aWNvblN0YXR1c30gb25DbGljaz17dG9nZ2xlRm9sZGVyLmJpbmQodGhpcyl9PjwvaT5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3NOYW1lPVwiZm9sZGVyXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBmb2xkZXIgbmFtZVwiIHJlYWRPbmx5IHZhbHVlPXt0aGlzLnN0YXRlLm5hbWV9Lz5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc3RhdHVzID09PSBcIm9wZW5cIiA/IGNvbnRlbnRzIDogbnVsbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoZm9sZGVyLnR5cGU9PVwibm9Gb2xkZXJcIil7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5mb2xkZXJDbGFzc31cbiAgICAgICAgICAgICAgICAgICAgZGF0YS1mb2xkZXItbmFtZT17Zm9sZGVyLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZT1cInRydWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJvcD17ZHJvcEhhbmRsZXIuYmluZCh0aGlzKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnT3Zlcj17ZHJhZ092ZXJIYW5kbGVyLmJpbmQodGhpcyl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXtkcmFnTGVhdmVIYW5kbGVyLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e2ZvbGRlclN0YXJ0RHJhZy5iaW5kKHRoaXMpfSAgPlxuICAgICAgICAgICAgICAgICAgICB7Y29udGVudHN9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb2xkZXI7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImlucHV0LmZvbGRlcntcXG4gICAgYm9yZGVyOm5vbmU7XFxuICAgIGJhY2tncm91bmQ6bm9uZTtcXG4gICAgcGFkZGluZy1ib3R0b206IDEzcHg7XFxufVxcblxcbi5uZXdGb2xkZXJ7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4ubmV3Rm9sZGVyIGl7XFxuICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XFxuICAgIGJvcmRlci1jb2xvcjogcmdiYSgwLDAsMCwwLjkpO1xcbiAgICBib3JkZXItd2lkdGg6IDFweDtcXG4gICAgcGFkZGluZzogN3B4O1xcbn1cXG5cXG4ubmV3Rm9sZGVyLmRyYWdPdmVyIGl7XFxuICAgIGFuaW1hdGlvbjogYmxpbmsgLjVzIGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIGJsaW5re1xcbiAgICBmcm9tIHsgICAgXFxuICAgICAgICBjb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjUpO1xcbiAgICB9XFxuICAgIHRvIHtcXG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcXG4gICAgfVxcbn1cXG4uZmEuZmEtZm9sZGVyIH4gdWwge1xcbiAgICBkaXNwbGF5OiBub25lO1xcbn1cXG4uZmEuZmEtZm9sZGVyLW9wZW4gfiB1bCB7XFxuICAgIGRpc3BsYXk6YmxvY2s7XFxufVwiLCBcIlwiXSk7XG5cbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5cbi8vIFN0eWxlcy5cblxuaW1wb3J0IFwiLi9TdHlsZS5jc3NcIjtcblxuLy8gQ29tcG9uZW50cy5cblxuY2xhc3MgTmV3Rm9sZGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzdGF0dXM6IFwiZmEgZmEtZm9sZGVyXCIsXG4gICAgICAgICAgICBuZXdGb2xkZXJDbGFzczogXCJuZXdGb2xkZXJcIixcbiAgICAgICAgICAgIGZvbGRlck5hbWU6IFwiXCJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmb2xkZXJOYW1lQ2hhbmdlZChlKXtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBmb2xkZXJOYW1lOiBlLmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzYXZlRm9sZGVyTmFtZU9uRW50ZXIoZSl7XG4gICAgICAgIGlmKGUua2V5PT09XCJFbnRlclwiKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25OZXdGb2xkZXIoe1xuICAgICAgICAgICAgICAgIG5hbWU6dGhpcy5zdGF0ZS5mb2xkZXJOYW1lLFxuICAgICAgICAgICAgICAgIGNvbnRlbnRzOltdLFxuICAgICAgICAgICAgICAgIHR5cGU6XCJmb2xkZXJcIixcbiAgICAgICAgICAgICAgICBzdGF0dXM6XCJjbG9zZWRcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5zdGF0ZS5uZXdGb2xkZXJDbGFzc30+XG4gICAgICAgICAgICA8aSBjbGFzc05hbWU9e3RoaXMuc3RhdGUuc3RhdHVzfT48L2k+XG4gICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmb2xkZXJcIiBcbiAgICAgICAgICAgICAgICBhdXRvRm9jdXM9e3RydWV9IFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgZm9sZGVyIG5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlID0ge3RoaXMuc3RhdGUuZm9sZGVyTmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5mb2xkZXJOYW1lQ2hhbmdlZC5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e3RoaXMuc2F2ZUZvbGRlck5hbWVPbkVudGVyLmJpbmQodGhpcyl9Lz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOZXdGb2xkZXI7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5uZXdGb2xkZXIgaXtcXG4gICAgY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC41KTtcXG4gICAgYm9yZGVyLWNvbG9yOiByZ2JhKDAsMCwwLDAuOSk7XFxuICAgIGJvcmRlci13aWR0aDogMXB4O1xcbiAgICBwYWRkaW5nOiA3cHg7XFxufVxcblxcbi5uZXdGb2xkZXIuZHJhZ092ZXIgaXtcXG4gICAgYW5pbWF0aW9uOiBibGluayAuNXMgaW5maW5pdGU7XFxufVxcblxcbkBrZXlmcmFtZXMgYmxpbmt7XFxuICAgIGZyb20geyAgICBcXG4gICAgICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XFxuICAgIH1cXG4gICAgdG8ge1xcbiAgICAgICAgY29sb3I6IGdyZWVuO1xcbiAgICB9XFxufVwiLCBcIlwiXSk7XG5cbiIsImZ1bmN0aW9uIG9wZW5Gb2xkZXIoKXtcbiAgICBsZXQgc3RhdGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTtcbiAgICBzdGF0ZS5zdGF0dXMgPSBcIm9wZW5cIjtcbiAgICB0aGlzLnByb3BzLm9uRm9sZGVyU3RhdHVzQ2hhbmdlZChzdGF0ZSlcbn1cblxuZnVuY3Rpb24gY2xvc2VGb2xkZXIoKXtcbiAgICBsZXQgc3RhdGUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUpKTtcbiAgICBzdGF0ZS5zdGF0dXMgPSBcImNsb3NlZFwiO1xuICAgIHRoaXMucHJvcHMub25Gb2xkZXJTdGF0dXNDaGFuZ2VkKHN0YXRlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlRm9sZGVyKCl7XG4gICAgaWYodGhpcy5zdGF0ZS5zdGF0dXMgPT09IFwiY2xvc2VkXCIpIHtcbiAgICAgICAgb3BlbkZvbGRlci5jYWxsKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNsb3NlRm9sZGVyLmNhbGwodGhpcyk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgZmluZEZvbGRlciB9IGZyb20gXCIuLi9maW5kRm9sZGVyc1wiO1xuXG5mdW5jdGlvbiBoYW5kbGVDb21wb25lbnREcm9wKGNvbXBvbmVudE5hbWUsIG9sZFBhcmVudCl7XG4gICAgbGV0IGNvbnRlbnRzID0gQXJyYXkuZnJvbSh0aGlzLnN0YXRlLmNvbnRlbnRzKTtcbiAgICBcbiAgICBjb250ZW50cy5wdXNoKGNvbXBvbmVudE5hbWUpXG5cbiAgICB0aGlzLnByb3BzLm9uRm9sZGVyVXBkYXRlKHtcbiAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxuICAgICAgICBjb250ZW50czogY29udGVudHMsXG4gICAgICAgIHR5cGU6IFwiZm9sZGVyXCIsXG4gICAgICAgIHN0YXR1czogXCJvcGVuXCJcbiAgICB9LFxuICAgIFwiQ09NUE9ORU5UXCIsXG4gICAgb2xkUGFyZW50LFxuICAgIGNvbXBvbmVudE5hbWUpXG59XG5cbmZ1bmN0aW9uIGhhbmRsZUZvbGRlckRyb3AoZm9sZGVyTmFtZSwgb2xkUGFyZW50KXtcbiAgICBsZXQgY29udGVudHMgPSBBcnJheS5mcm9tKHRoaXMuc3RhdGUuY29udGVudHMpO1xuXG4gICAgLy8gMS4gRmluZCBmb2xkZXIgb2JqZWN0LlxuICAgIGxldCBkcm9wcGVkRm9sZGVyID0gZmluZEZvbGRlcihmb2xkZXJOYW1lLCB0aGlzLnByb3BzLmZvbGRlcnNbMF0pXG5cbiAgICBjb250ZW50cy5wdXNoKGRyb3BwZWRGb2xkZXIpXG5cbiAgICAvLyAyLiBSZW1vdmUgaXQgZnJvbSBpdHMgcGFyZW50IChwYXJlbnRGb2xkZXJOYW1lKVxuICAgIC8vIGRvIHNvbWV3aGVyZSBlbHNlLiBoZWFkIGh1cnRzXG5cbiAgICAvLyBDaGVjayBpZiBpdCBpcyBhIGZvbGRlci4gQWxzbyBjaGVjayBpZiB3ZSBhcmUgbm90IGRyb3BwaW5nIG9uIHRoZSBvcmlnaW5hbCBmb2xkZXIuIG1heSBiZSByZW1vdmUgaXQgZnJvbSB0aGUgZG9tLiBOT1BFLiBcbiAgICBpZiAoZm9sZGVyTmFtZSAmJiBmb2xkZXJOYW1lICE9PSB0aGlzLnN0YXRlLm5hbWUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkZvbGRlclVwZGF0ZSh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN0YXRlLm5hbWUsXG4gICAgICAgICAgICBjb250ZW50czogY29udGVudHMsXG4gICAgICAgICAgICB0eXBlOiBcImZvbGRlclwiLFxuICAgICAgICAgICAgc3RhdHVzOiBcIm9wZW5cIlxuICAgICAgICB9LFxuICAgICAgICBcIkZPTERFUlwiLFxuICAgICAgICBvbGRQYXJlbnQsXG4gICAgICAgIGZvbGRlck5hbWUpXG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJvcEhhbmRsZXIoZXYpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGxldCBjb21wb25lbnROYW1lID0gZXYuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJjb21wb25lbnQtbmFtZVwiKTtcbiAgICBsZXQgZm9sZGVyTmFtZSA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiZm9sZGVyLW5hbWVcIik7XG4gICAgbGV0IG9sZFBhcmVudCA9IGV2LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwicGFyZW50LWZvbGRlci1uYW1lXCIpXG4gICAgbGV0IG5ld1BhcmVudCA9IHRoaXMuc3RhdGUubmFtZTtcblxuICAgIGlmKG9sZFBhcmVudCA9PT0gbmV3UGFyZW50ICl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZm9sZGVyQ2xhc3M6IFwibmV3Rm9sZGVyXCIsXG4gICAgICAgICAgICBzdGF0dXM6IFwiY2xvc2VkXCJcbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIGNvbXBvbmVudCBuYW1lIGlzIG51bGwsIHRoZW4gaXQgaXMgYSBmb2xkZXIgZHJvcHBlZCBvbiBmb2xkZXJcbiAgICBpZiAoY29tcG9uZW50TmFtZSA9PT0gXCJcIikge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBoYXBwZW4uXG4gICAgICAgIGlmIChmb2xkZXJOYW1lID09IFwibnVsbFwiIHx8IGZvbGRlck5hbWUgPT0gXCJcIikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZvbGRlciBjYW5ub3QgYmUgZW1wdHlcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBoYW5kbGVGb2xkZXJEcm9wLmNhbGwodGhpcywgZm9sZGVyTmFtZSwgb2xkUGFyZW50KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGhhbmRsZUNvbXBvbmVudERyb3AuY2FsbCh0aGlzLCBjb21wb25lbnROYW1lLCBvbGRQYXJlbnQpO1xuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKFwiRHJvcCBmcm9tIGZvbGRlclwiKTtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZ092ZXJIYW5kbGVyKGV2KSB7XG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZm9sZGVyQ2xhc3M6IFwibmV3Rm9sZGVyIGRyYWdPdmVyXCIsXG4gICAgICAgIHN0YXR1czogXCJvcGVuXCJcbiAgICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZHJhZ0xlYXZlSGFuZGxlcihlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZvbGRlckNsYXNzOiBcIm5ld0ZvbGRlclwiLFxuICAgICAgICBzdGF0dXM6IFwiY2xvc2VkXCJcbiAgICB9KVxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBmb2xkZXJTdGFydERyYWcoZSkge1xuICAgIGxldCBuYW1lID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtZm9sZGVyLW5hbWVcIilcbiAgICBsZXQgcGFyZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1mb2xkZXItbmFtZVwiKVxuICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJmb2xkZXItbmFtZVwiLCBuYW1lKTtcbiAgICBlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwicGFyZW50LWZvbGRlci1uYW1lXCIsIHBhcmVudCk7XG4gICAgY29uc29sZS5sb2coYEZvbGRlciAke25hbWV9IGRyYWdlZCB3aXRoIHBhcmVudCAke3BhcmVudH1gKVxufVxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuLy8gRXZlbnRzLlxuXG5pbXBvcnQge3NlbGVjdGlvbkNoYW5nZWR9IGZyb20gXCIuL0V2ZW50c1wiO1xuXG5cbi8vIFN0eWxlcy5cblxuaW1wb3J0ICBcIi4vU3R5bGUuY3NzXCI7XG5cbmNsYXNzIENvbXBvbmVudHQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkQ29tcG9uZW50OiB0aGlzLnByb3BzLnNlbGVjdGVkQ29tcG9uZW50XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50RGV0YWlscyhlKXtcblxuICAgICAgICAvKiogUGFzcyBkZXRhaWxzIGFib3V0IGNvbXBvbmVudCBvciBmb2xkZXIgaW4gdGhlIGRyYWcgZXZlbnQgKi9cbiAgICAgICAgXG4gICAgICAgIGxldCBuYW1lID0gZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKVxuXG4gICAgICAgIGUuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJjb21wb25lbnQtbmFtZVwiLCBuYW1lKTtcbiAgICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInBhcmVudC1mb2xkZXItbmFtZVwiLCBlLmN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZvbGRlci1uYW1lXCIpKVxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBsZXQgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICBsZXQgc2VsZWN0ZWRDb21wb25lbnQgPSBwcm9wcy5zZWxlY3RlZENvbXBvbmVudDtcbiAgICAgICAgbGV0IGNvbXBvbmVudCA9IHByb3BzLmNvbXBvbmVudDtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGxpIFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB7c2VsZWN0ZWRDb21wb25lbnQgJiYgcHJvcHMuY29tcG9uZW50Lm5hbWU9PT1zZWxlY3RlZENvbXBvbmVudC5uYW1lID8gXCJzZWxlY3RlZCBjb21wb25lbnQgYmFja2dyb3VuZFwiOiBcImNvbXBvbmVudCBiYWNrZ3JvdW5kXCJ9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2sgPSB7c2VsZWN0aW9uQ2hhbmdlZC5iaW5kKHRoaXMsY29tcG9uZW50Lm5hbWUpfVxuICAgICAgICAgICAgICAgICAgICBvbkNvbnRleHRNZW51ID0ge3NlbGVjdGlvbkNoYW5nZWQuYmluZCh0aGlzLGNvbXBvbmVudC5uYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB7cHJvcHMuaW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZT1cInRydWVcIiBcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1uYW1lPXtjb21wb25lbnQubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgb25EcmFnU3RhcnQ9e3RoaXMuYWRkQ29tcG9uZW50RGV0YWlscy5iaW5kKHRoaXMpfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiY29tcG9uZW50TmFtZSBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wb25lbnQubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDb21wb25lbnR0O1xuIiwiXG4vLyBQdWJsaWMgZnVuY3Rpb25zXG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3Rpb25DaGFuZ2VkKGNvbXBvbmVudE5hbWUsIGUpIHtcblxuICAgIC8qKiBQYXNzIG1lc3NhZ2UgdG8gQ29tcG9uZW50cyBhYm91dCBzZWxlY3Rpb24gY2hhbmdlICAqL1xuXG4gICAgdGhpcy5wcm9wcy5vblNlbGVjdGlvbkNoYW5nZShjb21wb25lbnROYW1lLCBlKTtcbn0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIFNob3cgZ3JlZW4gd2hlbiBjb21wb25lbnQgaXMgc2VsZWN0ZWQqL1xcblxcbi5zZWxlY3RlZCwgLmdyZWVuIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XFxuICAgIGJhY2tncm91bmQ6IHJnYig0MywgNDMsIDQzKTtcXG59XFxuXFxuLyogU2hvdyBkYXJrIGJhY2tncm91bmQgdG8gY29tcG9uZW50cyAqL1xcblxcbi5iYWNrZ3JvdW5kIHtcXG4gICAgYmFja2dyb3VuZDogcmdiKDY0LCA2NCwgNjQpO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzMzMzMzO1xcbn1cXG5cXG4vKiBTaG93IHNvbWUgc3BhY2luZyBiZWZvcmUgdGhlIGNvbXBvbmVudCBuYW1lICovXFxuXFxuLmNvbXBvbmVudCAuY29tcG9uZW50TmFtZXtcXG4gICAgcGFkZGluZzo3cHg7XFxufVxcblxcbi5jb21wb25lbnQge1xcbiAgICBkaXNwbGF5OmZsZXg7XFxufVxcblxcbi8qIFNob3cgY29tb3BuZW50IHByZXZpZXcgb25EcmFnKi9cXG5cXG4uZHJhZ1N0YXJ0ZWQgc3Bhbjpub3QoLmNvbXBvbmVudE5hbWUpe1xcbiAgICBkaXNwbGF5Om5vbmU7XFxufVxcblxcbi5oaWRkZW57XFxuICAgIGRpc3BsYXk6IG5vbmU7XFxufVwiLCBcIlwiXSk7XG5cbiIsIlxuLy8gTGlicmFyaWVzLlxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgXCIuL1N0eWxlLmNzc1wiO1xuXG5pbXBvcnQge3JlYWRDb21wb25lbnR9IGZyb20gXCIuLi91dGlsaXRpZXMvU3RvcmFnZVwiO1xuXG5pbXBvcnQge1VuQ29udHJvbGxlZCBhcyBDb2RlTWlycm9yfSBmcm9tICdyZWFjdC1jb2RlbWlycm9yMic7XG5cbi8qKlxuICogU2hvd3MgQ29uZmlndXJhdG9yIG9uIHNlbGVjdCBvZiB2YWxpZCBjaGlsZCBjb21wb25lbnQgbmFtZSBpbiB0aGUgbWFya3VwIGFuZCBtb3VzZU91dCBmcm9tIG1hcmt1cFxuICogSGlkZXMgQ29uZmlndXJhdG9yIG9uIG1vdXNlTGVhdmUgZnJvbSB0aGUgZWRpdG9yLlxuICovXG5jbGFzcyBFZGl0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IHJlYWRDb21wb25lbnQodGhpcy5wcm9wcy5uYW1lKTtcblxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgdHJ1ZU5hbWU6IGNvbXBvbmVudD8gY29tcG9uZW50Lm5hbWU6IFwiXCIsXG4gICAgICAgICAgICBuYW1lOiBjb21wb25lbnQ/IGNvbXBvbmVudC5uYW1lIDogXCJcIixcbiAgICAgICAgICAgIG1hcmt1cDogY29tcG9uZW50PyBjb21wb25lbnQubWFya3VwIDogXCJcIixcbiAgICAgICAgICAgIHN0YXRlOiBjb21wb25lbnQ/IGNvbXBvbmVudC5zdGF0ZSA6IFwiXCIsXG4gICAgICAgICAgICBzdHlsZTogY29tcG9uZW50PyBjb21wb25lbnQuc3R5bGUgOiBcIlwiXG4gICAgICAgIH07XG5cbiAgICB9XG5cbiAgICBzYXZlRWxlbWVudCAoKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25TYXZlKHtcbiAgICAgICAgICAgIHRydWVOYW1lOiB0aGlzLnN0YXRlLnRydWVOYW1lLFxuICAgICAgICAgICAgbmFtZTogdGhpcy5zdGF0ZS5uYW1lLFxuICAgICAgICAgICAgbWFya3VwOiB0aGlzLnN0YXRlLm1hcmt1cCxcbiAgICAgICAgICAgIHN0eWxlOiB0aGlzLnN0YXRlLnN0eWxlLFxuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUuc3RhdGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2F2ZU5hbWUoZSl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgbmFtZTogZS5jdXJyZW50VGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIGxldCBuYW1lPSB0aGlzLnN0YXRlLm5hbWU7XG4gICAgICAgIGxldCBtYXJrdXA9IHRoaXMuc3RhdGUubWFya3VwO1xuICAgICAgICBsZXQgc3R5bGU9IHRoaXMuc3RhdGUuc3R5bGU7XG4gICAgICAgIGxldCBzdGF0ZT0gdGhpcy5zdGF0ZS5zdGF0ZTtcblxuICAgICAgICAvLyBUT0RPOiBTaG91bGQgcGFzcyB0aGUgY3VycmVudCBkYXRhLiBJbnN0ZWFkIG9mIGFjY2Vzc2luZyBpdCBmcm9tIGdsb2JhbFxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgZWRpdG9yLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5zYXZlRWxlbWVudC5iaW5kKHRoaXMpfSBpZD1cInNhdmVcIj48aSBjbGFzc05hbWU9XCJmYXMgZmEtc2F2ZVwiPjwvaT5TYXZlICYgY2xvc2U8L2J1dHRvbj4gICAgXG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3IgbmFtZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPkNvbXBvbmVudCBOYW1lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIGVsZW1lbnQgbmFtZVwiIHZhbHVlPXt0aGlzLnN0YXRlLm5hbWV9IG9uQ2hhbmdlPXt0aGlzLnNhdmVOYW1lLmJpbmQodGhpcyl9IGlkPVwiZWxlbWVudE5hbWVcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJlZGl0b3IgbWFya3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+Q29tcG9uZW50IE1hcmt1cDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvZGVNaXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ3Vyc29yPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bWFya3VwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcInRleHQvamF2YXNjcmlwdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVtZTogXCJkYXJjdWxhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGVudFdpdGhUYWJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc21hcnRJbmRlbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVXcmFwcGluZzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlZGl0b3IsIGRhdGEsIG1hcmt1cCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmt1cDogbWFya3VwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvciBjc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj5Db21wb25lbnQgQ1NTPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29kZU1pcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9DdXJzb3I9e2ZhbHNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVOdW1iZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJ0ZXh0L2phdmFzY3JpcHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlbWU6IFwiZGFyY3VsYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRlbnRXaXRoVGFiczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNtYXJ0SW5kZW50OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lV3JhcHBpbmc6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZWRpdG9yLCBkYXRhLCBzdHlsZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBzdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImVkaXRvciBzdGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0aXRsZVwiPkNvbXBvbmVudCBTdGF0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvZGVNaXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvQ3Vyc29yPXtmYWxzZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOiBcImRhcmN1bGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFydEluZGVudDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVdyYXBwaW5nOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGVkaXRvciwgZGF0YSwgc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZWRpdG9yLXRhYiB7XFxuICAgIHdpZHRoOiAxMDB2dztcXG4gICAgYW5pbWF0aW9uOiBzbGlkZS11cCAwLjJzIGVhc2U7XFxufVxcblxcbkBrZXlmcmFtZXMgc2xpZGUtdXAge1xcbiAgICAwJSB7XFxuICAgICAgICBvcGFjaXR5OiAwO1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDIwcHgpO1xcbiAgICB9XFxuICAgIDEwMCUge1xcbiAgICAgICAgb3BhY2l0eTogMTtcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXG4gICAgfVxcbn1cXG5cXG5pbnB1dC5mb2xkZXI6cmVhZC1vbmx5IHtcXG4gICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxufVxcblxcblxcbi5lZGl0b3ItdGFiIGJ1dHRvbiB7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAtNSU7XFxuICAgIGxlZnQ6IDUwJTtcXG4gICAgLW1vei10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcblxcbi5zaG93RWRpdG9ye1xcbiAgICBtYXJnaW4tYm90dG9tOjMwcHg7XFxufVxcblxcbi5lZGl0b3IubmFtZXtcXG4gICAgd2lkdGg6MTAlO1xcbn1cXG5cXG4uZWRpdG9ye1xcbiAgICB3aWR0aDogMjklO1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIG1hcmdpbjogNXB4O1xcbiAgICBtYXJnaW4tdG9wOiAycHg7XFxufVxcblwiLCBcIlwiXSk7XG5cbiIsInZhciBzYW1wbGUgPSByZXF1aXJlKFwiLi9TYW1wbGVcIik7XG5cbmZ1bmN0aW9uIHB1c2hIaXN0b3J5KGNvbXBvbmVudHMpe1xuXG4gICAgd2luZG93LmVkaXRvckhpc3RvcnkgPSByZWFkRGF0YShcInVpLWVkaXRvci1oaXN0b3J5XCIpO1xuICAgIGVkaXRvckhpc3RvcnkucHVzaChjb21wb25lbnRzKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVpLWVkaXRvci1oaXN0b3J5XCIsSlNPTi5zdHJpbmdpZnkoZWRpdG9ySGlzdG9yeSkgKTtcbn1cblxuLy8gSWYgZW1wdHksIHJldHVybiBlbXB0eSBhcnJheS5cblxuZXhwb3J0IGZ1bmN0aW9uIHJlYWREYXRhKGtleSl7XG5cbiAgICBpZihrZXkgPT09XCJ1aS1lZGl0b3JcIil7XG4gICAgICAgIGlmKCF3aW5kb3cuY29tcG9uZW50cyApe1xuICAgICAgICAgICAgd2luZG93LmNvbXBvbmVudHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkpIHx8IHNhbXBsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh3aW5kb3cuY29tcG9uZW50cykpO1xuICAgIH1cbiAgICBpZihrZXk9PT1cInVpLWVkaXRvci1oaXN0b3J5XCIpe1xuICAgICAgICBsZXQgaGlzdG9yeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIFxuICAgICAgICBpZihoaXN0b3J5KVxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoaGlzdG9yeSk7XG4gICAgfVxuICAgIGlmKGtleSA9PT1cImZvbGRlcnNcIil7XG4gICAgICAgIGxldCBmb2xkZXJzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKTtcblxuICAgICAgICBpZihmb2xkZXJzID09PSBudWxsKXtcbiAgICAgICAgICAgIHJldHVybiBbe1widHlwZVwiOlwibm9Gb2xkZXJcIixcImNvbnRlbnRzXCI6W1wiQ2FudmFzXCIsIFwiUmVzaXphYmxlXCIsIFwiTW92YWJsZVwiXX1dXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbGRlcnM7XG4gICAgfVxuXG4gICAgcmV0dXJuIFtdO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cml0ZURhdGEoa2V5LCBjb21wb25lbnRzLCBub1B1c2gpe1xuXG4gICAgaWYoa2V5PT1cImZvbGRlcnNcIil7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkoY29tcG9uZW50cykpO1xuICAgIH1cbiAgICBpZihrZXk9PVwidWktZWRpdG9yXCIpe1xuICAgICAgICBjb25zb2xlLmxvZyhcIldSSVRFXCIpXG4gICAgICAgIHdpbmRvdy5jb21wb25lbnRzID0gY29tcG9uZW50cztcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShjb21wb25lbnRzKSk7XG4gICAgICAgIGlmKCFub1B1c2gpe1xuICAgICAgICAgICAgcHVzaEhpc3RvcnkoY29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkQ29tcG9uZW50KGNvbXBvbmVudE5hbWUpe1xuXG4gICAgbGV0IGNvbXBvbmVudHMgPSByZWFkRGF0YShcInVpLWVkaXRvclwiKTtcbiAgICBpZighY29tcG9uZW50cyl7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnRzLmZpbmQoY29tcG9uZW50PT5jb21wb25lbnQubmFtZT09PWNvbXBvbmVudE5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVDb21wb25lbnQocGFyZW50KSB7XG5cbiAgICBpZighQXJyYXkuaXNBcnJheShwYXJlbnQpICYmIHBhcmVudC5uYW1lKXtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSByZWFkRGF0YSggXCJ1aS1lZGl0b3JcIik7XG4gICAgICAgIGxldCBpbmRleCA9IGNvbXBvbmVudHMuZmluZEluZGV4KGNvbXA9PmNvbXAubmFtZSA9PT0gcGFyZW50Lm5hbWUpO1xuICAgICAgICBjb21wb25lbnRzW2luZGV4XSA9IHBhcmVudDtcbiAgICAgICAgd3JpdGVEYXRhKFwidWktZWRpdG9yXCIsIGNvbXBvbmVudHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcEhpc3RvcnkoKXtcbiAgICBcbiAgICBsZXQgZWRpdG9ySGlzdG9yeSA9IHJlYWREYXRhKFwidWktZWRpdG9yLWhpc3RvcnlcIik7XG4gICAgaWYoIWVkaXRvckhpc3Rvcnkpe1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IGxhc3RJdGVtID0gZWRpdG9ySGlzdG9yeS5wb3AoKTtcbiAgICBcbiAgICBpZighZWRpdG9ySGlzdG9yeSl7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB3cml0ZURhdGEoXCJ1aS1lZGl0b3ItaGlzdG9yeVwiLCBlZGl0b3JIaXN0b3J5LCB0cnVlKTtcblxuICAgIHdyaXRlRGF0YShcInVpLWVkaXRvclwiLCBsYXN0SXRlbSwgdHJ1ZSk7XG59IiwibGV0IHNhbXBsZSA9W1xuICB7XG4gICAgXCJuYW1lXCI6IFwiQ2FudmFzXCIsXG4gICAgXCJtYXJrdXBcIjogXCI8ZGl2IGNsYXNzTmFtZT1cXFwiY2FudmFzQ29tcG9uZW50XFxcIiBpZD1cXFwiY2FudmFzXFxcIj5cXG48L2Rpdj5cIixcbiAgICBcImV2ZW50c1wiOiBbXSxcbiAgICBcInN0YXRlXCI6IFwie31cIixcbiAgICBcInN0eWxlXCI6IFwiLmNhbnZhc0NvbXBvbmVudHtcXG5cXHRoZWlnaHQ6MTAwdmg7XFxuICAgIHdpZHRoOjEwMHZ3O1xcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JleTtcXG5cXHR0b3A6IDBweDtcXG4gICAgbGVmdDogMHB4O1xcbn1cIixcbiAgICBcImNoaWxkcmVuXCI6IFtdLFxuICAgIFwiaWRcIjogMTk4LFxuICAgIFwiY29uZmlnXCI6IFwie31cIixcbiAgICBcInRydWVOYW1lXCI6IFwiQ2FudmFzXCJcbiAgfSxcbiAge1xuICAgIFwibmFtZVwiOiBcIlJlc2l6YWJsZVwiLFxuICAgIFwibWFya3VwXCI6IFwiPGRpdiBpZD1cXFwicmVzaXphYmxlXFxcIiBzdHlsZT17c3RhdGUuc3R5bGV9PlxcbiAgICA8ZGl2IGNsYXNzPSdyZXNpemVyJyBpZD1cXFwidG9wTGVmdFxcXCI+PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9J3Jlc2l6ZXInIGlkPVxcXCJ0b3BSaWdodFxcXCI+PC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9J3Jlc2l6ZXInIGlkPVxcXCJib3R0b21MZWZ0XFxcIj48L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz0ncmVzaXplcicgaWQ9XFxcImJvdHRvbVJpZ2h0XFxcIj48L2Rpdj5cXG48L2Rpdj5cIixcbiAgICBcImV2ZW50c1wiOiBbXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VEb3duXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcInN0YXRlLnJlc2l6ZT10cnVlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogMCxcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJ0b3BMZWZ0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImlmKHN0YXRlLnJlc2l6ZSl7XFxuXFx0bGV0IHdpZHRoID0gTnVtYmVyKHN0YXRlLnN0eWxlLndpZHRoLnNwbGl0KFxcXCJweFxcXCIpWzBdKTtcXG4gICAgbGV0IGxlZnQgPSBOdW1iZXIoc3RhdGUuc3R5bGUubGVmdC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuXFx0c3RhdGUuc3R5bGUud2lkdGggPSAod2lkdGggKyBsZWZ0IC0gZS5jbGllbnRYKSArIFxcXCJweFxcXCI7XFxuICAgIHN0YXRlLnN0eWxlLmxlZnQgPSBlLmNsaWVudFggKyBcXFwicHhcXFwiO1xcbiAgICBcXG4gICAgbGV0IGhlaWdodCA9IE51bWJlcihzdGF0ZS5zdHlsZS5oZWlnaHQuc3BsaXQoXFxcInB4XFxcIilbMF0pO1xcbiAgICBsZXQgdG9wID0gTnVtYmVyKHN0YXRlLnN0eWxlLnRvcC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuXFx0c3RhdGUuc3R5bGUuaGVpZ2h0ID0gKGhlaWdodCArIHRvcCAtIGUuY2xpZW50WSkgKyBcXFwicHhcXFwiO1xcbiAgICBzdGF0ZS5zdHlsZS50b3AgPSBlLmNsaWVudFkgKyBcXFwicHhcXFwiO1xcbn1cXG5lLnN0b3BQcm9wYWdhdGlvbigpO1wiLFxuICAgICAgICBcImluZGV4XCI6IDEsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwidG9wTGVmdFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlVXBcIixcbiAgICAgICAgXCJyZWR1Y2VyXCI6IFwic3RhdGUucmVzaXplPWZhbHNlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogMixcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJ0b3BMZWZ0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VEb3duXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcInN0YXRlLnJlc2l6ZT10cnVlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogMyxcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJib3R0b21MZWZ0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImlmKHN0YXRlLnJlc2l6ZSl7XFxuXFxuXFx0bGV0IHdpZHRoID0gTnVtYmVyKHN0YXRlLnN0eWxlLndpZHRoLnNwbGl0KFxcXCJweFxcXCIpWzBdKTtcXG4gICAgbGV0IGxlZnQgPSBOdW1iZXIoc3RhdGUuc3R5bGUubGVmdC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuXFx0c3RhdGUuc3R5bGUud2lkdGggPSAod2lkdGggKyBsZWZ0IC0gZS5jbGllbnRYKSArIFxcXCJweFxcXCI7XFxuICAgIHN0YXRlLnN0eWxlLmxlZnQgPSBlLmNsaWVudFggKyBcXFwicHhcXFwiO1xcblxcbiAgICBsZXQgaGVpZ2h0ID0gTnVtYmVyKHN0YXRlLnN0eWxlLmhlaWdodC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuICAgIGxldCB0b3AgPSBOdW1iZXIoc3RhdGUuc3R5bGUudG9wLnNwbGl0KFxcXCJweFxcXCIpWzBdKTtcXG5cXHRzdGF0ZS5zdHlsZS5oZWlnaHQgPSBlLmNsaWVudFkgLXRvcCsxMCAgKyBcXFwicHhcXFwiO1xcbn1cXG5lLnN0b3BQcm9wYWdhdGlvbigpO1wiLFxuICAgICAgICBcImluZGV4XCI6IDQsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwiYm90dG9tTGVmdFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlVXBcIixcbiAgICAgICAgXCJyZWR1Y2VyXCI6IFwic3RhdGUucmVzaXplPWZhbHNlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogNSxcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJib3R0b21MZWZ0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VEb3duXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcInN0YXRlLnJlc2l6ZT10cnVlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogNixcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJib3R0b21SaWdodFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlVXBcIixcbiAgICAgICAgXCJyZWR1Y2VyXCI6IFwic3RhdGUucmVzaXplPWZhbHNlO1xcbmUuc3RvcFByb3BhZ2F0aW9uKCk7XCIsXG4gICAgICAgIFwiaW5kZXhcIjogNyxcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJib3R0b21SaWdodFwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlTW92ZVwiLFxuICAgICAgICBcInJlZHVjZXJcIjogXCJpZihzdGF0ZS5yZXNpemUpe1xcblxcbiAgICBsZXQgaGVpZ2h0ID0gTnVtYmVyKHN0YXRlLnN0eWxlLmhlaWdodC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuICAgIGxldCB0b3AgPSBOdW1iZXIoc3RhdGUuc3R5bGUudG9wLnNwbGl0KFxcXCJweFxcXCIpWzBdKTtcXG5cXHRzdGF0ZS5zdHlsZS5oZWlnaHQgPSAoZS5jbGllbnRZIC0gdG9wICsxNSApICsgXFxcInB4XFxcIjtcXG4gICAgXFxuICAgXFx0bGV0IHdpZHRoID0gTnVtYmVyKHN0YXRlLnN0eWxlLndpZHRoLnNwbGl0KFxcXCJweFxcXCIpWzBdKTtcXG4gICAgbGV0IGxlZnQgPSBOdW1iZXIoc3RhdGUuc3R5bGUubGVmdC5zcGxpdChcXFwicHhcXFwiKVswXSk7XFxuXFx0c3RhdGUuc3R5bGUud2lkdGggPSAoIGUuY2xpZW50WCAtIGxlZnQgKyAxMCkgKyBcXFwicHhcXFwiO1xcblxcbiAgICBcXG59XFxuZS5zdG9wUHJvcGFnYXRpb24oKTtcIixcbiAgICAgICAgXCJpbmRleFwiOiA4LFxuICAgICAgICBcInB1Ymxpc2hhYmxlXCI6IFwiXCIsXG4gICAgICAgIFwicHVibGlzaE5hbWVcIjogXCJcIixcbiAgICAgICAgXCJpZFwiOiBcImJvdHRvbVJpZ2h0XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VEb3duXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImUudGFyZ2V0LnN0eWxlLmN1cnNvciA9IFxcXCJncmFiYmluZ1xcXCI7XFxuc3RhdGUuZ3JhYmJpbmcgPSB0cnVlO1xcblwiLFxuICAgICAgICBcInB1Ymxpc2hhYmxlXCI6IFwiXCIsXG4gICAgICAgIFwicHVibGlzaE5hbWVcIjogXCJcIixcbiAgICAgICAgXCJpZFwiOiBcInJlc2l6YWJsZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlVXBcIixcbiAgICAgICAgXCJyZWR1Y2VyXCI6IFwiZS50YXJnZXQuc3R5bGUuY3Vyc29yID0gXFxcImdyYWJcXFwiO1xcbnN0YXRlLmdyYWJiaW5nID0gZmFsc2U7XFxuXCIsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwicmVzaXphYmxlXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImlmKHN0YXRlLmdyYWJiaW5nKSB7XFxuXFx0dmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcXG5cXG4gICAgZS50YXJnZXQuc3R5bGUudG9wID0gZS5jbGllbnRZIC0gcmVjdC5oZWlnaHQvMiAgKyBcXFwicHhcXFwiO1xcbiAgICBlLnRhcmdldC5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYIC0gcmVjdC53aWR0aC8yICsgXFxcInB4XFxcIjtcXG59XCIsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwicmVzaXphYmxlXCJcbiAgICAgIH1cbiAgICBdLFxuICAgIFwic3RhdGVcIjogXCJ7XFxuXFx0XFxcInN0eWxlXFxcIjp7XFxuICAgICAgICBcXFwidG9wXFxcIjogXFxcIjIwMHB4XFxcIixcXG4gICAgICAgIFxcXCJsZWZ0XFxcIjogXFxcIjIwMHB4XFxcIixcXG4gICAgICAgIFxcXCJoZWlnaHRcXFwiOiBcXFwiMTAwcHhcXFwiLFxcbiAgICAgICAgXFxcIndpZHRoXFxcIjogXFxcIjEwMHB4XFxcIlxcblxcdH1cXG59XCIsXG4gICAgXCJzdHlsZVwiOiBcIiNyZXNpemFibGUge1xcblxcdHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgZ3JlZW47XFxuICAgIGN1cnNvcjogZ3JhYjtcXG59XFxuXFxuYm9keSxcXG5odG1sIHtcXG4gIGJhY2tncm91bmQ6IGJsYWNrO1xcbn1cXG4jcmVzaXphYmxlIHtcXG4gIGJhY2tncm91bmQ6IHdoaXRlO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcblxcbiAgYm9yZGVyOiAzcHggc29saWQgIzQyODZmNDtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxufVxcblxcblxcbiNyZXNpemFibGUgLnJlc2l6ZXJ7XFxuICB3aWR0aDogMTBweDtcXG4gIGhlaWdodDogMTBweDtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTsgXFxuICBiYWNrZ3JvdW5kOiB3aGl0ZTtcXG4gIGJvcmRlcjogM3B4IHNvbGlkICM0Mjg2ZjQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcblxcbiNyZXNpemFibGUgLnJlc2l6ZXIjdG9wTGVmdCB7XFxuICBsZWZ0OiAtNXB4O1xcbiAgdG9wOiAtNXB4O1xcbiAgY3Vyc29yOiBud3NlLXJlc2l6ZTtcXG59XFxuI3Jlc2l6YWJsZSAucmVzaXplciN0b3BSaWdodCB7XFxuICByaWdodDogLTVweDtcXG4gIHRvcDogLTVweDtcXG4gIGN1cnNvcjogbmVzdy1yZXNpemU7XFxufVxcbiNyZXNpemFibGUgLnJlc2l6ZXIjYm90dG9tTGVmdCB7XFxuICBsZWZ0OiAtNXB4O1xcbiAgYm90dG9tOiAtNXB4O1xcbiAgY3Vyc29yOiBuZXN3LXJlc2l6ZTtcXG59XFxuI3Jlc2l6YWJsZSAucmVzaXplciNib3R0b21SaWdodCB7XFxuICByaWdodDogLTVweDtcXG4gIGJvdHRvbTogLTVweDtcXG4gIGN1cnNvcjogbndzZS1yZXNpemU7XFxufVwiLFxuICAgIFwiY2hpbGRyZW5cIjogW10sXG4gICAgXCJpZFwiOiA1NTcsXG4gICAgXCJjb25maWdcIjogXCJ7fVwiLFxuICAgIFwidHJ1ZU5hbWVcIjogXCJSZXNpemFibGVcIlxuICB9LFxuICB7XG4gICAgXCJuYW1lXCI6IFwiTW92YWJsZVwiLFxuICAgIFwibWFya3VwXCI6IFwiPGRpdiBpZD1cXFwibW92YWJsZVxcXCIgc3R5bGU9e3N0YXRlLnN0eWxlfT48L2Rpdj5cIixcbiAgICBcImV2ZW50c1wiOiBbXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VEb3duXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImUudGFyZ2V0LnN0eWxlLmN1cnNvciA9IFxcXCJncmFiYmluZ1xcXCI7XFxuc3RhdGUuZ3JhYmJpbmcgPSB0cnVlO1xcbmNvbnNvbGUubG9nKFxcXCJNb3VzZWRvd25cXFwiKVwiLFxuICAgICAgICBcImluZGV4XCI6IDAsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwicmVzaXphYmxlXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VVcFwiLFxuICAgICAgICBcInJlZHVjZXJcIjogXCJlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSBcXFwiZ3JhYlxcXCI7XFxuc3RhdGUuZ3JhYmJpbmcgPSBmYWxzZTtcXG5jb25zb2xlLmxvZyhcXFwibW91c2V1cFxcXCIpXCIsXG4gICAgICAgIFwiaW5kZXhcIjogMSxcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJyZXNpemFibGVcIlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgXCJuYW1lXCI6IFwib25Nb3VzZU1vdmVcIixcbiAgICAgICAgXCJyZWR1Y2VyXCI6IFwiaWYoc3RhdGUuZ3JhYmJpbmcpIHtcXG5cXHR2YXIgcmVjdCA9IGUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xcblxcbiAgICBlLnRhcmdldC5zdHlsZS50b3AgPSBlLmNsaWVudFkgLSByZWN0LmhlaWdodC8yICArIFxcXCJweFxcXCI7XFxuICAgIGUudGFyZ2V0LnN0eWxlLmxlZnQgPSBlLmNsaWVudFggLSByZWN0LndpZHRoLzIgKyBcXFwicHhcXFwiO1xcbn1cXG5jb25zb2xlLmxvZyhcXFwibW91c2Vtb3ZlXFxcIilcIixcbiAgICAgICAgXCJpbmRleFwiOiAyLFxuICAgICAgICBcInB1Ymxpc2hhYmxlXCI6IFwiXCIsXG4gICAgICAgIFwicHVibGlzaE5hbWVcIjogXCJcIixcbiAgICAgICAgXCJpZFwiOiBcInJlc2l6YWJsZVwiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBcIm5hbWVcIjogXCJvbk1vdXNlRG93blwiLFxuICAgICAgICBcInJlZHVjZXJcIjogXCJlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSBcXFwiZ3JhYmJpbmdcXFwiO1xcbnN0YXRlLmdyYWJiaW5nID0gdHJ1ZTtcXG5cIixcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJtb3ZhYmxlXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VVcFwiLFxuICAgICAgICBcInJlZHVjZXJcIjogXCJlLnRhcmdldC5zdHlsZS5jdXJzb3IgPSBcXFwiZ3JhYlxcXCI7XFxuc3RhdGUuZ3JhYmJpbmcgPSBmYWxzZTtcXG5cIixcbiAgICAgICAgXCJwdWJsaXNoYWJsZVwiOiBcIlwiLFxuICAgICAgICBcInB1Ymxpc2hOYW1lXCI6IFwiXCIsXG4gICAgICAgIFwiaWRcIjogXCJtb3ZhYmxlXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwibmFtZVwiOiBcIm9uTW91c2VNb3ZlXCIsXG4gICAgICAgIFwicmVkdWNlclwiOiBcImlmKHN0YXRlLmdyYWJiaW5nKSB7XFxuXFx0dmFyIHJlY3QgPSBlLnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcXG5cXG4gICAgZS50YXJnZXQuc3R5bGUudG9wID0gZS5jbGllbnRZIC0gcmVjdC5oZWlnaHQvMiAgKyBcXFwicHhcXFwiO1xcbiAgICBlLnRhcmdldC5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYIC0gcmVjdC53aWR0aC8yICsgXFxcInB4XFxcIjtcXG59XCIsXG4gICAgICAgIFwicHVibGlzaGFibGVcIjogXCJcIixcbiAgICAgICAgXCJwdWJsaXNoTmFtZVwiOiBcIlwiLFxuICAgICAgICBcImlkXCI6IFwibW92YWJsZVwiXG4gICAgICB9XG4gICAgXSxcbiAgICBcInN0YXRlXCI6IFwie1xcblxcdFxcXCJzdHlsZVxcXCI6e1xcbiAgICAgICAgXFxcInRvcFxcXCI6IFxcXCIyMDBweFxcXCIsXFxuICAgICAgICBcXFwibGVmdFxcXCI6IFxcXCIyMDBweFxcXCJcXG5cXHR9XFxufVwiLFxuICAgIFwic3R5bGVcIjogXCIjbW92YWJsZSB7XFxuXFx0cG9zaXRpb246IGZpeGVkO1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmVlbjtcXG4gICAgaGVpZ2h0OiAxMDBweDtcXG4gICAgd2lkdGg6IDEwMHB4O1xcbiAgICBjdXJzb3I6IGdyYWI7XFxufVwiLFxuICAgIFwiY2hpbGRyZW5cIjogW10sXG4gICAgXCJpZFwiOiA1NTcsXG4gICAgXCJjb25maWdcIjogXCJ7fVwiLFxuICAgIFwidHJ1ZU5hbWVcIjogXCJNb3ZhYmxlXCJcbiAgfVxuXTtcbm1vZHVsZS5leHBvcnRzID0gc2FtcGxlIiwiLy8gTGlicmFyaWVzLlxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbi8vIERlcGVuZGVuY2llcy5cblxuXG4vLyBDb21wb25lbnRzLiBcblxuaW1wb3J0IENvbmZpZ3VyYXRvciBmcm9tIFwiLi9Db25maWd1cmF0b3JcIjtcbmltcG9ydCBOb2RlcyBmcm9tIFwiLi4vdXRpbGl0aWVzL0NvbXBvbmVudHMvTm9kZXNcIjtcbmltcG9ydCBFdmVudCBmcm9tIFwiLi9FdmVudFwiO1xuXG4vLyBTdHlsZXMuXG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCI7XG5cbi8vIFJlZHVjZXJzLlxuXG5pbXBvcnQgeyB1cGRhdGVFdmVudCwgc2VsZWN0ZWRUYWdDaGFuZ2VkLCBkZWxldGVFdmVudCwgdXBkYXRlQ29uZmlndXJhdGlvbiB9IGZyb20gXCIuL1JlZHVjZXJcIjtcblxuXG4vLyBVdGlscy5cblxuaW1wb3J0IHsgZ2V0Tm9kZVRyZWUgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2dldC1ub2RlLXRyZWUuanNcIjtcbmltcG9ydCB7IHJlYWREYXRhIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9TdG9yYWdlXCI7XG5cbmNsYXNzIEV2ZW50cyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5wcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWcgPSB0aGlzLnByb3BzLnNlbGVjdGVkVGFnO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5wcm9wcy5jb21wb25lbnQ7XG5cbiAgICAgICAgLy8gUmVwb3J0IGlmIG5vIGNvbXBvbmVudCBpcyBjcmVhdGVkLlxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jb21wb25lbnRzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjb250YWluZXIgZXZlbnRzLXRhYlwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+RXZlbnRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxwPkxvb2tzIGxpa2UgeW91IGRvIG5vdCBoYXZlIGFueSBXZWIgY29tcG9uZW50IGNyZWF0ZWQuIFR5cGUgc29tZSBcImh0bWxcIiBvbiB0aGUgcmlnaHQgXCJFZGl0b3JcIiB0YWI8L3A+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZXBvcnQgaWYgbm8gY29tcG9uZW50IGlzIHNlbGVjdGVkLlxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnN0YXRlLmNvbXBvbmVudHMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImNvbnRhaW5lciBldmVudHMtdGFiXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj5FdmVudHM8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPHA+TG9va3MgbGlrZSB5b3UgaGF2ZSBub3Qgc2VsZWN0ZWQgYW55IGNvbXBvbmVudC4gQ2xpY2sgb24gYW55IG9mIHRoZSBjb21wb25lbnQgaW4gdGhlIGxlZnQgcGFuZS48L3A+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IG5vZGVUcmVlID0gZ2V0Tm9kZVRyZWUoY29tcG9uZW50LCBjb21wb25lbnQubWFya3VwLCBjb21wb25lbnQuc3R5bGUsIEpTT04ucGFyc2UoY29tcG9uZW50LnN0YXRlKSwgY29tcG9uZW50LmV2ZW50cyk7XG5cbiAgICAgICAgLy8gUmVwb3J0IGVycm9yLlxuICAgICAgICBpZiAobm9kZVRyZWUuZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVUcmVlLmVycm9yO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVwb3J0IGVycm9yIGlmIGNvbXBvbmVudCBpcyBub3QgXG4gICAgICAgIGlmIChub2RlVHJlZS5yZXN1bHQgPT09IHVuZGVmaW5lZCAmJiB0aGlzLnN0YXRlLmNvbXBvbmVudHMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImNvbnRhaW5lciBldmVudHMtdGFiXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGl0bGVcIj5FdmVudHM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVGFnID0gdGhpcy5zdGF0ZS5zZWxlY3RlZFRhZyB8fCBcIlwiO1xuICAgICAgICBsZXQgZXZlbnRzT2ZTZWxlY3RlZFRhZywgY29uZmlndXJhdG9yLCBldmVudE5hbWVzID0gW107XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGEgY2hpbGQgY29tcG9uZW50XG4gICAgICAgIGlmIChzZWxlY3RlZFRhZy5pbmNsdWRlcyhcImNoaWxkLWNvbXBvbmVudC1cIikpIHtcbiAgICAgICAgICAgIC8vIEdldCBsaXN0IG9mIGNvbXBvbmVudHMuXG4gICAgICAgICAgICBsZXQgY29tcG9uZW50cyA9IHJlYWREYXRhKFwidWktZWRpdG9yXCIpO1xuXG4gICAgICAgICAgICAvLyBHZXQgY2hpbGQgY29tcG9uZW50IG5hbWUgZnJvbSB0aGUgc2VsZWN0ZWQgdGFnLlxuICAgICAgICAgICAgbGV0IGNoaWxkQ29tcG9uZW50TmFtZSA9IHNlbGVjdGVkVGFnLnNwbGl0KFwiY2hpbGQtY29tcG9uZW50LVwiKVsxXTtcblxuICAgICAgICAgICAgLy8gRmluZCB0aGUgY2hpbGQgY29tcG9uZW50IGZyb20gdGhlIGxpc3Qgb2YgY29tcG9uZW50cy5cbiAgICAgICAgICAgIGxldCBjaGlsZENvbXBvbmVudCA9IGNvbXBvbmVudHMuZmluZChjb21wb25lbnQgPT4gY29tcG9uZW50Lm5hbWUgPT09IGNoaWxkQ29tcG9uZW50TmFtZSk7XG5cbiAgICAgICAgICAgIC8vIEZpbmQgZXZlbnRzIHRoYXQgYXJlIHB1Ymxpc2hhYmxlIGZyb20gdGhlIGNoaWxkIGNvbXBvbmVudC5cbiAgICAgICAgICAgIGV2ZW50TmFtZXMgPSBjaGlsZENvbXBvbmVudC5ldmVudHMuZmlsdGVyKGV2ZW50ID0+IGV2ZW50LnB1Ymxpc2hhYmxlID09PSB0cnVlKS5tYXAocHVibGlzaGFibGVFdmVudCA9PiBwdWJsaXNoYWJsZUV2ZW50LnB1Ymxpc2hOYW1lKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ3JlYXRlIGV2ZW50IHZpZXcgZm9yIGxpc3Qgb2YgYWxsIGV2ZW50c1xuICAgICAgICAgICAgbGV0IGV2ZW50cyA9IGNvbXBvbmVudC5ldmVudHMuZmlsdGVyKGV2ZW50PT5ldmVudE5hbWVzLmZpbmQoZXZlbnROYW1lID0+ZXZlbnROYW1lICA9PT0gZXZlbnQubmFtZSAmJiBldmVudC5pZD09PWNoaWxkQ29tcG9uZW50Lm5hbWUpKVxuICAgICAgICAgICAgZXZlbnRzID0gZXZlbnRzLm1hcCgoZXZlbnQsIGluZGV4KSA9PiA8RXZlbnQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17TWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDAwKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PXtpbmRleH0gZXZlbnQ9e2V2ZW50fSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUYWdJRD17c2VsZWN0ZWRUYWd9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudE5hbWVzPXtldmVudE5hbWVzfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TYXZlPXt1cGRhdGVFdmVudC5iaW5kKHRoaXMpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRXZlbnQ9e2RlbGV0ZUV2ZW50LmJpbmQodGhpcyl9IC8+KTtcblxuICAgICAgICAgICAgLy8gRmlsdGVyIG91dCBldmVudHMgdGhhdCBhcmUgbm90IHBhcnQgb2Ygc2VsZWN0ZWRUYWdcbiAgICAgICAgICAgIGV2ZW50c09mU2VsZWN0ZWRUYWcgPSBzZWxlY3RlZFRhZyA/IGV2ZW50cyA6IG51bGw7XG5cbiAgICAgICAgICAgIGNvbmZpZ3VyYXRvciA9IDxDb25maWd1cmF0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDEwMDApfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3VwZGF0ZUNvbmZpZ3VyYXRpb24uYmluZCh0aGlzKX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkTmFtZT17Y2hpbGRDb21wb25lbnROYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50PXtjb21wb25lbnR9IC8+O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXZlbnRzID0gY29tcG9uZW50LmV2ZW50c1xuICAgICAgICAgICAgICAgIC5tYXAoKGV2ZW50LCBpbmRleCkgPT4gPEV2ZW50IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e01hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTAwMCl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleD17aW5kZXh9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudD17ZXZlbnR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhZ0lEPXtzZWxlY3RlZFRhZ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZXM9e2V2ZW50TmFtZXN9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNhdmU9e3VwZGF0ZUV2ZW50LmJpbmQodGhpcyl9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVFdmVudD17ZGVsZXRlRXZlbnQuYmluZCh0aGlzKX0gLz4pO1xuICAgICAgICAgICAgZXZlbnRzT2ZTZWxlY3RlZFRhZyA9IHNlbGVjdGVkVGFnID8gZXZlbnRzLmZpbHRlcihldmVudCA9PiBzZWxlY3RlZFRhZy5pbmNsdWRlcyhldmVudC5wcm9wcy5ldmVudC5pZCkpIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiY29udGFpbmVyIGV2ZW50cy10YWJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZ3NcIj5cbiAgICAgICAgICAgICAgICAgICAgPE5vZGVzIG5vZGU9e25vZGVUcmVlLnJlc3VsdH0gb25TZWxlY3RlZFRhZ0NoYW5nZWQ9e3NlbGVjdGVkVGFnQ2hhbmdlZC5iaW5kKHRoaXMpfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtjb25maWd1cmF0b3J9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBldmVudHNPZlNlbGVjdGVkVGFnICYmIGV2ZW50c09mU2VsZWN0ZWRUYWcubGVuZ3RoPjBcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj48ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXhpc3RpbmcgRXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj57ZXZlbnRzT2ZTZWxlY3RlZFRhZ308L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRUYWc/XG4gICAgICAgICAgICAgICAgICAgPGRpdj48ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+QWRkIEV2ZW50XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PjxFdmVudCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjb21wb25lbnQuZXZlbnRzLmxlbmd0aH0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TmFtZXM9e2V2ZW50TmFtZXN9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhZ0lEPXtzZWxlY3RlZFRhZ30gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2F2ZT17dXBkYXRlRXZlbnQuYmluZCh0aGlzKX0gLz48L2Rpdj4gXG4gICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgIG51bGx9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzO1xuIiwiLy8gTGlicmFyaWVzLlxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCJcblxuXG5jbGFzcyBDb25maWd1cmF0b3IgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICBsZXQgY29uZmlnID0gSlNPTi5wYXJzZSh0aGlzLnByb3BzLnBhcmVudC5jb25maWcpW3RoaXMucHJvcHMuY2hpbGROYW1lXSB8fCB7IG92ZXJyaWRlOiBmYWxzZX1cbiAgICAgICAgXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBvdmVycmlkZTogY29uZmlnLm92ZXJyaWRlLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2VsT3ZlcnJpZGUoKXtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBvdmVycmlkZTogIXRoaXMuc3RhdGUub3ZlcnJpZGVcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnByb3BzLm9uQ2hhbmdlKHtcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG92ZXJyaWRlOiAhdGhpcy5zdGF0ZS5vdmVycmlkZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNoaWxkTmFtZTogdGhpcy5wcm9wcy5jaGlsZE5hbWUsXG4gICAgICAgICAgICBwYXJlbnROYW1lOiB0aGlzLnByb3BzLnBhcmVudC5uYW1lXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNhdmVDb25maWcoKXtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNoYW5nZSh7XG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBvdmVycmlkZTogdGhpcy5zdGF0ZS5vdmVycmlkZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZE5hbWU6IHRoaXMucHJvcHMuY2hpbGROYW1lLFxuICAgICAgICAgICAgcGFyZW50TmFtZTogdGhpcy5wcm9wcy5wYXJlbnQubmFtZVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgcmV0dXJuIChcblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRpdGxlXCI+Q2hpbGQgQ29uZmlndXJhdGlvbnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPk92ZXJyaWRlIHN0YXRlPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG9uQ2hhbmdlPXt0aGlzLnRvZ2dlbE92ZXJyaWRlLmJpbmQodGhpcyl9IGNoZWNrZWQ9e3RoaXMuc3RhdGUub3ZlcnJpZGUgPyBcImNoZWNrZWRcIiA6IFwiXCJ9IC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlndXJhdG9yO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuZXJyb3Ige1xcbiAgICBjb2xvcjogcmVkO1xcbn1cXG5cXG4uaW5mbyB7XFxuICAgIGNvbG9yOiB5ZWxsb3dncmVlbjtcXG59XFxuXFxubGFiZWwge1xcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG4uY29uZmlndXJhdG9yIHtcXG4gICAgYmFja2dyb3VuZDogcmdiKDY0LCA2NCwgNjQpO1xcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xcbiAgICBwYWRkaW5nOiA1cHg7XFxufVxcblxcbi5zcGFjaW5ne1xcbiAgICBtYXJnaW46IDEwcHg7XFxufVwiLCBcIlwiXSk7XG5cbiIsIi8vIExpYnJhcmllcy5cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuXG5jbGFzcyBOb2RlcyBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLnByb3BzLm5vZGU7XG5cblxuICAgICAgICBpZighbm9kZSl7XG4gICAgICAgICAgICByZXR1cm4gKDxzcGFuPm51bGw8L3NwYW4+KVxuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGVvZiBub2RlPT09XCJzdHJpbmdcIil7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8bGk+e25vZGV9PC9saT5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkID0gbm9kZS5wcm9wcy5pZCA/IChcIi1cIitub2RlLnByb3BzLmlkKSA6IFwiXCI7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQgY29udGFpbnMgY2hpbGRyZW4uXG4gICAgICAgIGlmKG5vZGUucHJvcHMgJiYgQXJyYXkuaXNBcnJheShub2RlLnByb3BzLmNoaWxkcmVuKSl7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBub2RlLnByb3BzLmNoaWxkcmVuLm1hcCgoY2hpbGQsaW5kZXgpPT48Tm9kZXMga2V5PXtpbmRleH0gbm9kZT17Y2hpbGR9IG9uU2VsZWN0ZWRUYWdDaGFuZ2VkPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWRUYWdDaGFuZ2VkfS8+KTtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdGVkRWxlbWVudFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWRUYWdDaGFuZ2VkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bm9kZS50eXBlICsgaWR9Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtub2RlLnR5cGUgK2lkfVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgbm9kZSBjb250YWlucyBvbmx5IG9uZSBjaGlsZHJlbiwganN4IGdldCB0cmFuc3BpbGVkIHRvIG9iamVjdCByYXRoZXIgdGhhbiBhcnJheS5cbiAgICAgICAgZWxzZSBpZih0eXBlb2Ygbm9kZS5wcm9wcy5jaGlsZHJlbiA9PT0gXCJvYmplY3RcIil7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBub2RlLnByb3BzLmNoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwic2VsZWN0ZWRFbGVtZW50XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMucHJvcHMub25TZWxlY3RlZFRhZ0NoYW5nZWR9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsobm9kZS50eXBlLm5hbWUgfHwgbm9kZS50eXBlKStpZH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgeyhub2RlLnR5cGUubmFtZSB8fCBub2RlLnR5cGUpfVxuICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Tm9kZXMga2V5PXtpbmRleH0gbm9kZT17Y2hpbGR9IG9uU2VsZWN0ZWRUYWdDaGFuZ2VkPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWRUYWdDaGFuZ2VkfS8+XG4gICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmVzdGVkIGNvbXBvbmVudC5cbiAgICAgICAgZWxzZSBpZih0eXBlb2Ygbm9kZS50eXBlID09PSBcImZ1bmN0aW9uXCIpe1xuICAgICAgICAgICAgcmV0dXJuICg8dWw+XG4gICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFkaW9cIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJzZWxlY3RlZEVsZW1lbnRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtcImNoaWxkLWNvbXBvbmVudC1cIitub2RlLnR5cGUubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWRUYWdDaGFuZ2VkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHtub2RlLnR5cGUubmFtZX1cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInNlbGVjdGVkRWxlbWVudFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e25vZGUudHlwZStpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWRUYWdDaGFuZ2VkfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIHtub2RlLnR5cGUgK2lkfVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBOb2RlczsiLCIvLyBMaWJyYXJpZXMuXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IFwiLi9TdHlsZS5jc3NcIlxuXG4vLyBDb21wb25lbnRzLlxuXG5pbXBvcnQge1VuQ29udHJvbGxlZCBhcyBDb2RlTWlycm9yfSBmcm9tICdyZWFjdC1jb2RlbWlycm9yMic7XG5cbi8vIFJlZHVjZXJzLiBcblxuaW1wb3J0IHt1cGRhdGVFdmVudE5hbWUsIHVwZGF0ZUV2ZW50VHlwZSwgdXBkYXRlUHVibGlzaE5hbWV9IGZyb20gXCIuL1JlZHVjZXJcIjtcblxuLy8gRXZlbnRzLlxuXG5pbXBvcnQge3B1Ymxpc2hFdmVudCwgZGVsZXRlRXZlbnR9IGZyb20gJy4vRXZlbnRzJztcblxuY2xhc3MgRXZlbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIG5hbWU6IHRoaXMucHJvcHMuZXZlbnQgPyB0aGlzLnByb3BzLmV2ZW50Lm5hbWUgOiBcIlwiLFxuICAgICAgICAgICAgcmVkdWNlcjogdGhpcy5wcm9wcy5ldmVudCA/IHRoaXMucHJvcHMuZXZlbnQucmVkdWNlciA6IFwiXCIsXG4gICAgICAgICAgICBwdWJsaXNoYWJsZTogdGhpcy5wcm9wcy5ldmVudCA/IHRoaXMucHJvcHMuZXZlbnQucHVibGlzaGFibGUgOiBcIlwiLFxuICAgICAgICAgICAgcHVibGlzaE5hbWU6IHRoaXMucHJvcHMuZXZlbnQgPyB0aGlzLnByb3BzLmV2ZW50LnB1Ymxpc2hOYW1lIDogXCJcIixcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICBpZiAodGhpcy5wcm9wcy5zZWxlY3RlZFRhZ0lEID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBcIlNlbGVjdCBJRFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHB1Ymxpc2hOYW1lID0gdGhpcy5zdGF0ZS5wdWJsaXNoYWJsZT8gPGlucHV0IHR5cGU9XCJ0ZXh0XCIgb25DaGFuZ2U9e3VwZGF0ZVB1Ymxpc2hOYW1lLmJpbmQodGhpcyl9IHZhbHVlPXt0aGlzLnN0YXRlLnB1Ymxpc2hOYW1lfSBwbGFjZWhvbGRlcj1cIkVudGVyIGV2ZW50IHB1Ymxpc2ggbmFtZSBmb3Igb3RoZXIgY29tcG9uZW50cyB0byBzdWJzY3JpYmUgdG9cIi8+IDogbnVsbDtcbiAgICAgICAgbGV0IGV2ZW50TmFtZXMgPSB0aGlzLnByb3BzLmV2ZW50TmFtZXMubWFwKGV2ZW50TmFtZT0+PG9wdGlvbiB2YWx1ZT17ZXZlbnROYW1lfT48L29wdGlvbj4pXG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZXZlbnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3BhY2luZ1wiPlxuICAgICAgICAgICAgICAgICAgICA8bGFiZWw+RXZlbnQgbmFtZTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBsaXN0PVwiZXZlbnRzXCIgdHlwZT1cInRleHRcIiBvbkNoYW5nZT17dXBkYXRlRXZlbnROYW1lLmJpbmQodGhpcyl9IHZhbHVlPXt0aGlzLnN0YXRlLm5hbWV9IHRpdGxlPVwiRXZlbnQgTmFtZVwiLz5cbiAgICAgICAgICAgICAgICAgICAgPGRhdGFsaXN0IGlkPVwiZXZlbnRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7ZXZlbnROYW1lc31cbiAgICAgICAgICAgICAgICAgICAgPC9kYXRhbGlzdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGFjaW5nXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFB1Ymxpc2hhYmxlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBvbkNoYW5nZT17dXBkYXRlRXZlbnRUeXBlLmJpbmQodGhpcyl9IGNoZWNrZWQ9e3RoaXMuc3RhdGUucHVibGlzaGFibGU/IFwiY2hlY2tlZFwiOiBcIlwifS8+XG5cbiAgICAgICAgICAgICAgICAgICAge3B1Ymxpc2hOYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwYWNpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsPkV2ZW50IHJlZHVjZXI8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8Q29kZU1pcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLnJlZHVjZXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b0N1cnNvcj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucz17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lTnVtYmVyczogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwidGV4dC9qYXZhc2NyaXB0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZW1lOiBcImRhcmN1bGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZW50V2l0aFRhYnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbWFydEluZGVudDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlZGl0b3IsIGRhdGEsIHJlZHVjZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWR1Y2VyOiByZWR1Y2VyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e3B1Ymxpc2hFdmVudC5iaW5kKHRoaXMpfSBpZD1cInNhdmVFdmVudFwiPjxpIGNsYXNzTmFtZT1cImZhcyBmYS1zYXZlXCI+PC9pPlNhdmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtkZWxldGVFdmVudC5iaW5kKHRoaXMpfSBpZD1cImRlbGV0ZUV2ZW50XCI+PGkgY2xhc3NOYW1lPVwiZmFzIGZhLXRyYXNoXCI+PC9pPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudDtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmVycm9yIHtcXG4gICAgY29sb3I6IHJlZDtcXG59XFxuXFxuXFxuLmluZm8ge1xcbiAgICBjb2xvcjogeWVsbG93Z3JlZW47XFxufVxcblxcbmxhYmVsIHtcXG4gICAgcGFkZGluZy1yaWdodDogMTBweDtcXG59XFxuXFxuLmV2ZW50IGlucHV0IHtcXG4gICAgbWFyZ2luLWxlZnQ6NXB4O1xcbiAgICB3aWR0aDoxNTBweDtcXG59XFxuXFxuLmV2ZW50IHRleHRhcmVhIHtcXG4gICAgbWFyZ2luLXRvcDogOHB4O1xcbiAgICB3aWR0aDogMzAwcHg7XFxufVxcblxcbi5pbnB1dCB7XFxuICAgIHBhZGRpbmc6IDVweDtcXG59XCIsIFwiXCJdKTtcblxuIiwiXG4gIGZ1bmN0aW9uICB1cGRhdGVFdmVudE5hbWUoZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIG5hbWU6IGUudGFyZ2V0LnZhbHVlXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuIGZ1bmN0aW9uICAgdXBkYXRlUHVibGlzaE5hbWUoZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHB1Ymxpc2hOYW1lOiBlLnRhcmdldC52YWx1ZVxuICAgICAgICB9KVxuICAgIH1cblxuICBmdW5jdGlvbiAgdXBkYXRlRXZlbnRUeXBlKGUpe1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHB1Ymxpc2hhYmxlOiBlLmN1cnJlbnRUYXJnZXQuY2hlY2tlZFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG1vZHVsZS5leHBvcnRzID0ge1xuICAgICAgICB1cGRhdGVFdmVudE5hbWUsXG4gICAgICAgIHVwZGF0ZUV2ZW50VHlwZSxcbiAgICAgICAgdXBkYXRlUHVibGlzaE5hbWUsXG4gICAgICAgIHVwZGF0ZUV2ZW50VHlwZVxuICAgIH0iLCJleHBvcnQgZnVuY3Rpb24gcHVibGlzaEV2ZW50KCkge1xuICAgICAgICB0aGlzLnByb3BzLm9uU2F2ZSh7XG4gICAgICAgICAgICBuYW1lOiB0aGlzLnN0YXRlLm5hbWUsXG4gICAgICAgICAgICByZWR1Y2VyOiB0aGlzLnN0YXRlLnJlZHVjZXIsXG4gICAgICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbmRleCxcbiAgICAgICAgICAgIHB1Ymxpc2hhYmxlOiB0aGlzLnN0YXRlLnB1Ymxpc2hhYmxlLFxuICAgICAgICAgICAgcHVibGlzaE5hbWU6IHRoaXMuc3RhdGUucHVibGlzaE5hbWVcbiAgICAgICAgfSlcbiAgICB9XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVFdmVudCgpe1xuICAgICAgICB0aGlzLnByb3BzLmRlbGV0ZUV2ZW50KHRoaXMucHJvcHMuaW5kZXgpO1xuICAgIH0iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5ldmVudHMge1xcbiAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xcbiAgICBwYWRkaW5nOiA1cHg7XFxufVxcblxcbi5lcnJvciB7XFxuICAgIGNvbG9yOiByZWQ7XFxufVxcblxcbi50YWdzLnRhZ3MgdWwge1xcbiAgICBib3JkZXI6IDBweDtcXG4gICAgbWFyZ2luLWxlZnQ6IDMwcHg7XFxuICAgIHBhZGRpbmc6NXB4O1xcbn1cXG5cXG4udGFncyB1bDpmaXJzdC1jaGlsZCB7XFxuICAgIG1hcmdpbi1sZWZ0OiAtMnB4O1xcbn1cIiwgXCJcIl0pO1xuXG4iLCJcbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuY29tcG9uZW50KSlcblxuICAgICAgICAvLyBLZWVwIHRoZSBjaGlsZCBjb21wb25lbnQgbmFtZSBhcyB0aGUgSUQuIFdpbGwgY2F1c2UgcHJvYmxlbSBpbiBmdXR1cmUgZm9yIGxpc3QgcmVuZGVyaW5nIGJveS5cbiAgICAgICAgaWYodGhpcy5zdGF0ZS5zZWxlY3RlZFRhZy5pbmNsdWRlcyhcImNoaWxkLWNvbXBvbmVudC1cIikpe1xuICAgICAgICAgICAgZXZlbnQuaWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkVGFnLnNwbGl0KFwiY2hpbGQtY29tcG9uZW50LVwiKVsxXVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICBldmVudC5pZCA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRUYWcuc3BsaXQoXCItXCIpWzFdO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBcbiAgICAgICAgaWYgKGV2ZW50LmluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZXZlbnRzLnB1c2goZXZlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gMS4gRmluZCB0aGUgZXZlbnRcbiAgICAgICAgICAgIGxldCBjaGFuZ2VkRXZlbnRJbmRleCA9IGVsZW1lbnQuZXZlbnRzLmZpbmRJbmRleChlPT5lLmlkPT09ZXZlbnQuaWQgJiYgZS5uYW1lID09PWV2ZW50Lm5hbWUpO1xuICAgICAgICAgICAgaWYoY2hhbmdlZEV2ZW50SW5kZXg9PS0xKXtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQ2hhbmdpbmcgZXZlbnQgbmFtZSB3aWxsIG5vdCBoZWxwLiBDcmVhdGUgYSBuZXcgZXZlbnRcIik7IC8vIEZlYXR1cmUgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LmV2ZW50c1tjaGFuZ2VkRXZlbnRJbmRleF0gPSBldmVudDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucHJvcHMub25FdmVudHNVcGRhdGUoZWxlbWVudC5ldmVudHMpO1xuICAgIH1cblxuICAgIGV4cG9ydCBmdW5jdGlvbiBzZWxlY3RlZFRhZ0NoYW5nZWQoZSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlbGVjdGVkVGFnOiBlLmN1cnJlbnRUYXJnZXQudmFsdWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZGVsZXRlRXZlbnQoaW5kZXgpIHtcblxuICAgICAgICAvLyBHZXQgY3VycmVudCBjb21wb25lbnQuXG4gICAgICAgIGxldCBjb21wb25lbnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdGUuY29tcG9uZW50KSk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBldmVudCB0byBiZSBkZWxldGVkLlxuICAgICAgICBjb21wb25lbnQuZXZlbnRzLnNwbGljZShpbmRleCwgMSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIGVsZW1lbnRzIHdpdGggbmV3IGV2ZW50cy5cbiAgICAgICAgdGhpcy5wcm9wcy5vbkV2ZW50c1VwZGF0ZShjb21wb25lbnQuZXZlbnRzKTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gdXBkYXRlQ29uZmlndXJhdGlvbihjb25maWcpe1xuICAgICAgICB0aGlzLnByb3BzLm9uQ29uZmlnVXBkYXRlKGNvbmZpZyk7XG4gICAgfSIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHvCoHNhdmVDb21wb25lbnRzVG9XaW5kb3csIGdldE5lc3RlZENvbXBvbmVudHMgfSBmcm9tIFwiLi9SdW50aW1lXCI7XG5cbi8vIFdoeT8gQmVjYXVzZSBpbXBvcnRpbmcgUmVhY3QgYXMgdmFyaWFibGUgYXQgbGluZSMyIHdpbGwgYmUgYWx0ZXJ0ZWQgYnkgYmFiZWwuIEtlZXAgaXQgYXMgYSBwcm9wZXJ0eSwgYmFiZWwgd2lsbCBpZ25vcmUgaXQuXG53aW5kb3cuUmVhY3QgPSBSZWFjdDtcbndpbmRvdy5Db21wb25lbnQgPSBSZWFjdC5Db21wb25lbnQ7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXROb2RlVHJlZShlbGVtZW50LCBqc3gsIHN0eWxlLCBzdGF0ZSwgZXZlbnRzKSB7XG4gICAgXG4gICAgbGV0IHJlc3VsdCwgZXJyb3I7XG4gICAgdHJ5e1xuICAgICAgICBsZXQgbmVzdGVkQ29tcG9uZW50cyA9IGdldE5lc3RlZENvbXBvbmVudHMoZWxlbWVudCk7XG4gICAgICAgIGlmIChuZXN0ZWRDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNhdmVDb21wb25lbnRzVG9XaW5kb3cobmVzdGVkQ29tcG9uZW50cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gZXZhbChCYWJlbC50cmFuc2Zvcm0oanN4LCB7IHByZXNldHM6IFsncmVhY3QnXSB9KS5jb2RlKVxuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIGVycm9yID0gZTtcbiAgICB9XG4gICAgZmluYWxseXtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIHJlc3VsdCwgcmVzdWx0XG4gICAgICAgIH07XG4gICAgfVxufSIsImltcG9ydCB7Y29udmVydFRvUmVhY3R9IGZyb20gXCIuL0NvZGVHZW5lcmF0b3IvUmVhY3RcIjtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50KGNvbXBvbmVudCl7XG5cbiAgICBsZXQgY29tcG9uZW50U3RyaW5nID0gY29udmVydFRvUmVhY3QoY29tcG9uZW50KTtcblxuICAgIC8vIGV2YWwgZG9lcyBub3QgZXZhbHVhdGUgY2xhc3MgaWYgbm90IGV4Y2xvc2VkIGluIHBhcmFudGhlc2lzLlxuICAgIHJldHVybiBldmFsKEJhYmVsLnRyYW5zZm9ybShjb21wb25lbnRTdHJpbmcsIHsgcHJlc2V0czogWydyZWFjdCddLCBwbHVnaW5zOiBbXCJ0cmFuc2Zvcm0tZXMyMDE1LWNsYXNzZXNcIl0gIH0pLmNvZGUpXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNyZWF0ZUNvbXBvbmVudFxufSIsIi8vIEVsZW1lbnRzIHRvICByZWFjdCBjb21wb25lbnQuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFRvUmVhY3QgKGNvbXBvbmVudCl7XG5cbiAgICBsZXQgbWFya3VwID0gXCJtYXJrdXBcIjtcblxuICAgIGNvbXBvbmVudC5ldmVudHMuZm9yRWFjaChldmVudD0+e1xuICAgICAgICBldmVudC5pZCA9IGV2ZW50LmlkLnJlcGxhY2UoXCItXCIsXCJcIik7XG4gICAgfSlcblxuICAgIGxldCBhZGRQcm9wcz0gKGNvbXBvbmVudCk9PntcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFttYXJrdXBdLnJlcGxhY2UoXCI+XCIsYCB7Li4udGhpcy5wcm9wc30+e3RoaXMucHJvcHMuY2hpbGRyZW59YClcbiAgICB9XG5cbiAgICBsZXQgZ2V0Q29tcG9uZW50RXZlbnRlZE1hcmt1cCA9IChtYXJrdXAsIGV2ZW50cyk9PntcbiAgICAgICAgZXZlbnRzLmZvckVhY2goZXZlbnQ9PntcbiAgICAgICAgICAgIGxldCBpZCA9IGBpZD1cIiR7ZXZlbnQuaWR9XCJgO1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgbWFya3VwIGNvbnRhaW5zIHRoZSBpZC5cbiAgICAgICAgICAgIGlmKG1hcmt1cC5pbmNsdWRlcyhpZCkpe1xuICAgICAgICAgICAgICAgIG1hcmt1cCA9IG1hcmt1cC5yZXBsYWNlKGlkLCBgJHtpZH0gJHtldmVudC5uYW1lfT17dGhpcy4ke2V2ZW50LmlkK2V2ZW50Lm5hbWV9LmJpbmQodGhpcyl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpdHMgYSBjaGlsZCBjb21wb25lbnQuXG4gICAgICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgIG1hcmt1cCA9IG1hcmt1cC5yZXBsYWNlKGA8JHtldmVudC5pZH1gLGA8JHtldmVudC5pZH0gJHtldmVudC5uYW1lfT17dGhpcy4ke2V2ZW50LmlkK2V2ZW50Lm5hbWV9LmJpbmQodGhpcyl9YClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHJldHVybiBtYXJrdXAuc3BsaXQoXCJzdGF0ZS5cIikuam9pbihcInRoaXMuc3RhdGUuXCIpXG4gICAgfVxuXG4gICAgLy8gY2hlY2tzIGlmIHN0YXRlIG92ZXJyaWRlIGlzIG9uLiB0aGVuIGFkZHMgc3RhdGUgcHJvcCB0byBjaGlsZCBcbiAgICBsZXQgZ2V0U3RhdGVkTWFya3VwID0gKG1hcmt1cCk9PntcbiAgICAgICAgLy8gZm9yIGFsbCB0aGUgY29uZmlnLlxuICAgICAgICAvLyBmaWx0ZXIgY2hpbGQgd2l0aCBvdmVyaWRlIHN0YXRlIGlzIHRydWVcbiAgICAgICAgbGV0IGNvbmZpZyA9IEpTT04ucGFyc2UoY29tcG9uZW50LmNvbmZpZyk7XG4gICAgICAgIGxldCBjaGlsZHJlbkNvbmZpZyA9IE9iamVjdC5rZXlzKGNvbmZpZyk7XG4gICAgICAgIGNoaWxkcmVuQ29uZmlnLmZvckVhY2goY2hpbGROYW1lPT57XG5cbiAgICAgICAgICAgIC8vIFBSRUNBVVRJT046IEVkaXQgbWFya3VwIGZvciByZW5kZXJpbmcgbGlzdC4gU2hvdWxkIG5vdCB1c2Ugb3RoZXIgY29uZmlndXJhdGlvbiB3aGlsZSB1c2luZyB0aGlzLlxuICAgICAgICAgICAgaWYoY29uZmlnW2NoaWxkTmFtZV0ub3ZlcnJpZGUgKXtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRNYXJrdXAgPSBgPCR7Y2hpbGROYW1lfT48LyR7Y2hpbGROYW1lfT5gO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkTWFya3VwV2l0aFByb3BzID0gYDwke2NoaWxkTmFtZX0gc3RhdGU9e2l0ZW19IGtleT17fn4oTWF0aC5yYW5kb20oKSoxMDAwMCl9PjwvJHtjaGlsZE5hbWV9PmA7XG4gICAgICAgICAgICAgICAgbGV0IHJlbmRlckxpc3RNYXJrdXAgPSBge3N0YXRlLiR7Y2hpbGROYW1lfS5tYXAoKGl0ZW0saSk9PiR7Y2hpbGRNYXJrdXBXaXRoUHJvcHN9KX1gO1xuICAgICAgICAgICAgICAgIG1hcmt1cCA9ICBtYXJrdXAucmVwbGFjZShjaGlsZE1hcmt1cCwgcmVuZGVyTGlzdE1hcmt1cCk7ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIHJldHVybiBtYXJrdXA7XG4gICAgfVxuICAgIFxuICAgIGxldCBwcm9wc0luTWFya3VwID0gYWRkUHJvcHMoY29tcG9uZW50KTtcbiAgICBsZXQgc3RhdGVPdmVyaWRlTWFya3VwID0gZ2V0U3RhdGVkTWFya3VwKHByb3BzSW5NYXJrdXApO1xuICAgIGxldCBjb21wb25lbnRFdmVudGVkTWFya3VwID0gZ2V0Q29tcG9uZW50RXZlbnRlZE1hcmt1cChzdGF0ZU92ZXJpZGVNYXJrdXAsIGNvbXBvbmVudC5ldmVudHMpO1xuICAgIFxuICAgIGxldCBSZWFjdENvbXBvbmVudCA9IFxuYChcbmNsYXNzICR7Y29tcG9uZW50Lm5hbWV9IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMucHJvcHMuc3RhdGUgfHwgJHtjb21wb25lbnQuc3RhdGV9O1xuXG4gICAgICAgIC8vIEdlbmVyYXRlIGNzcyBhcyBhIHNlcGFyYXRlIGZpbGUgb24gZG93bmxvYWRcbiAgICB9XG5cbiAgICAke2NvbXBvbmVudC5ldmVudHMubWFwKGV2ZW50PT57XG4gICAgICAgIGlmKGV2ZW50LnB1Ymxpc2hhYmxlKXtcbiAgICAgICAgICAgIHJldHVybiBgXG4gICAgICAgICAgICBcbiAgICAke2V2ZW50LmlkK2V2ZW50Lm5hbWV9IChlKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZSkpXG4gICAgICAgICR7ZXZlbnQucmVkdWNlcn1cbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gICAgICAgIGUuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5wcm9wcy4ke2V2ZW50LnB1Ymxpc2hOYW1lfT8gdGhpcy5wcm9wcy4ke2V2ZW50LnB1Ymxpc2hOYW1lfShlKTpudWxsO1xuICAgIH1gXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYFxuICAgICR7ZXZlbnQuaWQrZXZlbnQubmFtZX0gKGUpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRlKSlcbiAgICAgICAgaWYod2luZG93Ll9fZGVidWcpe2RlYnVnZ2VyO31cbiAgICAgICAgJHtldmVudC5yZWR1Y2VyfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgICB9XG5gXG4gICAgfSkuam9pbihcIlxcblwiKX1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuICgke2NvbXBvbmVudEV2ZW50ZWRNYXJrdXB9KVxuICAgIH1cbn0pXG5gXG4gICAgcmV0dXJuIFJlYWN0Q29tcG9uZW50O1xufVxuIiwiXG5leHBvcnQgZnVuY3Rpb24gbmFtZVRvVVJMKHN0eWxlKSB7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwic3RhdGUgc2hvdWxkIGJlIGEgc3RyaW5nXCIpXG4gICAgfVxuXG4gICAgaWYod2luZG93LmFzc2V0cyAmJiB3aW5kb3cuYXNzZXRzLmxlbmd0aD4wKXtcbiAgICAgICAgLy8gQ2hlY2sgaWYgc3R5bGUgaGFzICRhc3NldHNcbiAgICAgICAgd2hpbGUgKHN0eWxlLmluY2x1ZGVzKFwiJGFzc2V0c1wiKSkge1xuICAgICAgICAgICAgLy8gUmVwbGFjZSBpdCB3aXRoIGFzc2V0IGJsb2IgdXJsXG4gICAgICAgICAgICBsZXQgYXNzZXROYW1lID0gc3R5bGUuc3BsaXQoXCJbJ1wiKVsxXS5zcGxpdChgXWApWzBdLnNwbGl0KFwiXCIpO1xuICAgICAgICAgICAgYXNzZXROYW1lLnBvcCgpO1xuICAgICAgICAgICAgYXNzZXROYW1lID0gYXNzZXROYW1lLmpvaW4oXCJcIik7XG4gICAgICAgICAgICBsZXQgYXNzZXQgPSB3aW5kb3cuYXNzZXRzLmZpbmQoYXNzZXQgPT4gYXNzZXQubmFtZSA9PT0gYXNzZXROYW1lKVxuXG4gICAgICAgICAgICBzdHlsZSA9IHN0eWxlLnJlcGxhY2UoYCRhc3NldHNbJyR7YXNzZXROYW1lfSddYCwgYHVybCgke2dldFVSTChhc3NldC5ibG9iLCBhc3NldE5hbWUpfSlgKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0eWxlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1cmxUb05hbWUoc3RhdGUpIHtcblxuICAgIC8vIENoZWNrIGlmIHN0eWxlIGhhcyAkYXNzZXRzXG4gICAgd2hpbGUgKHN0YXRlLmluY2x1ZGVzKHdpbmRvdy5sb2NhdGlvbi5ob3N0KSkge1xuICAgICAgICAvLyBSZXBsYWNlIGl0IHdpdGggYXNzZXQgYmxvYiB1cmxcbiAgICAgICAgbGV0IHVybCA9IHN0YXRlLnNwbGl0KFwidXJsKFwiKVsxXS5zcGxpdChgKWApWzBdXG5cbiAgICAgICAgbGV0IGFzc2V0ID0gd2luZG93LmFzc2V0cy5maW5kKGFzc2V0ID0+IGFzc2V0LnVybCA9PT0gdXJsKVxuXG4gICAgICAgIGlmIChhc3NldCkge1xuXG4gICAgICAgICAgICBzdGF0ZSA9IHN0YXRlLnJlcGxhY2UoYHVybCgke2Fzc2V0LnVybH0pYCwgYCRhc3NldHNbJyR7YXNzZXQubmFtZX0nXWApXG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gaGFzQXNzZXRzKHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlLmluY2x1ZGVzKFwiJGFzc2V0c1wiKTtcbn0iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG4vLyBTdHlsZXMuXG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCI7XG5cbi8vIENvbXBvbmVudHMuXG5cbmltcG9ydCBBc3NldCBmcm9tIFwiLi9Bc3NldFwiO1xuXG4vLyBFdmVudHMuXG5cbmltcG9ydCB7ZHJvcEhhbmRsZXIsIGRyYWdPdmVySGFuZGxlciwgZHJhZ0xlYXZlSGFuZGxlcn0gZnJvbSBcIi4vUmVkdWNlclwiO1xuXG4vLyBVdGlsaXRpZXMuXG5cbmltcG9ydCB7ZmV0Y2hGcm9tREIsIHdyaXRlVG9EQn0gZnJvbSBcIi4vZGJcIjtcblxuY2xhc3MgQXNzZXRzIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBjbGFzczogXCJkcm9wX3pvbmVcIixcbiAgICAgICAgICAgIGltYWdlVVJMOlwiXCIsXG4gICAgICAgICAgICBhc3NldHM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWRBc3NldDpcIlwiXG4gICAgICAgIH07XG5cbiAgICAgICAgLyogU3RvcmUgdGhlIGFzc2V0cyBpbiBsb2NhbCBEQiAqL1xuXG4gICAgICAgIHRoaXMud3JpdGVUb0RCID0gd3JpdGVUb0RCLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgYXBwZW5kVG9Cb2R5KGZpbGUpe1xuICAgICAgICB2YXIgYmluID0gdGhpcy5yZXN1bHQ7XG4gICAgICAgIHZhciBuZXdGaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG5ld0ZpbGUuaW5uZXJIVE1MID0gJ0xvYWRlZCA6ICcgKyBmaWxlLm5hbWUgKyAnIHNpemUgJyArIGZpbGUuc2l6ZSArICcgQic7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobmV3RmlsZSk7XG5cblxuICAgICAgICAvKiBLZWVwIHRoZSBpbWFnZSBpbiBET00gYXMgY2FjaGUuICovXG5cbiAgICAgICAgdmFyIGltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgIGltZy5maWxlID0gZmlsZTtcbiAgICAgICAgaW1nLnNyYyA9IGJpbjtcbiAgICAgICAgbmV3RmlsZS5hcHBlbmRDaGlsZChpbWcpO1xuICAgIH1cblxuICAgIHVwZGF0ZWRTZWxlY3RlZChlKSB7XG5cbiAgICAgICAgLyogS2VlcCB0cmFjayBvZiBzZWxlY3RlZCBhc3NldCBpbiB0aGUgc3RhdGUgKi9cblxuICAgICAgICBsZXQgYXNzZXROYW1lID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIpOyBcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzZWxlY3RlZEFzc2V0OiBhc3NldE5hbWVcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgLyogQ3JlYXRlIGFuIGFzc2V0IGNvbXBvbmVudCBmb3IgZWFjaCBhc3NldHMuICovXG5cbiAgICAgICAgbGV0IGFzc2V0cyA9IHRoaXMuc3RhdGUuYXNzZXRzLm1hcChhc3NldD0+IDxBc3NldCBhc3NldD17YXNzZXR9IHNlbGVjdGVkPXt0aGlzLnN0YXRlLnNlbGVjdGVkQXNzZXR9IG9uU2VsZWN0ZWQ9e3RoaXMudXBkYXRlZFNlbGVjdGVkLmJpbmQodGhpcyl9Lz4pO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJhc3NldHNcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2ZldGNoRnJvbURCLmJpbmQodGhpcyl9PkxvYWQgQXNzZXRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXt0aGlzLnN0YXRlLmNsYXNzfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Ecm9wPXtkcm9wSGFuZGxlci5iaW5kKHRoaXMpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2RyYWdPdmVySGFuZGxlci5iaW5kKHRoaXMpfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ0xlYXZlPXtkcmFnTGVhdmVIYW5kbGVyLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgPHA+RHJhZyBvbmUgb3IgbW9yZSBmaWxlcyB0byB0aGlzIERyb3AgWm9uZSAuLi48L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2VsZWN0ZWRBc3NldC5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHthc3NldHN9XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXNzZXRzO1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vU3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCJcXG4vKiBTaG93IGRhc2hlZCBvdXRsaW5lIGZvciB0aGUgZHJvcCB6b25lLiovXFxuXFxuLmRyb3Bfem9uZSB7XFxuICBib3JkZXI6IDFweCBsaWdodGdyYXkgZGFzaGVkO1xcbiAgd2lkdGg6ICAyMDBweDtcXG4gIGhlaWdodDogMTAwcHg7XFxufVxcblxcbi8qIFNob3cgZGFzaGVkIG91dGxpbmUgZHVyaW5nIGRyYWcgb3Zlci4gKi9cXG5cXG4uZHJhZ19vdmVyIHtcXG4gIGJvcmRlcjogMnB4IGxpZ2h0Z3JheSBkYXNoZWQ7XFxuICB3aWR0aDogIDIwMHB4O1xcbiAgaGVpZ2h0OiAxMDBweDtcXG59XFxuXFxuLyogR2l2ZSBzb21lIHNwYWNpbmcgYXJvdW5kIGFzc2V0IG5hbWUuICovXFxuXFxuLmFzc2V0cyBwe1xcbiAgcGFkZGluZzoxNXB4OyBcXG59XCIsIFwiXCJdKTtcblxuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuLy8gU3R5bGVzLlxuXG5pbXBvcnQgIFwiLi9TdHlsZS5jc3NcIjtcblxuY2xhc3MgQXNzZXQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGRhdGEtbmFtZT17dGhpcy5wcm9wcy5hc3NldC5uYW1lfSBvbkNsaWNrPXt0aGlzLnByb3BzLm9uU2VsZWN0ZWR9Pnt0aGlzLnByb3BzLmFzc2V0Lm5hbWV9PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBc3NldDtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiXFxuLyogU2hvdyBzZWxlY3RlZCBhc3NldCB3aXRoIGEgbGlnaHQgZGFzaGVkIG91dGxpbmUgKi9cXG5cXG4uc2VsZWN0ZWRBc3NldHtcXG4gICAgYm9yZGVyOiAxcHggbGlnaHRncmF5IGRhc2hlZDtcXG59XCIsIFwiXCJdKTtcblxuIiwiXG4vLyBQdWJsaWMgZnVuY3Rpb25zLlxuXG5leHBvcnQgZnVuY3Rpb24gZHJvcEhhbmRsZXIoZXYpIHtcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLyogU3RvcmUgdGhlIGltYWdlIGluIERCIGFuZCBpbiBET00gYWZ0ZXIgZHJvcCAqL1xuXG4gICAgW10uZm9yRWFjaC5jYWxsKGV2LmRhdGFUcmFuc2Zlci5maWxlcywgKGZpbGUpPT57XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICAgICAgcmVhZGVyLm9ubG9hZGVuZCA9ICBmdW5jdGlvbiAoZXZlbnQsYikge1xuICAgICAgICAgICAgLy8gMS4gYXBwZW5kIHRvIGJvZHlcbiAgICAgICAgICAgIC8vIDIuIHdyaXRlIHRvIGRiLlxuICAgICAgICAgICAgdGhpcy5hcHBlbmRUb0JvZHkoZmlsZSk7XG4gICAgICAgICAgICB0aGlzLndyaXRlVG9EQihldmVudC50YXJnZXQucmVzdWx0LCBmaWxlLm5hbWUpO1xuXG4gICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICB9KVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNsYXNzOiBcImRyb3Bfem9uZVwiXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYWdPdmVySGFuZGxlcihldikge1xuICAgIGNvbnNvbGUubG9nKCdGaWxlKHMpIGluIGRyb3Agem9uZScpO1xuXG4gICAgLyogU2hvdyBkcmFnIG92ZXIgdmlzdWFscyAqL1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNsYXNzOiBcImRyYWdfb3ZlclwiXG4gICAgfSlcblxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkcmFnTGVhdmVIYW5kbGVyKGUpIHtcblxuICAgIC8qIFNob3cgZHJvcCB2aXN1YWxzICovXG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgY2xhc3M6IFwiZHJvcF96b25lXCJcbiAgICB9KVxufSIsIlxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlVG9EQihyZXN1bHQsIG5hbWUpIHtcbiAgICB3aW5kb3cuaURCLmdldChuYW1lKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgaW1nLmhyZWYgPSBkYXRhLnJlc3VsdDtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpbWFnZVVSTDogZGF0YS5yZXN1bHRcbiAgICAgICAgfSlcbiAgICB9KVxuICAgIHdpbmRvdy5pREIucHV0KHsgbmFtZTogbmFtZSwgcmVzdWx0OiByZXN1bHQgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoRnJvbURCKCkge1xuICAgIHdpbmRvdy5pREIuZ2V0QWxsKCkudGhlbihkYXRhID0+IHtcbiAgICAgICAgLy8gc2F2ZSBpdCB0byB3aW5kb3dcblx0XHR3aW5kb3cuYXNzZXRzID0gZGF0YS5tYXAoaW1hZ2UgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZTogaW1hZ2UubmFtZSxcblx0XHRcdFx0YmxvYjogaW1hZ2UucmVzdWx0LFxuXHRcdFx0XHR1cmw6IGdldFVSTCggaW1hZ2UucmVzdWx0KVxuXHRcdFx0fVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgYXNzZXRzOiB3aW5kb3cuYXNzZXRzXG4gICAgICAgIH0pXG4gICAgfSk7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBwb3BIaXN0b3J5IH0gZnJvbSBcIi4uL3V0aWxpdGllcy9TdG9yYWdlXCI7XG5cbmltcG9ydCBcIi4vU3R5bGUuY3NzXCI7XG5cbmNsYXNzIEhpc3RvcnkgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIHJlZnJlc2hUb1ByZXZpb3VzKCkge1xuICAgICAgICBwb3BIaXN0b3J5KCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHVsPlxuICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17dGhpcy5yZWZyZXNoVG9QcmV2aW91cy5iaW5kKHRoaXMpfT5HbyBiYWNrPC9idXR0b24+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgSGlzdG9yeTtcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9TdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnNlbGVjdGVkLCAuZ3JlZW4ge1xcbiAgICBib3JkZXI6IDFweCBzb2xpZCBncmVlbjtcXG4gICAgYmFja2dyb3VuZDogcmdiKDQzLCA0MywgNDMpO1xcbn1cXG4uc2VsZWN0ZWRBc3NldHtcXG4gICAgYm9yZGVyOiAxcHggbGlnaHRncmF5IGRhc2hlZDtcXG59XCIsIFwiXCJdKTtcblxuIiwiLy8gTGlicmFyaWVzLlxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG4vLyBSdW50aW1lIHV0aWxpdGllcy5cblxuaW1wb3J0IHvCoGdldE5lc3RlZENvbXBvbmVudHMsIHNhdmVDb21wb25lbnRzVG9XaW5kb3cgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL1J1bnRpbWVcIlxuXG4vLyBTdHlsZXMuXG5cbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cbmNsYXNzIER5bmFtaWNDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbXBvbmVudDogdGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgaWYoIXdpbmRvd1t0aGlzLnN0YXRlLmNvbXBvbmVudC5uYW1lXSl7XG4gICAgICAgICAgICBsZXQgbmVzdGVkQ29tcG9uZW50cyA9IGdldE5lc3RlZENvbXBvbmVudHModGhpcy5zdGF0ZS5jb21wb25lbnQpO1xuICAgICAgICAgICAgaWYgKG5lc3RlZENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNhdmVDb21wb25lbnRzVG9XaW5kb3cobmVzdGVkQ29tcG9uZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZighd2luZG93W3RoaXMuc3RhdGUuY29tcG9uZW50Lm5hbWVdKXtcbiAgICAgICAgICAgIHJldHVybiAoPHA+Tm8gY29tcG9uZW50IHNlbGVjdGVkLjwvcD4pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoIHdpbmRvd1t0aGlzLnN0YXRlLmNvbXBvbmVudC5uYW1lXSApO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBEeW5hbWljQ29tcG9uZW50OyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmhpbnR7XFxuICAgIGhlaWdodDoxMDBweDtcXG4gICAgd2lkdGg6MTAwJTtcXG4gICAgYm9yZGVyOiAxcHggZGFzaGVkIGdyZWVuO1xcbn1cXG5cXG4uaGludERyYWdPdmVye1xcbiAgICBhbmltYXRpb246IGJsaW5rIDFzIGluZmluaXRlO1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIGJsaW5rIHtcXG4gICAgZnJvbSB7XFxuICAgICAgICBib3JkZXI6IDFweCBkYXNoZWQgZ3JlZW47XFxuICAgIH1cXG4gIFxcbiAgICB0byB7XFxuICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgZ3JlZW47XFxuICAgIH1cXG4gIH1cXG5cXG4uaGludE5vRHJvcHtcXG4gICAgYW5pbWF0aW9uOiBibGlua1JlZCAxcyBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyBibGlua1JlZCB7XFxuICAgIGZyb20ge1xcbiAgICAgICAgYm9yZGVyOiAxcHggZGFzaGVkIHJlZDtcXG4gICAgfVxcbiAgXFxuICAgIHRvIHtcXG4gICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCByZWQ7XFxuICAgIH1cXG4gIH1cIiwgXCJcIl0pO1xuXG4iLCIvLyBMaWJyYXJpZXMuXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxuY2xhc3MgQ2VudGVyIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjZW50ZXJcIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBDZW50ZXI7IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuY2VudGVye1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHRvcDogNTAlO1xcbiAgICBsZWZ0OiA1MCU7XFxuICAgIC1tb3otdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpO1xcbn1cIiwgXCJcIl0pO1xuXG4iLCIvLyBMaWJyYXJpZXMuXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxuY2xhc3MgQm90dG9tIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJCb3R0b21cIj5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBCb3R0b207IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYm90dG9te1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHotaW5kZXg6IDEwMDAwMDAwMDtcXG4gICAgYm90dG9tOjBweDtcXG4gICAgd2lkdGg6IDEwMHZ3O1xcbiAgICBhbmltYXRpb246IHNsaWRlLXVwIDAuNHMgZWFzZTtcXG59XFxuXFxuQGtleWZyYW1lcyBzbGlkZS11cCB7XFxuICAgIDAlIHtcXG4gICAgICAgIG9wYWNpdHk6IDA7XFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7XFxuICAgIH1cXG4gICAgMTAwJSB7XFxuICAgICAgICBvcGFjaXR5OiAxO1xcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApO1xcbiAgICB9XFxufVwiLCBcIlwiXSk7XG5cbiIsIi8vIExpYnJhcmllcy5cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgXCIuL3N0eWxlLmNzc1wiO1xuXG5jbGFzcyBMZWZ0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7fVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsZWZ0SXRlbVwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IExlZnQ7IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIikoZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIubGVmdEl0ZW17XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDowcHg7XFxuICAgIHotaW5kZXg6MTAwMDAwO1xcbiAgICBhbmltYXRpb246IHNsaWRlLXRvLXNjcmVlbiAwLjdzIGVhc2U7XFxufVxcblxcbkBrZXlmcmFtZXMgc2xpZGUtdG8tc2NyZWVuIHtcXG4gICAgMCUge1xcbiAgICAgICAgbGVmdDotMzAwcHg7XFxuICAgIH1cXG4gICAgMTAwJSB7XFxuICAgICAgICBsZWZ0OiAwcHg7XFxuICAgIH1cXG59XCIsIFwiXCJdKTtcblxuIiwiLy8gTGlicmFyaWVzLlxuXG5pbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5cbmNsYXNzIFJpZ2h0IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzZWxlY3RlZDp0aGlzLnByb3BzLnNlbGVjdGVkXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVTZWxlY3RlZFRhYihldmVudCl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2VsZWN0ZWQ6ZXZlbnQudGFyZ2V0LmlubmVyVGV4dFxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICAvKiogUmVhY3QgZGVzaWduIGNhbiBiZSBtYWRlIHNsaWNrIGlmIGl0IHRha2VzIGNhcmUgb2YgTWF0aC5SYW5kIGFuZCB0aGlzIGNvbmRpdGlvbmFsIGNoZWNrICovXG4gICAgICAgIC8qKiBNb3JlIG9wcG9ydHVuaXR5IHRvIG1vdmUgdG93YXJkcyBzdGF0ZSBkcml2ZW4gY29tcG9uZW50IGRldmVsb3BtZW50ICovXG5cbiAgICAgICAgaWYodGhpcy5zdGF0ZS5zZWxlY3RlZCE9PXRoaXMucHJvcHMuc2VsZWN0ZWQpe1xuXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiUmlnaHRJdGVtIGNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVuLm1hcChjaGlsZD0+e1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAoPGRpdiBjbGFzc05hbWU9e2NoaWxkLnByb3BzLnRpdGxlPT09dGhpcy5zdGF0ZS5zZWxlY3RlZD8gXCJ0YWJzIHRpdGxlXCI6IFwidGFic1wifSBvbkNsaWNrPXt0aGlzLnVwZGF0ZVNlbGVjdGVkVGFiLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGQucHJvcHMudGl0bGV9XG4gICAgICAgICAgICAgICAgPC9kaXY+KVxuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFiLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW4uZmlsdGVyKGNoaWxkPT5jaGlsZC5wcm9wcy50aXRsZT09PXRoaXMuc3RhdGUuc2VsZWN0ZWQpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJpZ2h0OyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLlJpZ2h0SXRlbXtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDowcHg7XFxuICAgIGFuaW1hdGlvbjogc2xpZGUtcmlnaHQgMC4ycyBlYXNlO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIG92ZXJmbG93OiBzY3JvbGw7XFxuICAgIHdpZHRoOjQwMHB4O1xcbn1cXG5cXG5Aa2V5ZnJhbWVzIHNsaWRlLXJpZ2h0IHtcXG4gICAgMCUge1xcbiAgICAgICAgb3BhY2l0eTogMDtcXG4gICAgICAgIHJpZ2h0Oi0xMDBweDtcXG4gICAgfVxcbiAgICAxMDAlIHtcXG4gICAgICAgIG9wYWNpdHk6IDE7XFxuICAgICAgICByaWdodDogMHB4O1xcbiAgICB9XFxufVxcblxcbi50YWItY29udGVudHtcXG4gICAgaGVpZ2h0OjkxJTtcXG4gICAgYm9yZGVyOiAxcHggIzQwNDA0MCBzb2xpZDtcXG59XFxuXFxuLnRhYi1jb250ZW50IHVsIHtcXG4gICAgcGFkZGluZzogMTJweDtcXG59XFxuXFxuLnRhYnMge1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIGN1cnNvcjogZGVmYXVsdDtcXG4gICAgXFxuICAgIG1hcmdpbi10b3A6IDE1cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDExcHg7XFxuICAgIGNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XFxuICAgIHBhZGRpbmc6IDVweDtcXG4gICAgZm9udC1zaXplOiAxMnB4O1xcbn1cIiwgXCJcIl0pO1xuXG4iLCIvLyBMaWJyYXJpZXMuXG5cbmltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcblxuY2xhc3MgQ29udGV4dE1lbnUgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHt9XG4gICAgfVxuXG4gICAgY2xvc2VDb250ZXh0TWVudSgpe1xuICAgICAgICB0aGlzLnByb3BzLm9uTWVzc2FnZShcIkhJREVcIik7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkNvbnRleHRNZW51XCIgc3R5bGU9e3RoaXMucHJvcHMucG9zaXRpb259PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbnRleHRNZW51OyIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLkNvbnRleHRNZW51e1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig2NCwgNjQsIDY0KTtcXG4gICAgYm94LXNoYWRvdzogMHB4IDBweCAzMHB4IGJsYWNrO1xcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XFxuICAgIHBhZGRpbmc6MHB4O1xcbiAgICB6LWluZGV4OiAxMDAwMDAwMDtcXG59XFxuLmNvbnRleHRNZW51T3B0aW9ucyBsaSB7XFxuICAgIHBhZGRpbmc6IDE1cHg7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbn1cXG5cXG4uY29udGV4dE1lbnVPcHRpb25ze1xcbiAgICBwYWRkaW5nLWxlZnQ6MHB4O1xcbn1cXG5cXG4vKiogRGVtbyBmb3IgcmVzaXplIGh0dHBzOi8vY29kZXBlbi5pby9aZXJvWC1ERy9wZW4vdmpkb1llICoqL1wiLCBcIlwiXSk7XG5cbiIsImltcG9ydCB7d3JpdGVEYXRhfSBmcm9tIFwiLi4vdXRpbGl0aWVzL1N0b3JhZ2VcIjtcblxuaW1wb3J0IHtmaW5kUGFyZW50fSBmcm9tIFwiLi4vdXRpbGl0aWVzL0NvbXBvbmVudHMvRm9sZGVycy9maW5kRm9sZGVyc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlRXZlbnQgKGV2ZW50cykge1xuICAgIC8vIENyZWF0ZSBuZXcgc3RhdGUuXG4gICAgbGV0IG5ld0VsZW1lbnRzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zdGF0ZSkuY29tcG9uZW50cztcbiAgICBsZXQgc2VsZWN0ZWRDb21wb25lbnQgPSBuZXdFbGVtZW50cy5maW5kKGVsZW1lbnQ9PmVsZW1lbnQubmFtZT09PXRoaXMuc3RhdGUuc2VsZWN0ZWRDb21wb25lbnQubmFtZSlcblxuICAgIHNlbGVjdGVkQ29tcG9uZW50LmV2ZW50cyA9IGV2ZW50cztcblxuICAgIC8vIFNldCBzdGF0ZSB0byB0aGUgbmV3IHN0YXRlLlxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBlbGVtZW50czogbmV3RWxlbWVudHNcbiAgICB9KTtcblxuICAgIHdyaXRlRGF0YShcInVpLWVkaXRvclwiLCBuZXdFbGVtZW50cylcblxufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVDb25maWcoY29uZmlnKXtcbiAgICBcbiAgICBsZXQgbmV3RWxlbWVudHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnN0YXRlKS5jb21wb25lbnRzO1xuICAgIFxuICAgIGxldCBwYXJlbnQgPSBuZXdFbGVtZW50cy5maW5kKGVsZW1lbnQ9PmVsZW1lbnQubmFtZT09PWNvbmZpZy5wYXJlbnROYW1lKTtcbiAgICBsZXQgY2hpbGQgPSBuZXdFbGVtZW50cy5maW5kKGVsZW1lbnQ9PmVsZW1lbnQubmFtZT09PWNvbmZpZy5jaGlsZE5hbWUpO1xuXG4gICAgcGFyZW50LnN0YXRlID0gSlNPTi5wYXJzZShwYXJlbnQuc3RhdGUpO1xuXG4gICAgaWYocGFyZW50LmNvbmZpZyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgcGFyZW50LmNvbmZpZyA9IHt9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcGFyZW50LmNvbmZpZyA9IEpTT04ucGFyc2UocGFyZW50LmNvbmZpZyk7XG4gICAgfVxuICAgIHBhcmVudC5jb25maWdbY2hpbGQubmFtZV0gPSBjb25maWcuY29uZmlnO1xuICAgIGlmKHBhcmVudC5jb25maWdbY2hpbGQubmFtZV0ub3ZlcnJpZGUpIHsgICAgXG4gICAgICAgIHBhcmVudC5zdGF0ZVtjaGlsZC5uYW1lXSA9IFtKU09OLnBhcnNlKGNoaWxkLnN0YXRlKV07XG4gICAgfSBcbiAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHBhcmVudC5zdGF0ZVtjaGlsZC5uYW1lXTtcbiAgICB9XG5cblxuICAgIHBhcmVudC5zdGF0ZSA9IEpTT04uc3RyaW5naWZ5KHBhcmVudC5zdGF0ZSlcbiAgICBwYXJlbnQuY29uZmlnPSBKU09OLnN0cmluZ2lmeShwYXJlbnQuY29uZmlnKVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVsZW1lbnRzOiBuZXdFbGVtZW50c1xuICAgIH0pXG5cbiAgICB3cml0ZURhdGEoXCJ1aS1lZGl0b3JcIiwgbmV3RWxlbWVudHMpXG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVFbGVtZW50IChlbGVtZW50KSB7XG4gICAgbGV0IGNvbXBvbmVudHMgPSBBcnJheS5mcm9tKHRoaXMuc3RhdGUuY29tcG9uZW50cyk7XG4gICAgbGV0IG5ld0VsZW1lbnQ7XG4gICAgXG4gICAgLy8gQ2hlY2sgaWYgZWxlbWVudCBleGlzdC5cbiAgICBsZXQgZWxlbWVudEV4aXN0ID0gY29tcG9uZW50cy5maW5kKGNvbXBvbmVudD0+Y29tcG9uZW50Lm5hbWU9PT1lbGVtZW50Lm5hbWUpIHx8IGNvbXBvbmVudHMuZmluZChjb21wb25lbnQ9PmNvbXBvbmVudC5uYW1lPT09ZWxlbWVudC50cnVlTmFtZSk7XG4gICAgbGV0IHNlbGVjdGVkQ29tcG9uZW50ID0gY29tcG9uZW50cy5maW5kKGNvbXBvbmVudD0+Y29tcG9uZW50Lm5hbWU9PT10aGlzLnN0YXRlLnNlbGVjdGVkQ29tcG9uZW50Lm5hbWUpO1xuICAgIGxldCBzZWxlY3RlZEluZGV4ID0gY29tcG9uZW50cy5maW5kSW5kZXgoY29tcG9uZW50PT5jb21wb25lbnQubmFtZT09PXRoaXMuc3RhdGUuc2VsZWN0ZWRDb21wb25lbnQubmFtZSk7XG4gICAgaWYoZWxlbWVudEV4aXN0KXtcbiAgICAgICAgLy8gRmluZCB0aGUgZWxlbWVudC5cbiAgICAgICAgbGV0IGVsZW1lbnRVbmRlckVkaXQgPSBzZWxlY3RlZENvbXBvbmVudDtcblxuICAgICAgICAvLyBNZXJnZS5cbiAgICAgICAgZWxlbWVudFVuZGVyRWRpdCA9IE9iamVjdC5hc3NpZ24oZWxlbWVudFVuZGVyRWRpdCwgZWxlbWVudClcblxuICAgICAgICAvLyBQdXNoIGl0IHRvIG9yaWdpbmFsIGxpc3QuXG4gICAgICAgIGNvbXBvbmVudHNbc2VsZWN0ZWRJbmRleF0gPSBlbGVtZW50VW5kZXJFZGl0O1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBuZXdFbGVtZW50ID0ge1xuICAgICAgICAgICAgbmFtZTogZWxlbWVudC5uYW1lLFxuICAgICAgICAgICAgbWFya3VwOiBlbGVtZW50Lm1hcmt1cCxcbiAgICAgICAgICAgIGV2ZW50czogW10sXG4gICAgICAgICAgICBzdGF0ZTogZWxlbWVudC5zdGF0ZSB8fCBcInt9XCIsXG4gICAgICAgICAgICBzdHlsZTogZWxlbWVudC5zdHlsZSxcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIGlkOiBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSoxMDAwKSxcbiAgICAgICAgICAgIGNvbmZpZzpcInt9XCJcbiAgICAgICAgfTtcblxuICAgICAgICBkZWxldGUgbmV3RWxlbWVudC50cnVlTmFtZTtcbiAgICAgICAgY29tcG9uZW50cy5wdXNoKG5ld0VsZW1lbnQpO1xuICAgICAgICBzZWxlY3RlZEluZGV4ID0gY29tcG9uZW50cy5sZW5ndGgtMTtcblxuICAgICAgICAvLyBGaW5kIG5vRm9sZGVyXG4gICAgICAgIHRoaXMuc3RhdGUuZm9sZGVyc1swXS5jb250ZW50cy5wdXNoKGVsZW1lbnQubmFtZSlcbiAgICAgICAgLy8gUHVzaCBuZXcgY29tcG9uZW50IGludG8gY29udGVudHMuXG4gICAgfVxuICAgIFxuICAgIGlmKGVsZW1lbnQudHJ1ZU5hbWUhPT1lbGVtZW50Lm5hbWUgJiYgZWxlbWVudC50cnVlTmFtZSE9PVwiXCIpeyAvLyByZW5hbWUgdGhlIGZvbGRlclxuICAgICAgICAvLyBGaW5kIHRoZSBjb250ZW50IGZyb20gZm9sZGVyXG4gICAgICAgIGxldCBwYXJlbnQgPSBmaW5kUGFyZW50KCBlbGVtZW50LnRydWVOYW1lLCB0aGlzLnN0YXRlLmZvbGRlcnNbMF0gKVxuICAgICAgICBsZXQgaW5kZXggPSBwYXJlbnQuY29udGVudHMuZmluZEluZGV4KGNvbnRlbnQ9PmNvbnRlbnQ9PT1lbGVtZW50LnRydWVOYW1lKVxuICAgICAgICBwYXJlbnQuY29udGVudHMuc3BsaWNlKGluZGV4LDEsIGVsZW1lbnQubmFtZSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGVsZW1lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBlbGVtZW50OiB7XG4gICAgICAgICAgICBuYW1lOiBlbGVtZW50Lm5hbWUsXG4gICAgICAgICAgICBtYXJrdXA6IGVsZW1lbnQubWFya3VwLFxuICAgICAgICAgICAgc3R5bGU6IGVsZW1lbnQuc3R5bGUsXG4gICAgICAgICAgICBzdGF0ZTogZWxlbWVudC5zdGF0ZSxcbiAgICAgICAgICAgIGV2ZW50czogZWxlbWVudC5ldmVudHMgfHwgW11cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0VkaXRvcjogZmFsc2UsXG4gICAgICAgIGZvbGRlcnM6IHRoaXMuc3RhdGUuZm9sZGVyc1xuICAgIH0pO1xuXG5cbiAgICB3cml0ZURhdGEoXCJmb2xkZXJzXCIsIHRoaXMuc3RhdGUuZm9sZGVycylcbiAgICB3cml0ZURhdGEoXCJ1aS1lZGl0b3JcIiwgY29tcG9uZW50cylcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRDb21wb25lbnQgKCBjb21wb25lbnROYW1lLCBlKSB7XG5cbiAgICAvLyBGaW5kIHRoZSBlbGVtZW50IGZyb20gc3RhdGUgdGhhdCBtYXRjaGVzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZWxlbWVudC5cbiAgICBsZXQgc2VsZWN0ZWRDb21wb25lbnQgPSB0aGlzLnN0YXRlLmNvbXBvbmVudHMuZmluZChjb21wb25lbnQ9PmNvbXBvbmVudC5uYW1lPT09Y29tcG9uZW50TmFtZSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIHN0YXRlIHdpdGggc2VsZWN0ZWRFbGVtZW50LlxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBzZWxlY3RlZENvbXBvbmVudFxuICAgIH0pXG59XG4iLCJpbXBvcnQge3dyaXRlRGF0YX0gZnJvbSBcIi4uL3V0aWxpdGllcy9TdG9yYWdlXCI7XG5pbXBvcnQge2ZpbmRGb2xkZXIsIGZpbmRQYXJlbnQsIGZpbmRQYXJlbnRGb2xkZXJ9IGZyb20gXCIuLi91dGlsaXRpZXMvQ29tcG9uZW50cy9Gb2xkZXJzL2ZpbmRGb2xkZXJzXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkRlbGV0ZUNvbXBvbmVudChldmVudCkge1xuXG4gICAgbGV0IGNvbXBvbmVudE5hbWUgPSB0aGlzLnN0YXRlLnNlbGVjdGVkQ29tcG9uZW50Lm5hbWU7XG4gICAgbGV0IGZvbGRlciA9IGZpbmRQYXJlbnQoY29tcG9uZW50TmFtZSwgdGhpcy5zdGF0ZS5mb2xkZXJzWzBdKVxuXG4gICAgbGV0IGNvbnRlbnRJbmRleCA9IGZvbGRlci5jb250ZW50cy5maW5kSW5kZXgoY29udGVudD0+Y29udGVudD09PWNvbXBvbmVudE5hbWUpO1xuICAgIGZvbGRlci5jb250ZW50cy5zcGxpY2UoY29udGVudEluZGV4LCAxKTtcbiAgICBsZXQgY29tcG9uZW50cyA9IEFycmF5LmZyb20odGhpcy5zdGF0ZS5jb21wb25lbnRzKTtcbiAgICBcbiAgICBsZXQgaW5kZXggPSBjb21wb25lbnRzLmZpbmRJbmRleChjb21wb25lbnQ9PmNvbXBvbmVudC5uYW1lPT09Y29tcG9uZW50TmFtZSlcblxuICAgIGNvbXBvbmVudHMuc3BsaWNlKGluZGV4LDEpO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICAgIGZvbGRlcnM6IHRoaXMuc3RhdGUuZm9sZGVyc1xuICAgIH0pXG5cbiAgICB3cml0ZURhdGEoXCJ1aS1lZGl0b3JcIiwgY29tcG9uZW50cyk7XG4gICAgd3JpdGVEYXRhKFwiZm9sZGVyc1wiLCB0aGlzLnN0YXRlLmZvbGRlcnMpO1xuXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBvbkV4dGVuZENvbXBvbmVudCgpe1xuXG4gICAgbGV0IGNvbXBvbmVudCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0ZS5zZWxlY3RlZENvbXBvbmVudCkpXG4gICAgbGV0IGZvbGRlciA9IGZpbmRQYXJlbnQoY29tcG9uZW50Lm5hbWUsIHRoaXMuc3RhdGUuZm9sZGVyc1swXSk7XG5cbiAgICBjb21wb25lbnQubmFtZT0gY29tcG9uZW50Lm5hbWUrXCJfY29weVwiO1xuXG4gICAgZm9sZGVyLmNvbnRlbnRzLnB1c2goY29tcG9uZW50Lm5hbWUpO1xuICAgIFxuICAgIGNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIFxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjb21wb25lbnRzOiBjb21wb25lbnRzLFxuICAgICAgICBmb2xkZXJzOiB0aGlzLnN0YXRlLmZvbGRlcnNcbiAgICB9KVxuXG4gICAgd3JpdGVEYXRhKFwidWktZWRpdG9yXCIsIGNvbXBvbmVudHMpO1xuICAgIHdyaXRlRGF0YShcImZvbGRlcnNcIiwgdGhpcy5zdGF0ZS5mb2xkZXJzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG9uRGVsZXRlRm9sZGVyKFRZUEUsIGZvbGRlck5hbWUpe1xuXG5cbiAgICBsZXQgZm9sZGVycyA9IEFycmF5LmZyb20odGhpcy5zdGF0ZS5mb2xkZXJzKVxuICAgIGxldCBub0ZvbGRlciA9IGZvbGRlcnNbMF07XG5cbiAgICAvKiogRGVsZXRlIHRoZSBmb2xkZXIuIFdoaWxlIGRlbGV0aW5nIG9ubHkgdGhlIGZvbGRlciwgbW92ZSBpdHMgY29udGVudHMgdG8gcGFyZW50IGZvbGRlciAqL1xuXG4gICAgbGV0IHBhcmVudEZvbGRlciA9IGZpbmRQYXJlbnRGb2xkZXIoZm9sZGVyTmFtZSwgZm9sZGVyc1swXSlcblxuICAgIGxldCBmb2xkZXJUb0RlbGV0ZSA9IGZpbmRGb2xkZXIoZm9sZGVyTmFtZSwgZm9sZGVyc1swXSlcblxuICAgIHN3aXRjaCAoVFlQRSkge1xuICAgICAgICBjYXNlIFwiRk9MREVSX1JFVEFJTl9DT05URU5UU1wiOlxuICAgICAgICAgICAgbm9Gb2xkZXIuY29udGVudHMucHVzaCguLi5mb2xkZXJUb0RlbGV0ZS5jb250ZW50cyk7XG4gICAgICAgICAgICBsZXQgZGVsZXRlSW5kZXggPSBwYXJlbnRGb2xkZXIuY29udGVudHMuZmluZEluZGV4KGNvbnRlbnQ9PnR5cGVvZiBjb250ZW50ID09PSBcIm9iamVjdFwiICYmIGNvbnRlbnQubmFtZSA9PT0gZm9sZGVyTmFtZSlcbiAgICAgICAgICAgIHBhcmVudEZvbGRlci5jb250ZW50cy5zcGxpY2UoZGVsZXRlSW5kZXgsIDEpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVGb2xkZXJzKGZvbGRlcnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgICBjYXNlIFwiRk9MREVSX0FORF9DT05URU5UU1wiOlxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcIkVOVElSRV9GT0xERVJcIjpcblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSIsIi8vIExpYnJhcmllcy5cblxuaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuLy8gRGVwZW5kZW5jaWVzLlxuaW1wb3J0IFwiLi9JbmRleC9pbmRleC5jc3NcIjtcblxuLy8gQ29tcG9uZW50cy5cblxuaW1wb3J0IENvbXBvbmVudHMgZnJvbSBcIi4vQ29tcG9uZW50c1wiO1xuaW1wb3J0IEVkaXRvciBmcm9tIFwiLi9FZGl0b3JcIjtcbmltcG9ydCBFdmVudHMgZnJvbSBcIi4vRXZlbnRzXCI7XG5pbXBvcnQgQXNzZXRzIGZyb20gXCIuL0Fzc2V0c1wiO1xuaW1wb3J0IEhpc3RvcnkgZnJvbSBcIi4vSGlzdG9yeVwiO1xuaW1wb3J0IER5bmFtaWNDb21wb25lbnQgZnJvbSBcIi4vRHluYW1pY0NvbXBvbmVudFwiO1xuXG4vLyBCZWhhdmlvdXIgY29tcG9uZW50cy5cblxuaW1wb3J0IENlbnRlciBmcm9tIFwiLi9VdGlsaXRpZXMvQ29tcG9uZW50cy9DZW50ZXJcIjtcbmltcG9ydCBCb3R0b20gZnJvbSBcIi4vVXRpbGl0aWVzL0NvbXBvbmVudHMvQm90dG9tXCI7XG5pbXBvcnQgTGVmdCBmcm9tIFwiLi9VdGlsaXRpZXMvQ29tcG9uZW50cy9MZWZ0XCI7XG5pbXBvcnQgUmlnaHQgZnJvbSBcIi4vVXRpbGl0aWVzL0NvbXBvbmVudHMvUmlnaHRcIjtcblxuLy8gVXRpbGl0eSBjb21wb25lbnRzLlxuXG5pbXBvcnQgQ29udGV4dE1lbnUgZnJvbSBcIi4vdXRpbGl0aWVzL0NvbXBvbmVudHMvQ29udGV4dE1lbnVcIjtcblxuLy8gUmVkdWNlcnMuXG5pbXBvcnQgeyB1cGRhdGVFdmVudCwgdXBkYXRlQ29uZmlnLCBzYXZlRWxlbWVudCwgdXBkYXRlU2VsZWN0ZWRDb21wb25lbnQgfSBmcm9tIFwiLi9JbmRleC9SZWR1Y2VyXCI7XG5cbi8vIFV0aWxzXG5pbXBvcnQgeyByZWFkRGF0YSwgd3JpdGVEYXRhIH0gZnJvbSBcIi4vdXRpbGl0aWVzL1N0b3JhZ2VcIjtcbmltcG9ydCB7b25EZWxldGVDb21wb25lbnQsIG9uRGVsZXRlRm9sZGVyLCBvbkV4dGVuZENvbXBvbmVudH0gZnJvbSBcIi4vQ29tcG9uZW50cy9FdmVudHNcIjtcblxuY2xhc3MgSW5kZXggZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgbGV0IGNvbXBvbmVudHMgPSByZWFkRGF0YShcInVpLWVkaXRvclwiKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHMsXG4gICAgICAgICAgICBzZWxlY3RlZFRhZzogXCJcIixcbiAgICAgICAgICAgIGNvbXBvbmVudDoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgbWFya3VwOiBcIlwiLFxuICAgICAgICAgICAgICAgIHN0eWxlOiBcIlwiLFxuICAgICAgICAgICAgICAgIHN0YXRlOiBcInsgfVwiLFxuICAgICAgICAgICAgICAgIGV2ZW50czogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZWxlY3RlZENvbXBvbmVudDogXCJcIixcbiAgICAgICAgICAgIGZvbGRlcnM6IHJlYWREYXRhKFwiZm9sZGVyc1wiKSxcbiAgICAgICAgICAgIHNob3dFZGl0b3I6IGZhbHNlLFxuICAgICAgICAgICAgc2VsZWN0ZWRUYWI6IFwiRXZlbnRzXCJcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZUNvbmZpZyA9IHVwZGF0ZUNvbmZpZy5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZUV2ZW50ID0gdXBkYXRlRXZlbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYXZlRWxlbWVudCA9IHNhdmVFbGVtZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRDb21wb25lbnQgPSB1cGRhdGVTZWxlY3RlZENvbXBvbmVudC5iaW5kKHRoaXMpO1xuICAgICAgICBkb2N1bWVudC5vbmtleWRvd24gPSBmdW5jdGlvbiBrZXlkb3duKGUpe1xuICAgICAgICAgICAgaWYoZS5hbHRLZXkgJiYgZS5rZXlDb2RlPT02OSkgeyAvLyBBbHQgKyBFXG4gICAgICAgICAgICAgICAgLy8gT3Blbi9jbG9zZSBlZGl0b3IgaWYgYW55IGNvbXBvbmVudCBpcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzaG93RWRpdG9yOiAhdGhpcy5zdGF0ZS5zaG93RWRpdG9yXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGUuYWx0S2V5ICYmIGUua2V5Q29kZT09ODIpeyAvLyBBbHQgKyBSXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wZW5SaWdodDogIXRoaXMuc3RhdGUub3BlblJpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhYjogXCJFdmVudHNcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgIH1cblxuICAgIHVwZGF0ZUZvbGRlcnMoZm9sZGVycykge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGZvbGRlcnM6IGZvbGRlcnNcbiAgICAgICAgfSlcbiAgICAgICAgd3JpdGVEYXRhKFwiZm9sZGVyc1wiLCBmb2xkZXJzKVxuICAgIH1cblxuICAgIG9wZW5FZGl0b3IoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd0VkaXRvcjogdHJ1ZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9wZW5FeHBvcnRUYWIoZSl7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2VsZWN0ZWRUYWI6IFwiRXhwb3J0XCJcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvblNob3dDb250ZXh0TWVudShlKXtcbiAgICAgICAgXG4gICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNvbXBvbmVudFwiKSB8fCBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJjb21wb25lbnROYW1lXCIpKSB7IC8vIGNoZWNrIGlmIGl0IGlzIGEgY29tcG9uZW50LlxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0TWVudUNoaWxkcmVuID0gPHVsIGNsYXNzTmFtZT1cImNvbnRleHRNZW51T3B0aW9uc1wiPlxuICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXtvbkRlbGV0ZUNvbXBvbmVudC5iaW5kKHRoaXMpfT5EZWxldGUgQ29tcG9uZW50PC9saT5cbiAgICAgICAgICAgICAgICA8bGkgb25DbGljaz17dGhpcy5vcGVuRXhwb3J0VGFiLmJpbmQodGhpcyl9PkV4cG9ydCBDb21wb25lbnQ8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBvbkNsaWNrPXtvbkV4dGVuZENvbXBvbmVudC5iaW5kKHRoaXMpfT5FeHRlbmQgQ29tcG9uZW50PC9saT5cbiAgICAgICAgICAgIDwvdWw+O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmEtZm9sZGVyLW9wZW5cIikgfHwgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZmEtZm9sZGVyXCIpKSB7Ly8gY2hlY2sgaWYgaXQgaXMgYSBmb2xkZXIuXG4gICAgICAgICAgICBsZXQgZm9sZGVyTmFtZSA9IGUudGFyZ2V0LnBhcmVudEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1mb2xkZXItbmFtZVwiKTtcblxuICAgICAgICAgICAgdGhpcy5zdGF0ZS5jb250ZXh0TWVudUNoaWxkcmVuID0gIDx1bCBjbGFzc05hbWU9XCJjb250ZXh0TWVudU9wdGlvbnNcIj5cbiAgICAgICAgICAgIDxsaSBvbkNsaWNrPXtvbkRlbGV0ZUZvbGRlci5iaW5kKHRoaXMsIFwiRk9MREVSX1JFVEFJTl9DT05URU5UU1wiLCBmb2xkZXJOYW1lKX0+RGVsZXRlIGZvbGRlciBhbmQgcmV0YWluIGNvbnRlbnRzPC9saT5cbiAgICAgICAgICAgIDxsaSBvbkNsaWNrPXtvbkRlbGV0ZUZvbGRlci5iaW5kKHRoaXMsIFwiUkVUQUlOX0ZPTERFUl9ERUxFVEVfQ09OVEVOVFNcIixmb2xkZXJOYW1lKX0+S2VlcCBGb2xkZXIgYW5kIGRlbGV0ZSBjb250ZW50czwvbGk+XG4gICAgICAgICAgICA8bGkgb25DbGljaz17b25EZWxldGVGb2xkZXIuYmluZCh0aGlzLCBcIkVOVElSRV9GT0xERVJcIixmb2xkZXJOYW1lKX0+RGVsZXRlIEZvbGRlciBhbmQgY29udGVudHM8L2xpPlxuICAgICAgICAgICAgPGxpIG9uQ2xpY2s9e3RoaXMub3BlbkV4cG9ydFRhYi5iaW5kKHRoaXMpfT5FeHBvcnQgRm9sZGVyPC9saT5cbiAgICAgICAgPC91bD47XG5cbiAgICAgICAgfVxuICAgICAgICAgXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc2hvd0NvbnRleHRNZW51OnRydWUsXG4gICAgICAgICAgICBjb250ZXh0TWVudVBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgdG9wOiBgJHtlLmNsaWVudFl9cHhgLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGAke2UuY2xpZW50WH1weGBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuXG4gICAgaGlkZUNvbnRleHRNZW51KCl7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUuc2hvd0NvbnRleHRNZW51KXtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIHNob3dDb250ZXh0TWVudTogZmFsc2VcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNvbnRleHRNZW51TWVzc2FnZShtZXNzYWdlKXtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlKSB7XG4gICAgICAgICAgICBjYXNlIFwiSElERVwiOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBzaG93Q29udGV4dE1lbnU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSAgICBcblxuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ29tcG9uZW50ID0gdGhpcy5zdGF0ZS5zZWxlY3RlZENvbXBvbmVudCB8fCB0aGlzLnN0YXRlLmNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgcmFuZG9tS2V5ID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiAxMDAwKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgb25Db250ZXh0TWVudT17dGhpcy5vblNob3dDb250ZXh0TWVudS5iaW5kKHRoaXMpfSBvbkNsaWNrPXt0aGlzLmhpZGVDb250ZXh0TWVudS5iaW5kKHRoaXMpfT5cbiAgICAgICAgICAgICAgICA8TGVmdD5cbiAgICAgICAgICAgICAgICAgICAgPENvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e3RoaXMuc3RhdGUuY29tcG9uZW50c31cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlcnM9e3RoaXMuc3RhdGUuZm9sZGVyc31cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29tcG9uZW50PXt0aGlzLnN0YXRlLnNlbGVjdGVkQ29tcG9uZW50fVxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJDb21wb25lbnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb250cm9scz17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGtleT17cmFuZG9tS2V5fVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk9wZW5FZGl0b3I9e3RoaXMub3BlbkVkaXRvci5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb249e3RoaXMudXBkYXRlU2VsZWN0ZWRDb21wb25lbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkZvbGRlcnNVcGRhdGU9e3RoaXMudXBkYXRlRm9sZGVycy5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvTGVmdD5cbiAgICAgICAgICAgICAgICA8RHluYW1pY0NvbXBvbmVudCBvblNhdmU9e3RoaXMucHJvcHMub25TYXZlfSBrZXk9e3JhbmRvbUtleX0gY29tcG9uZW50PXtzZWxlY3RlZENvbXBvbmVudH0vPlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnNlbGVjdGVkQ29tcG9uZW50ICAmJiB0aGlzLnN0YXRlLm9wZW5SaWdodCA/XG4gICAgICAgICAgICAgICAgICAgIDxSaWdodCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXt0aGlzLnN0YXRlLnNlbGVjdGVkVGFifT5cbiAgICAgICAgICAgICAgICAgICAgICAgICA8RXZlbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtyYW5kb21LZXl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PXtzZWxlY3RlZENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFRhZz17dGhpcy5zdGF0ZS5zZWxlY3RlZFRhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzPXt0aGlzLnN0YXRlLmNvbXBvbmVudHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FdmVudHNVcGRhdGU9e3RoaXMudXBkYXRlRXZlbnR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Db25maWdVcGRhdGU9e3RoaXMudXBkYXRlQ29uZmlnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiRXZlbnRzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SGlzdG9yeSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkhpc3RvcnlcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXNzZXRzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiQXNzZXRzXCIvPlxuICAgICAgICAgICAgICAgICAgICA8L1JpZ2h0PlxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIG51bGx9XG5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5zaG93RWRpdG9yID9cbiAgICAgICAgICAgICAgICAgICAgPEJvdHRvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e3JhbmRvbUtleX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXtzZWxlY3RlZENvbXBvbmVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtzZWxlY3RlZENvbXBvbmVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmt1cD17c2VsZWN0ZWRDb21wb25lbnQubWFya3VwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXtzZWxlY3RlZENvbXBvbmVudC5zdHlsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17c2VsZWN0ZWRDb21wb25lbnQuc3RhdGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJFZGl0b3JcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2F2ZT17dGhpcy5zYXZlRWxlbWVudH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQm90dG9tPlxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWRDb21wb25lbnQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgPEJvdHRvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2VudGVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvd0VkaXRvclwib25DbGljaz17KCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dFZGl0b3I6IHRydWUgfSl9Pk9wZW4gRWRpdG9yPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9DZW50ZXI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JvdHRvbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuc2hvd0NvbnRleHRNZW51PzxDb250ZXh0TWVudSBjaGlsZHJlbj17dGhpcy5zdGF0ZS5jb250ZXh0TWVudUNoaWxkcmVufSBwb3NpdGlvbj17dGhpcy5zdGF0ZS5jb250ZXh0TWVudVBvc2l0aW9ufSBvbk1lc3NhZ2U9e3RoaXMub25Db250ZXh0TWVudU1lc3NhZ2UuYmluZCh0aGlzKX0vPjpudWxsfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuY29uc29sZS5sb2coXCJTb3VyY2UgY29kZSBodHRwczovL2dpdGh1Yi5jb20vaW12ZXRyaS91aS1lZGl0b3JcIilcblJlYWN0RE9NLnJlbmRlcig8SW5kZXggLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5kZXhcIikpOyJdLCJzb3VyY2VSb290IjoiIn0=