<div id="app"></div>
<div id="app2"></div>
<div id="app3"></div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>


    // 1. vue component with data, template.

    var app = new Vue({
        el: '#app',
        data: function(){
            return {
                message: 'Hello Vue!'
            }
        },
        template: '<div>{{ message }}</div>'
    })

    // 2. vue component with data, template and an event handler

    Vue.component('button-counter', {
        data: function () {
            let props = JSON.parse(JSON.stringify(this.message) );
            debugger;
            return {
                count: (props && props.count )|| 0,
                message: (props && props.text) || "gel"
            }
        },
        props: ['message', 'onMessage'],
        methods: {
            incrementCount(){
                this.count++;
                if(this.count==10){
                    debugger
                    this.onMessage();
                }
            }
        },
        template: '<button v-on:click="incrementCount" >You clicked me {{ count }}times. {{ message }}</button>'
    })

    // 3. vue component with a child component

    var app = new Vue({
        el: '#app2',
        data: function(){
            return {
                message: 'Hello Vue!'
            }
        },
        template: '<div>{{ message }}<button-counter></button-counter></div>'
    })


    // 4. vue component passing object data to a child component

    var app = new Vue({
        el: '#app3',
        data: function(){
            return {
                message: 'Hello blue!',
                content: {
                    text: "hello",
                    count : 5
                },
                count : 5
            }
        },
        methods: {
            receiveMessage(){
                this.content = {
                    text: "hello",
                    count : 5
                }
            }
        },
        template: '<div>{{ content.count }}<button-counter :message=content :onMessage="receiveMessage"></button-counter></div>'
    })


    


</script>